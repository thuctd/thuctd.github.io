"use strict";(self.webpackChunkdlxl=self.webpackChunkdlxl||[]).push([[536],{17536:(ot,U,r)=>{r.r(U),r.d(U,{AdminModule:()=>ue});var Q=r(5923),k=r(24809),Y=r(79531),I=r(85913),O=r(17721),p=r(36895),g=r(15861),T=r(15228),u=r(24006),it=r(15439),w=r.n(it),t=r(94650),S=r(25555),F=r(10875),G=r(94559),at=r(12012),x=r(9116),D=r(90455),N=r(4859),R=r(97392),q=r(284),h=r(59549),rt=r(46936),K=r(97012),lt=r(30627);function st(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.reload())}),t.TgZ(1,"mat-icon"),t._uU(2,"undo"),t.qZA()()}2&i&&t.Q6J("@slideIn",void 0)}function ut(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-icon",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.onDelete(o))}),t._uU(1,"delete"),t.qZA()}}function pt(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",34),t._uU(4),t.qZA(),t.TgZ(5,"td",34),t._UZ(6,"img",35),t.qZA(),t.TgZ(7,"td")(8,"a",36),t._uU(9),t.qZA()(),t.TgZ(10,"td",34)(11,"pre"),t._uU(12),t.ALo(13,"json"),t.qZA()(),t.TgZ(14,"td",34),t._uU(15),t.qZA(),t.TgZ(16,"td"),t.YNc(17,ut,2,0,"mat-icon",37),t.qZA()()),2&i){const e=l.$implicit,n=l.index,o=t.oxw(2);t.xp6(2),t.Oqu(o.pageIndex*o.pageSize+n+1),t.xp6(1),t.s9C("routerLink",e._id),t.xp6(1),t.Oqu(null==e?null:e._id),t.xp6(1),t.s9C("routerLink",e._id),t.xp6(1),t.s9C("src",e.avatar,t.LSH),t.xp6(2),t.MGl("href","https://chat.zalo.me/?phone=",e.phoneNumber,"",t.LSH),t.xp6(1),t.hij(" ",e.fullName,""),t.xp6(1),t.s9C("routerLink",e._id),t.xp6(2),t.hij(" ",t.lcZ(13,12,e.opt),""),t.xp6(2),t.s9C("routerLink",e._id),t.xp6(1),t.Oqu(e.unit),t.xp6(2),t.Q6J("ngIf",o.checkPer(4))}}function ct(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"table",29)(1,"thead",30)(2,"tr")(3,"th"),t._uU(4,"TT"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"_id"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"avatar"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"H\u1ecd v\xe0 t\xean"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Kh\xf3a"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"opt"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"M\xe3 \u0111\u01a1n v\u1ecb"),t.qZA(),t.TgZ(17,"th")(18,"mat-icon",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.reload())}),t._uU(19,"cached"),t.qZA()()(),t.TgZ(20,"tr")(21,"mat-form-field")(22,"input",32),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.keySearch=o)}),t.qZA()()()(),t.TgZ(23,"tbody"),t.YNc(24,pt,18,14,"tr",33),t.ALo(25,"filter"),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("@slideIn",void 0),t.xp6(22),t.Q6J("ngModel",e.keySearch),t.xp6(2),t.Q6J("ngForOf",t.xi3(25,4,e.items,e.keySearch))("ngForTrackBy",e.trackByFn)}}function dt(i,l){if(1&i&&t._UZ(0,"app-export-ecxel",39),2&i){const e=t.oxw();t.Q6J("dataJson",e.items)}}function mt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.resetDB())}),t._uU(1,"X\xf3a to\xe0n b\u1ed9 d\u1eef li\u1ec7u"),t.qZA()}}function ht(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.save())}),t.TgZ(1,"mat-icon"),t._uU(2,"save"),t.qZA()()}2&i&&t.Q6J("@slideIn",void 0)}let gt=(()=>{class i{constructor(e,n,o,a,s){this.plus=e,this.fb=n,this.authSV=o,this.loadSV=a,this.idbSV=s,this.chart=[],this.main=this.fb.group({keyWord:["",[]],_id:["",[]],unitFull:["",[]],displayName:["",[]],uid:["",[]],lock:["",[u.kI.requiredTrue]],opt:[{},[]],phoneNumber:["",[]],unit:["",[]],avatar:["",[]],store:["",[u.kI.required,u.kI.minLength(3),u.kI.maxLength(255)]]}),this.device=window.innerWidth>1200,this.title="Ng\u01b0\u1eddi d\xf9ng",this.dbName="admin",this.api="user",this.db=null,this.items=[],this.selectedItem=null,this.filter=[],this.itemsAuto=[],this.level=0,this.pageSize=50,this.pageIndex=0,this.keySearch=""}ngOnInit(){var e=this;this.plus.setTiTle(this.title),this.idbSV.IDB_InitDB(this.dbName).subscribe(function(){var n=(0,g.Z)(function*(o){e.db=o,e.getIDB();let a=yield e.idbSV.IDB_GetMax(o,e.api);e.authSV.FBS_GetByQuery("user","dateModify",">=",a).subscribe(s=>{e.items.push(...s),e.idbSV.IDB_DB_Add(o,e.api,s)})});return function(o){return n.apply(this,arguments)}}())}getIDB(){console.log("getIDB user"),this.filter=[],this.items=[],this.idbSV.IDB_DB_GetAll(this.db,this.api).subscribe(e=>{this.items=e})}ngOnDestroy(){console.log("Destroy",this.api),this.plus.subs.unsubscribe(),this.authSV.unsubcribe()}save(){if(this.main.invalid)return;const e=this.main.value;if(console.log(e),null==e._id)delete e._id,this.plus.clickBtn("closeModal");else{const n=this.plus.objVs(this.selectedItem,e);if(0===Object.keys(n).length)return this.plus.alertMatSnackBar("Kh\xf4ng c\xf3 n\u1ed9i dung n\xe0o thay \u0111\u1ed5i");this.plus.clickBtn("closeModal")}}onEdit(e){this.selectedItem=e;const n=this.plus.dateToHtmlObj(e,["NgayHoaDon"]);this.main.patchValue(n),this.plus.clickBtn("openModal")}onDelete(e){var n=this;return(0,g.Z)(function*(){confirm("B\u1ea1n mu\u1ed1n x\xf3a?")&&(yield n.authSV.FBS_Delete_ID(n.api,e._id),n.idbSV.IDB_DB_DeleteOne(n.db,n.api,e._id).then(a=>{console.log(a),n.getIDB()}))})()}chooseOpt(e,n,o,a=!1){this.main.controls[n].setValue(e[o]),a&&this.main.controls[n+"ID"].setValue(e._id)}convertInputDay(e,n){const o=w()(e,"DD-MM-YYYY").toDate();this.main.controls[n].setValue(o)}closeModal(){this.main.reset()}search(e){this.filter=e}find(e){this.items=e}checkPer(e){return this.authSV.checkPer(this.api,e)}patchForm(){this.main.reset({_id:" "})}reload(){return this.plus.reload(this.dbName+"/"+this.api)}reset(){this.filter=[],this.getIDB(),this.main.reset({})}changePage(e){this.filter=this.items.slice(e.pageIndex*e.pageSize,(e.pageIndex+1)*e.pageSize)}ondragover(){document.getElementById("dropZone").setAttribute("drop-active","true")}trackByFn(e,n){return n}resetDB(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(S.T),t.Y36(u.qu),t.Y36(F.c1),t.Y36(G.b),t.Y36(at.F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-user"]],decls:63,vars:10,consts:[[1,"container"],["id","add-btn","color","accent","mat-raised-button","","data-toggle","modal","data-target","#modelId",3,"click"],["id","back-btn","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"db","api","filter"],[1,"row"],["class","table table-hover",4,"ngIf"],[3,"dataJson",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],["id","openModal","type","button","data-toggle","modal","data-target","#modelId",1,"d-none"],["id","modelId","data-bs-backdrop","static","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"container-fluid"],[3,"formGroup"],["hidden","","formControlName","_id"],["type","text","autocomplete","off","matInput","","formControlName","_id"],["matSuffix",""],["type","text","autocomplete","off","matInput","","formControlName","displayName"],["type","text","autocomplete","off","matInput","","formControlName","uid"],["matPrefix","","formControlName","lock","color","primary",1,"mx-2"],["type","text","autocomplete","off","matInput","","formControlName","opt"],["type","text","autocomplete","off","matInput","","formControlName","phoneNumber"],["type","text","autocomplete","off","matInput","","formControlName","unit"],["type","text","autocomplete","off","matInput","","formControlName","avatar"],[1,"modal-footer"],["id","closeModal","mat-raised-button","","color","primary","data-bs-dismiss","modal",3,"click"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["id","back-btn","mat-raised-button","","color","primary",3,"click"],[1,"table","table-hover"],[1,"thead-inverse"],["color","primary",3,"click"],["matInput","","placeholder","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"routerLink"],["width","40",3,"src"],["target","_blank",3,"href"],["color","warn",3,"click",4,"ngIf"],["color","warn",3,"click"],[3,"dataJson"],["mat-button","","color","warn",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.reset()}),t.TgZ(2,"mat-icon"),t._uU(3,"control_point"),t.qZA()(),t.YNc(4,st,3,1,"button",2),t.TgZ(5,"app-search-table",3),t.NdJ("filter",function(a){return n.search(a)}),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,ct,26,7,"table",5),t.qZA(),t.YNc(8,dt,1,1,"app-export-ecxel",6),t.qZA(),t.YNc(9,mt,2,0,"button",7),t._UZ(10,"button",8),t.TgZ(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"form",14),t._UZ(17,"input",15),t.TgZ(18,"mat-form-field"),t._UZ(19,"mat-label")(20,"input",16)(21,"span",17),t.qZA(),t.TgZ(22,"mat-form-field"),t._UZ(23,"mat-label")(24,"input",16)(25,"span",17),t.qZA(),t.TgZ(26,"mat-form-field")(27,"mat-label"),t._uU(28,"H\u1ecd v\xe0 t\xean"),t.qZA(),t._UZ(29,"input",18)(30,"span",17),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"uid"),t.qZA(),t._UZ(34,"input",19)(35,"span",17),t.qZA(),t.TgZ(36,"mat-slide-toggle",20),t._uU(37),t.qZA(),t.TgZ(38,"mat-form-field")(39,"mat-label"),t._uU(40,"opt"),t.qZA(),t._UZ(41,"input",21)(42,"span",17),t.qZA(),t.TgZ(43,"mat-form-field")(44,"mat-label"),t._uU(45,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t._UZ(46,"input",22)(47,"span",17),t.qZA(),t.TgZ(48,"mat-form-field")(49,"mat-label"),t._uU(50,"M\xe3 \u0111\u01a1n v\u1ecb"),t.qZA(),t._UZ(51,"input",23)(52,"span",17),t.qZA(),t.TgZ(53,"mat-form-field")(54,"mat-label"),t._uU(55,"avatar"),t.qZA(),t._UZ(56,"input",24)(57,"span",17),t.qZA()()()(),t.TgZ(58,"div",25)(59,"button",26),t.NdJ("click",function(){return n.closeModal()}),t.TgZ(60,"mat-icon"),t._uU(61,"close"),t.qZA()(),t.YNc(62,ht,3,1,"button",27),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.filter.length>0),t.xp6(1),t.Q6J("db",n.db)("api",n.api),t.xp6(2),t.Q6J("ngIf",n.items.length+n.filter.length>0),t.xp6(1),t.Q6J("ngIf",n.checkPer(4)),t.xp6(1),t.Q6J("ngIf",n.checkPer(6)),t.xp6(7),t.Q6J("formGroup",n.main),t.xp6(21),t.hij(" ",n.main.controls.lock.value,""),t.xp6(22),t.Q6J("@slideIn",void 0),t.xp6(3),t.Q6J("ngIf",n.checkPer(2)&&n.main.valid))},dependencies:[p.sg,p.O5,x.rH,u._Y,u.Fj,u.JJ,u.JL,u.On,u.sg,u.u,D.Rr,N.lW,R.Hw,q.Nt,h.KE,h.hX,h.qo,h.R9,rt.D,K.t,p.Ts,lt.Cf],styles:["mat-icon[_ngcontent-%COMP%]{margin-left:5px!important;margin-right:5px!important}"],data:{animation:[T.Mq,T.Ym]}}),i})();var _t=r(78372),y=r(80529),j=r(12157),P=r(92340),L=r(28986),ft=r(5383),bt=r(52075),W=r(54654),Ct=r(11147),$=r(70655),z=r(39646),Zt=r(60515),X=r(69751),Tt=r(97272),f=r(49468),b=r(85363),_=r(63900),yt=r(54004),At=r(23151),tt=r(66304),vt=r(70262),Mt=r(95577),xt=r(46590),Nt=r(424),A=r(12011),Jt=r(26774);r(29260);const kt=new t.OlP("angularfire2.messaging.vapid-key"),It=new t.OlP("angularfire2.messaging.service-worker-registeration");let et=(()=>{class i{constructor(e,n,o,a,s,d,J){const v=J,m=(0,z.of)(void 0).pipe((0,f.R)(s.outsideAngular),(0,b.Q)(s.insideAngular),(0,_.w)(Jt.Gb),(0,_.w)(c=>c?r.e(934).then(r.bind(r,6934)):Zt.E),(0,yt.U)(()=>(0,A.on)(e,a,n)),(0,_.w)(c=>(0,A.cc)(`${c.name}.messaging`,"AngularFireMessaging",c.name,()=>(0,$.mG)(this,void 0,void 0,function*(){return c.messaging()}),[])),(0,At.d)({bufferSize:1,refCount:!1}));this.requestPermission=m.pipe((0,f.R)(s.outsideAngular),(0,b.Q)(s.insideAngular),(0,_.w)(()=>Notification.requestPermission())),this.getToken=m.pipe((0,f.R)(s.outsideAngular),(0,b.Q)(s.insideAngular),(0,_.w)(c=>(0,$.mG)(this,void 0,void 0,function*(){if("granted"===Notification.permission){const C=v?yield v:null;return yield c.getToken({vapidKey:d,serviceWorkerRegistration:C})}return null})));const M=new X.y(c=>{navigator.permissions.query({name:"notifications"}).then(C=>{C.onchange=()=>c.next()})}),Z=m.pipe((0,f.R)(s.outsideAngular),(0,b.Q)(s.insideAngular),(0,tt.c)(M),(0,tt.c)(this.getToken));return this.tokenChanges=m.pipe((0,f.R)(s.outsideAngular),(0,b.Q)(s.insideAngular),(0,_.w)(()=>(0,Tt.z)(this.getToken,Z))),this.messages=m.pipe((0,f.R)(s.outsideAngular),(0,b.Q)(s.insideAngular),(0,_.w)(c=>new X.y(C=>c.onMessage(C)))),this.requestToken=m.pipe((0,f.R)(s.outsideAngular),(0,b.Q)(s.insideAngular),(0,_.w)(()=>this.requestPermission),(0,vt.K)(()=>(0,z.of)(null)),(0,Mt.z)(()=>this.tokenChanges)),this.deleteToken=()=>m.pipe((0,f.R)(s.outsideAngular),(0,b.Q)(s.insideAngular),(0,_.w)(c=>c.deleteToken()),(0,xt.d)(!1)),(0,A.pX)(this,m,a)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(A.Dh),t.LFG(A.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(Nt.HU),t.LFG(kt,8),t.LFG(It,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();var St=r(40425),Ft=r(70511),Dt=r(3909),B=r(71948),E=r(49652),qt=r(51511);function Bt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.exportJson())}),t._uU(1,"exportJson"),t.qZA()}}function Et(i,l){if(1&i&&t._UZ(0,"app-export-ecxel",25),2&i){const e=t.oxw();t.Q6J("dataJson",e.data)}}function Vt(i,l){if(1&i&&t._UZ(0,"app-export-ecxel",25),2&i){const e=t.oxw();t.Q6J("dataJson",e.allItems)}}function Qt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-radio-button",26),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.selectedRadio(o))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit;t.s9C("value",e),t.xp6(1),t.hij("",e," ")}}function Yt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.uploadImage())}),t._uU(1,"Upload()"),t.qZA()}}function Ot(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.add())}),t._uU(1,"add"),t.qZA()}}function Gt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addMany())}),t._uU(1,"addMany"),t.qZA()}}function Pt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.update())}),t._uU(1,"update"),t.qZA()}}function Lt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateMany())}),t._uU(1,"updateMany"),t.qZA()}}function Ht(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.set())}),t._uU(1,"set"),t.qZA()}}function wt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setMany())}),t._uU(1,"setMany"),t.qZA()}}function Rt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deleteOne())}),t._uU(1,"Delete"),t.qZA()}}function Kt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.disableMany())}),t._uU(1,"disableMany"),t.qZA()}}function jt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",30),t.NdJ("click",function(){const o=t.CHM(e),a=o.$implicit,s=o.index,d=t.oxw(2);return t.KtG(d.onedit(a,s))}),t.TgZ(2,"pre"),t._uU(3),t.ALo(4,"json"),t.qZA()()()}if(2&i){const e=l.$implicit;t.xp6(3),t.Oqu(t.lcZ(4,1,e))}}function Wt(i,l){if(1&i&&(t.TgZ(0,"table",27)(1,"thead",28)(2,"tr")(3,"th"),t._uU(4),t.qZA()()(),t.TgZ(5,"tbody"),t.YNc(6,jt,5,3,"tr",29),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.hij("",e.data.length," d\xf2ng"),t.xp6(2),t.Q6J("ngForOf",e.data)}}let $t=(()=>{class i{constructor(e,n,o,a,s,d,J,v,m,M,Z,c){this.excelSV=e,this.authSV=n,this.loadSV=o,this.http=a,this.fileSV=s,this.idbSV=d,this.formSV=J,this.afMessaging=v,this.finger=m,this.httpSV=M,this.pouchSV=Z,this.plus=c,this.api="test",this._id="qi2Mfyf6Y0NSnOHZiW9PQSXklvS2",this.item={},this.dbName=localStorage.getItem("dbName")||"test",this.collection=localStorage.getItem("collection")||"test",this.db=null,this.global=!1,this.file=null,this.raw=!1,this.dateFormat="yyyy-mm-dd",this.userId="",this.decryptx=null,this.data=null,this.acction=["add","addMany","update","updateMany","set","setMany","delete","deletemany"],this.acc="",this.querys=["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],this.path=P.N.apiUrl,this.where="",this.prod=P.N.production,this.inputText="",this.events=[],this.isSignedIn=!1,this.testBody={_id:(0,L.h)(2),sheetId:"",sheetName:"",item:{_id:(0,L.h)(25),Ten:"Thuc",SDT:1e5*Math.random()}},this.searchForm=this.formSV.fb.group({input:["",[u.kI.required,u.kI.minLength(2)]]}),this.main=this.formSV.fb.group({dbName:["",[]],collection:["",[]],path:["",[]],where:["",[]],val:["",[]]})}ngOnInit(){var e=this;return(0,g.Z)(function*(){e.search(),e.item=JSON.stringify(e.testBody)})()}parseInputString(e){return e.split("\r").filter(a=>""!==a.trim()).map(a=>{const s=a.split(":");if(3!==s.length)return null;const d=s[1].split("-");if(2!==d.length)return null;const J=d[0],v=d[1],m=s[2].split("*");if(2!==m.length)return null;const M=parseInt(m[0],10),Z=m[1].split("=");if(2!==Z.length)return null;const c=parseInt(Z[0],10),C=parseInt(Z[1],10);return isNaN(M)||isNaN(c)||isNaN(C)?null:{GIA:J,BIEU:v,SL:M,DON_GIA:c,THANH_TIEN:C}}).filter(a=>null!==a)}test(){}executeFetch(){try{const e=this.parseFetch(this.inputText);if(!e)return void(this.result={error:"D\u1eef li\u1ec7u kh\xf4ng h\u1ee3p l\u1ec7"});const{url:n,options:o}=e;this.http.request(o.method,n,{headers:new y.WM(o.headers),body:o.body?JSON.parse(o.body):null}).subscribe(a=>{this.result=a})}catch{this.result={error:"L\u1ed7i x\u1eed l\xfd d\u1eef li\u1ec7u"}}}convertObj(e){return 1==e?this.obj1=JSON.parse(this.item):this.obj2=JSON.parse(this.item)}compare(){this.data=[this.plus.compareObjects(this.obj1,this.obj2)]}parseFetch(e){try{const n=e.match(/fetch\("(.*?)", (\{[\s\S]*\})\);/);return n?{url:n[1],options:JSON.parse(n[2].replace(/\n/g,""))}:null}catch{return null}}add(){JSON.parse(this.item)}addManyPD(){}getById(){this.pouchSV.get(this.api,this._id).then(e=>{this.data=e})}getAll(){}remove(){var e=this;return(0,g.Z)(function*(){JSON.parse(e.item)})()}destroy(){return(0,g.Z)(function*(){})()}onedit(e,n){this.item=JSON.stringify(e),this.index=n}saveEdit(){this.allItems[this.index]=this.item}addMany(){this.authSV.FBS_addMany(this.path,this.data)}update(){this.authSV.FBS_update(this.path,this.data._id,this.data)}updateMany(){this.authSV.FBS_updateMany(this.path,this.data)}set(){this.authSV.FBS_set(this.path,this.itemSelected._id,this.itemSelected)}setMany(){this.authSV.FBS_setMany(this.path,this.data)}disableMany(){this.authSV.FBS_DisableMany(this.path,this.data)}deleteOne(){this.authSV.FBS_Delete_ID(this.path,this.where)}testGG(){let e={sheetId:"1COFmh3BnE3i1rBvlOf0TQMJQuSqKLgtoD2QpkWr7SgU",sheetName:"x1",item:{_id:(0,L.h)(6),ten:"Thuc",SDT:"123"}};this.httpSV.post("sheet/add",e,"").subscribe(n=>{console.log(n)})}devices(){alert(this.finger.getBrowserFingerprint())}pushData(e){if(!(this.allItems.length>0))return alert("H\u1ebft d\u1eef li\u1ec7u");{this.loadSV.load("pushData");let n=this.data.length||0,o=this.allItems.slice(n,n+100);this.data=this.data.concat(o),this.loadSV.loaded("pushData")}}uploadImage(){const e=new FormData;e.append("key","c12c9929f85f23a78cdda184209f8710"),e.append("image",this.file),j.Z.post("https://api.imgbb.com/1/upload",e).then(n=>{console.log(n)})}getBarcode(e){console.log(e),this.data=e}initDB(){this.idbSV.IDB_InitDB(this.dbName).subscribe(e=>{localStorage.setItem("dbName",this.dbName),localStorage.setItem("collection",this.collection),this.db=e})}getAllIdb(){this.idbSV.IDB_DB_GetAll(this.db,this.collection).subscribe(e=>{this.allItems=e,this.data=e.slice(0,100),console.log(e)})}addIDB(){this.idbSV.IDB_DB_Add(this.db,this.collection,this.data).then(e=>{this.authSV._toastSuccess()})}requestPermission(){this.afMessaging.requestPermission.subscribe({next:e=>{console.log(e),this.afMessaging.requestToken.subscribe({next:n=>{console.log("Permission granted! Save to the server!",n)},error:n=>{console.error(n)},complete:()=>{}})},error:e=>{},complete:()=>{}})}listen(){this.afMessaging.messages.subscribe(e=>{console.log(e)})}getAPI(){this.loadSV.load("CRYPT-GET"),this.http.get(this.path).subscribe(e=>{this.data=e,console.log(e),this.loadSV.loaded("CRYPT-GET")})}getCors(){return this.loadSV.load("CRYPT-GETCORS"),j.Z.get(this.path).then(e=>{this.loadSV.loaded("CRYPT-GETCORS"),this.data=e})}postAPI(){this.http.post(this.path,this.data).subscribe(e=>{this.data=e,console.log(e)})}putAPI(){this.http.put(this.path,this.data).subscribe(e=>{this.data=e,console.log(e)})}search(){this.searchForm.valueChanges.pipe((0,_t.b)(500)).subscribe(e=>{!this.searchForm.invalid&&this.searchForm.valid&&this.idbSV.IDB_DB_Search(this.db,this.api,e.input,50).subscribe(o=>{console.log(o),this.data=o})})}selectedRadio(e){this.query=e.value}onSlide(e){console.log(e),this.typeVal=e.checked}getByQuery(){this.loadSV.load("getByQuery"),this.authSV.FBS_GetByQuery(this.path,this.where,this.query,this.typeVal?+this.val:this.val).subscribe(e=>{this.data=e,this.loadSV.loaded("getByQuery")})}uploadBackup(){this.idbSV.IDB_InitDB("trac-nghiem").subscribe(e=>{})}getFile(){this.fileSV.getFileBackup("dmt/dlxl/input").then(e=>{console.log(e),this.data=e}),this.fileSV.getListFile("Backup").subscribe(e=>{console.log(e.items)})}exportExcel(){this.excelSV.export(this.data)}exportJson(){this.authSV.exportJson(this.data,this.api)}parseJsonFile(e){return(0,g.Z)(function*(){return new Promise((n,o)=>{const a=new FileReader;a.onload=s=>n(JSON.parse(s.target.result)),a.onerror=s=>o(s),a.readAsText(e)})})()}onDrop(e){var n=this;return(0,g.Z)(function*(){n.file=e[0],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==e[0].type?n.excelSV.read(e[0]).then(o=>{n.data=n.excelSV.convertJSon(o[0])}):"application/json"==e[0].type&&(yield n.parseJsonFile(e[0]).then(o=>{console.log(o,typeof o,Array.isArray(o)),n.data=o}),n.excelSV.fileToJsonArray(e[0],n.raw,n.dateFormat).then(o=>{n.data=o,console.log(o)}))})()}convertItem(){this.data=JSON.parse(this.item)}upload(){const e=new FormData;e.append("file",this.file),new y.WM({"ngsw-bypass":""}),this.http.post("http://127.0.0.1:5001/dlxl7-244709/us-central1/api/mega/upload",e,{reportProgress:!0,observe:"events"}).subscribe(a=>{console.log(a),a.type===y.dt.UploadProgress?console.log(Math.round(a.loaded/a.total*100)):a.type===y.dt.Response&&console.log(a)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ft.x),t.Y36(F.c1),t.Y36(G.b),t.Y36(y.eN),t.Y36(bt.O),t.Y36(W.Y),t.Y36(Ct.o),t.Y36(et),t.Y36(St.Z3),t.Y36(Ft.O),t.Y36(Dt.M),t.Y36(S.T))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-crypt"]],decls:124,vars:35,consts:[[1,"container"],[1,"row"],["color","warn",3,"ngModel","ngModelChange"],[3,"files"],["mat-raised-button","",3,"click",4,"ngIf"],[3,"dataJson",4,"ngIf"],["appearance","outline"],["matInput","","placeholder","dbName",3,"ngModel","ngModelChange"],["mat-raised-button","",3,"click"],["matInput","","placeholder","collection",3,"ngModel","ngModelChange"],["aria-label","Select an option"],[3,"value","change",4,"ngFor","ngForOf"],["matInput","","placeholder","path",3,"ngModel","ngModelChange"],["matInput","","placeholder","where",3,"ngModel","ngModelChange"],["matInput","","placeholder","value to find",3,"ngModel","ngModelChange"],["matSuffix","",3,"change"],["matInput","","placeholder","url",3,"ngModel","ngModelChange"],[1,"example-full-width"],["matInput","",3,"ngModel","ngModelChange"],[1,"btn-row"],["color","primary","mat-raised-button","",3,"click"],[1,"row",3,"formGroup"],["matInput","","id","search-api","formControlName","input","placeholder","T\xecm ki\u1ebfm (F2)"],["class","table table-striped table-inverse table-responsive",4,"ngIf"],["matInput","","rows","15","placeholder","Nh\u1eadp \u0111o\u1ea1n fetch...",3,"ngModel","ngModelChange"],[3,"dataJson"],[3,"value","change"],[1,"table","table-striped","table-inverse","table-responsive"],[1,"thead-inverse"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-slide-toggle",2),t.NdJ("ngModelChange",function(a){return n.prod=a}),t._uU(3,"prod"),t.qZA()(),t.TgZ(4,"div",1)(5,"app-drop-files",3),t.NdJ("files",function(a){return n.onDrop(a)}),t.qZA(),t.YNc(6,Bt,2,0,"button",4),t.YNc(7,Et,1,1,"app-export-ecxel",5),t.YNc(8,Vt,1,1,"app-export-ecxel",5),t.qZA(),t.TgZ(9,"mat-expansion-panel")(10,"mat-expansion-panel-header"),t._uU(11," PouchDb "),t.qZA(),t.TgZ(12,"mat-form-field",6)(13,"input",7),t.NdJ("ngModelChange",function(a){return n.api=a}),t.qZA()(),t.TgZ(14,"mat-form-field",6)(15,"input",7),t.NdJ("ngModelChange",function(a){return n._id=a}),t.qZA()(),t.TgZ(16,"button",8),t.NdJ("click",function(){return n.add()}),t._uU(17,"add"),t.qZA(),t.TgZ(18,"button",8),t.NdJ("click",function(){return n.addManyPD()}),t._uU(19,"addMany"),t.qZA(),t.TgZ(20,"button",8),t.NdJ("click",function(){return n.getById()}),t._uU(21,"getById"),t.qZA(),t.TgZ(22,"button",8),t.NdJ("click",function(){return n.getAll()}),t._uU(23,"getAll"),t.qZA(),t.TgZ(24,"button",8),t.NdJ("click",function(){return n.remove()}),t._uU(25,"remove"),t.qZA(),t.TgZ(26,"button",8),t.NdJ("click",function(){return n.destroy()}),t._uU(27,"destroy"),t.qZA()(),t.TgZ(28,"mat-expansion-panel")(29,"mat-expansion-panel-header"),t._uU(30," IDB "),t.qZA(),t.TgZ(31,"mat-form-field",6)(32,"input",7),t.NdJ("ngModelChange",function(a){return n.dbName=a}),t.qZA()(),t.TgZ(33,"mat-form-field",6)(34,"input",9),t.NdJ("ngModelChange",function(a){return n.collection=a}),t.qZA()(),t.TgZ(35,"button",8),t.NdJ("click",function(){return n.initDB()}),t._uU(36,"initDB"),t.qZA(),t.TgZ(37,"button",8),t.NdJ("click",function(){return n.getAllIdb()}),t._uU(38,"getAllIdb()"),t.qZA(),t.TgZ(39,"button",8),t.NdJ("click",function(){return n.addIDB()}),t._uU(40,"Add IDB"),t.qZA()(),t.TgZ(41,"mat-expansion-panel")(42,"mat-expansion-panel-header"),t._uU(43," FBS "),t.qZA(),t.TgZ(44,"mat-radio-group",10),t.YNc(45,Qt,2,2,"mat-radio-button",11),t.qZA(),t.TgZ(46,"mat-form-field",6)(47,"input",12),t.NdJ("ngModelChange",function(a){return n.path=a}),t.qZA()(),t.TgZ(48,"mat-form-field",6)(49,"input",13),t.NdJ("ngModelChange",function(a){return n.where=a}),t.qZA()(),t.TgZ(50,"mat-form-field",6)(51,"input",14),t.NdJ("ngModelChange",function(a){return n.val=a}),t.qZA(),t.TgZ(52,"mat-slide-toggle",15),t.NdJ("change",function(a){return n.onSlide(a)}),t._uU(53),t.qZA()(),t.TgZ(54,"pre"),t._uU(55),t.qZA(),t.YNc(56,Yt,2,0,"button",4),t.YNc(57,Ot,2,0,"button",4),t.YNc(58,Gt,2,0,"button",4),t.YNc(59,Pt,2,0,"button",4),t.YNc(60,Lt,2,0,"button",4),t.YNc(61,Ht,2,0,"button",4),t.YNc(62,wt,2,0,"button",4),t.YNc(63,Rt,2,0,"button",4),t.YNc(64,Kt,2,0,"button",4),t.TgZ(65,"b"),t._uU(66,"|"),t.qZA(),t.TgZ(67,"button",8),t.NdJ("click",function(){return n.uploadBackup()}),t._uU(68,"uploadBackup()"),t.qZA(),t.TgZ(69,"button",8),t.NdJ("click",function(){return n.getFile()}),t._uU(70,"getFile()"),t.qZA(),t.TgZ(71,"button",8),t.NdJ("click",function(){return n.listen()}),t._uU(72,"listen"),t.qZA(),t.TgZ(73,"button",8),t.NdJ("click",function(){return n.requestPermission()}),t._uU(74,"requestPermission"),t.qZA()(),t.TgZ(75,"mat-expansion-panel")(76,"mat-expansion-panel-header"),t._uU(77," PostMan "),t.qZA(),t.TgZ(78,"mat-form-field",6)(79,"input",16),t.NdJ("ngModelChange",function(a){return n.path=a}),t.qZA()(),t.TgZ(80,"button",8),t.NdJ("click",function(){return n.getAPI()}),t._uU(81,"GetAPI()"),t.qZA(),t.TgZ(82,"button",8),t.NdJ("click",function(){return n.getCors()}),t._uU(83,"getCors()"),t.qZA(),t.TgZ(84,"button",8),t.NdJ("click",function(){return n.postAPI()}),t._uU(85,"postAPI()"),t.qZA(),t.TgZ(86,"button",8),t.NdJ("click",function(){return n.putAPI()}),t._uU(87,"putAPI()"),t.qZA(),t.TgZ(88,"button",8),t.NdJ("click",function(){return n.testGG()}),t._uU(89,"TEST"),t.qZA()(),t.TgZ(90,"mat-form-field",17)(91,"mat-label"),t._uU(92,"item"),t.qZA(),t.TgZ(93,"textarea",18),t.NdJ("ngModelChange",function(a){return n.item=a}),t.qZA()(),t.TgZ(94,"div",19)(95,"button",20),t.NdJ("click",function(){return n.saveEdit()}),t._uU(96,"Save Item"),t.qZA(),t.TgZ(97,"button",20),t.NdJ("click",function(){return n.convertItem()}),t._uU(98,"Convert Item"),t.qZA(),t.TgZ(99,"button",20),t.NdJ("click",function(){return n.convertObj(1)}),t._uU(100,"Convert obj 1"),t.qZA(),t.TgZ(101,"button",20),t.NdJ("click",function(){return n.convertObj(2)}),t._uU(102,"Convert obj 2"),t.qZA(),t.TgZ(103,"button",20),t.NdJ("click",function(){return n.compare()}),t._uU(104,"Compare"),t.qZA(),t.TgZ(105,"button",20),t.NdJ("click",function(){return n.upload()}),t._uU(106,"upload"),t.qZA(),t.TgZ(107,"button",20),t.NdJ("click",function(){return n.test()}),t._uU(108,"test"),t.qZA()(),t.TgZ(109,"div",21)(110,"mat-form-field"),t._UZ(111,"input",22),t.qZA()(),t.YNc(112,Wt,7,2,"table",23),t.qZA(),t.TgZ(113,"div",1)(114,"mat-expansion-panel")(115,"mat-expansion-panel-header"),t._uU(116," REQUEST "),t.qZA(),t.TgZ(117,"mat-form-field")(118,"textarea",24),t.NdJ("ngModelChange",function(a){return n.inputText=a}),t.qZA()(),t.TgZ(119,"button",8),t.NdJ("click",function(){return n.executeFetch()}),t._uU(120,"Th\u1ef1c thi"),t.qZA(),t.TgZ(121,"pre"),t._uU(122),t.ALo(123,"json"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngModel",n.prod),t.xp6(4),t.Q6J("ngIf",n.data),t.xp6(1),t.Q6J("ngIf",n.data),t.xp6(1),t.Q6J("ngIf",n.allItems),t.xp6(5),t.Q6J("ngModel",n.api),t.xp6(2),t.Q6J("ngModel",n._id),t.xp6(17),t.Q6J("ngModel",n.dbName),t.xp6(2),t.Q6J("ngModel",n.collection),t.xp6(11),t.Q6J("ngForOf",n.querys),t.xp6(2),t.Q6J("ngModel",n.path),t.xp6(2),t.Q6J("ngModel",n.where),t.xp6(2),t.Q6J("ngModel",n.val),t.xp6(2),t.hij(" ",n.typeVal?"Number":"String",""),t.xp6(2),t.xDo("",n.path," | ",n.where," | ",n.query," | ",n.val,": ",n.typeVal,""),t.xp6(1),t.Q6J("ngIf",n.file),t.xp6(1),t.Q6J("ngIf",n.path.length>0&&n.data),t.xp6(1),t.Q6J("ngIf",n.path.length>0&&(null==n.data?null:n.data.length)>0),t.xp6(1),t.Q6J("ngIf",n.path.length>0&&n.data),t.xp6(1),t.Q6J("ngIf",n.path.length>0&&(null==n.data?null:n.data.length)>0),t.xp6(1),t.Q6J("ngIf",n.path.length>0&&n.data),t.xp6(1),t.Q6J("ngIf",n.path.length>0&&(null==n.data?null:n.data.length)>0),t.xp6(1),t.Q6J("ngIf",n.path.length>0),t.xp6(1),t.Q6J("ngIf",n.path.length>0),t.xp6(15),t.Q6J("ngModel",n.path),t.xp6(14),t.Q6J("ngModel",n.item),t.xp6(16),t.Q6J("formGroup",n.searchForm),t.xp6(3),t.Q6J("ngIf",(null==n.data?null:n.data.length)>0),t.xp6(6),t.Q6J("ngModel",n.inputText),t.xp6(4),t.Oqu(t.lcZ(123,33,n.result)))},dependencies:[p.sg,p.O5,u.Fj,u.JJ,u.JL,u.On,u.sg,u.u,D.Rr,B.VQ,B.U0,N.lW,q.Nt,h.KE,h.hX,h.R9,E.ib,E.yz,K.t,qt.k,p.Ts]}),i})();var H=r(99602);function zt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-radio-button",13),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.selectedRadio(o))}),t._uU(1),t.qZA()}if(2&i){const e=l.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function Xt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"pre",14),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.export(a))}),t._uU(5),t.ALo(6,"json"),t.qZA()()}if(2&i){const e=l.$implicit;t.xp6(2),t.HOy(" ",t.xi3(3,5,+e.dateModify,"HH:mm")," | ",e.version," | ",e.method," - ",e.user," "),t.xp6(3),t.Oqu(t.lcZ(6,8,e))}}let te=(()=>{class i{constructor(e,n,o,a,s){this.authSV=e,this.loadSV=n,this.plus=o,this.http=a,this.idbSV=s,this.dbName="admin",this.api="logger",this.db=null,this.items=[],this.date=new Date,this.query=["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],this.where=">=",this.sub=null,this.err=!1}ngOnInit(){this.idbSV.IDB_InitDB(this.dbName).subscribe(e=>{this.db=e,this.getByDate()})}ngOnDestroy(){console.log("Destroy",this.api),this.authSV.unsubcribe()}getByDate(){let e=w()(this.date).format("YYYY/MM/DD");this.authSV.FBS_GetAll("logger/"+e+"/"+this.err).subscribe(n=>{0!=n.length&&(this.items=this.plus.sortArr(n),this.idbSV.IDB_DB_Add(this.db,"log",n))})}selectedRadio(e){console.log(e),this.where=e.value,this.getByDate()}delete(e){this.authSV.FBS_Delete_ID(this.api,e)}export(e){this.authSV.exportJson(e,this.api)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(F.c1),t.Y36(G.b),t.Y36(S.T),t.Y36(y.eN),t.Y36(W.Y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-log"]],decls:19,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-6"],[3,"ngModel","ngModelChange","change"],[1,"col"],["matInput","","placeholder","DD/MM/YYYY","autocomplete","off",3,"ngModel","matDatepicker","ngModelChange","focus","dateChange"],["NgayHoaDonInput",""],["matSuffix","",3,"for"],["NgayHoaDon",""],["aria-label","Select an option"],[3,"value","change",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],[4,"ngFor","ngForOf"],[3,"value","change"],[3,"click"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-slide-toggle",3),t.NdJ("ngModelChange",function(s){return n.err=s})("change",function(){return n.getByDate()}),t._uU(4," Th\xe0nh c\xf4ng "),t.qZA()(),t.TgZ(5,"div",4)(6,"mat-form-field")(7,"mat-label"),t._uU(8,"Ng\xe0y ghi nh\u1eadn"),t.qZA(),t.TgZ(9,"input",5,6),t.NdJ("ngModelChange",function(s){return n.date=s})("focus",function(){t.CHM(o);const s=t.MAs(13);return t.KtG(s.open())})("dateChange",function(){return n.getByDate()}),t.qZA(),t._UZ(11,"mat-datepicker-toggle",7)(12,"mat-datepicker",null,8),t.qZA()()(),t.TgZ(14,"mat-radio-group",9),t.YNc(15,zt,2,2,"mat-radio-button",10),t.qZA(),t.TgZ(16,"button",11),t.NdJ("click",function(){return n.getByDate()}),t._uU(17," Get"),t.qZA(),t.YNc(18,Xt,7,10,"mat-expansion-panel",12),t.qZA()}if(2&e){const o=t.MAs(13);t.Q6J("@slideIn",void 0),t.xp6(3),t.Q6J("ngModel",n.err),t.xp6(6),t.Q6J("ngModel",n.date)("matDatepicker",o),t.xp6(2),t.Q6J("for",o),t.xp6(4),t.Q6J("ngForOf",n.query),t.xp6(3),t.Q6J("ngForOf",n.items)}},dependencies:[p.sg,u.Fj,u.JJ,u.On,D.Rr,B.VQ,B.U0,N.lW,q.Nt,h.KE,h.hX,h.R9,H.Mq,H.hl,H.nW,E.ib,E.yz,p.Ts,p.uU],data:{animation:[T.Ym]}}),i})(),ee=(()=>{class i{constructor(e){this.plus=e,this.db=null,this.api="admin"}ngOnInit(){this.plus.IDB_InitDB(this.api).subscribe(e=>{this.db=e})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(S.T))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin"]],decls:4,vars:0,consts:[[1,"container"],[1,"row","justify-content-center"],["mat-raised-button","","color","primary","routerLink","catalog"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3,"Danh m\u1ee5c"),t.qZA()()())},dependencies:[x.rH,N.lW]}),i})();var V=(()=>{return(i=V||(V={}))[i.ADMIN=1]="ADMIN",i[i.PERSON=2]="PERSON",i[i.EMAIL=3]="EMAIL",i[i.DAOTAO=4]="DAOTAO",i[i.VERHICLE=5]="VERHICLE",V;var i})(),ne=r(23970);function oe(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deletePer())}),t._uU(4,"Clear"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.user.fullName)}}function ie(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"span"),t._UZ(7,"img",20),t.qZA(),t.TgZ(8,"input",21),t.NdJ("click",function(o){const s=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.onSelect(s.api,1,o))}),t.qZA(),t.TgZ(9,"input",21),t.NdJ("click",function(o){const s=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.onSelect(s.api,2,o))}),t.qZA(),t.TgZ(10,"input",21),t.NdJ("click",function(o){const s=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.onSelect(s.api,4,o))}),t.qZA(),t.TgZ(11,"input",21),t.NdJ("click",function(o){const s=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.onSelect(s.api,7,o))}),t.qZA()()()}if(2&i){const e=l.$implicit,n=t.oxw(2);t.xp6(2),t.hij(" ",e.api," "),t.xp6(2),t.hij(" ",e.label," "),t.xp6(3),t.MGl("src","/assets/img/",e.api,".png",t.LSH),t.xp6(1),t.Q6J("checked",n.checked(e.api,1)),t.xp6(1),t.Q6J("checked",n.checked(e.api,2)),t.xp6(1),t.Q6J("checked",n.checked(e.api,4)),t.xp6(1),t.Q6J("checked",n.checked(e.api,7))}}function ae(i,l){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,ie,12,7,"tr",17),t.qZA()),2&i){const e=l.$implicit,n=t.oxw();t.Q6J("@slideIn",n.permissions.length>0),t.xp6(1),t.Q6J("ngForOf",e.sub)}}let nt=(()=>{class i{constructor(e,n,o,a){this.fb=e,this.route=n,this.location=o,this.authSV=a,this.PERMISSION=V,this.permissions=ne.w,this.api="user",this.perUser={},this.x={},this.main=this.fb.group({fullName:["",[]],unit:["",[]],unitFull:["",[]],lock:[!1,[]],_id:["",[]],phoneNumber:["",[]],store:["",[u.kI.required,u.kI.minLength(3),u.kI.maxLength(255)]],nick:["",[]]})}ngOnInit(){this.getById()}addUserStore(){this.authSV.FBS_add(P.N.dbName+`ban-hang/${this.user.store}/user`,{})}getById(){const e=this.route.snapshot.paramMap.get("id");this.authSV.FBS_getById("user",e).subscribe(n=>{n&&(this.user=n,this.perUser=n.opt,this.main.patchValue(n))})}onSelect(e,n,o){const a={};if(a[e]=n,o.target.checked)this.perUser={...this.perUser,...a};else switch(n){case 1:delete this.perUser[e];break;case 2:this.perUser[e]=1;break;case 4:this.perUser[e]=2;break;case 7:this.perUser[e]=4}}checked(e,n){return this.perUser[e]>=n}deletePer(){this.perUser={}}lockUser(e){this.authSV.FBS_update("user",this.user._id,{lock:e.checked})}goBack(){this.location.back()}update(){var e=this;return(0,g.Z)(function*(){const n={_id:e.user._id,opt:e.perUser,dateModify:Date.now(),...e.main.value};e.authSV.FBS_set("user",n._id,n)})()}add(){var e=this;return(0,g.Z)(function*(){const n={opt:e.perUser,dateModify:Date.now(),...e.main.value};e.authSV.FBS_set("user",n._id,n)})()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.qu),t.Y36(x.gz),t.Y36(p.Ye),t.Y36(F.c1))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-permission"]],decls:58,vars:7,consts:[[1,"container"],["id","save-btn","mat-raised-button","","color","warn",3,"click"],["id","add-btn","mat-raised-button","","color","warn",3,"click"],["id","back-btn","mat-raised-button","","color","primary",3,"click"],[3,"formGroup"],["matInput","","placeholder","uid","formControlName","_id"],["autocomplete","off","matInput","","formControlName","fullName"],["matSuffix",""],["autocomplete","off","matInput","","formControlName","unitFull"],["autocomplete","off","matInput","","formControlName","unit"],["autocomplete","off","matInput","","formControlName","phoneNumber"],["required","","autocomplete","off","matInput","","formControlName","store"],["type","text","autocomplete","off","matInput","","formControlName","nick"],["formControlName","lock",3,"change"],[1,"per2"],["class","text-center",4,"ngIf"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"text-center"],["type","button",1,"btn","btn-outline-primary","mx-3",3,"click"],["width","30",3,"src"],["type","checkbox",1,"mx-3",3,"checked","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.update()}),t.TgZ(2,"mat-icon"),t._uU(3,"save"),t.qZA()(),t.TgZ(4,"button",2),t.NdJ("click",function(){return n.add()}),t.TgZ(5,"mat-icon"),t._uU(6,"add"),t.qZA()(),t.TgZ(7,"button",3),t.NdJ("click",function(){return n.goBack()}),t.TgZ(8,"mat-icon"),t._uU(9,"undo"),t.qZA()(),t.TgZ(10,"form",4)(11,"mat-form-field"),t._UZ(12,"input",5),t.qZA(),t.TgZ(13,"mat-form-field")(14,"mat-label"),t._uU(15,"H\u1ecd v\xe0 t\xean"),t.qZA(),t._UZ(16,"input",6)(17,"span",7),t.qZA(),t.TgZ(18,"mat-form-field")(19,"mat-label"),t._uU(20,"T\xean \u0111\u01a1n v\u1ecb"),t.qZA(),t._UZ(21,"input",8)(22,"span",7),t.qZA(),t.TgZ(23,"mat-form-field")(24,"mat-label"),t._uU(25,"M\xe3 \u0111\u01a1n v\u1ecb"),t.qZA(),t._UZ(26,"input",9)(27,"span",7),t.qZA(),t.TgZ(28,"mat-form-field")(29,"mat-label"),t._uU(30,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t._UZ(31,"input",10)(32,"span",7),t.qZA(),t.TgZ(33,"mat-form-field")(34,"mat-label"),t._uU(35,"store"),t.qZA(),t._UZ(36,"input",11)(37,"span",7),t.qZA(),t.TgZ(38,"mat-form-field")(39,"mat-label"),t._uU(40,"Ph\xe2n c\xf4ng"),t.qZA(),t._UZ(41,"input",12)(42,"span",7),t.qZA(),t.TgZ(43,"mat-slide-toggle",13),t.NdJ("change",function(a){return n.lockUser(a)}),t.qZA()(),t.TgZ(44,"div",14),t.YNc(45,oe,5,1,"div",15),t.TgZ(46,"table",16)(47,"thead")(48,"tr")(49,"th"),t._uU(50,"Module"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"App"),t.qZA(),t.TgZ(53,"th"),t._uU(54,"Option"),t.qZA()()(),t.YNc(55,ae,2,2,"tbody",17),t.qZA()(),t._UZ(56,"hr")(57,"hr"),t.qZA()),2&e&&(t.Q6J("@slideIn",void 0),t.xp6(1),t.Q6J("@slideIn",void 0),t.xp6(3),t.Q6J("@slideIn",void 0),t.xp6(3),t.Q6J("@slideIn",void 0),t.xp6(3),t.Q6J("formGroup",n.main),t.xp6(35),t.Q6J("ngIf",n.user),t.xp6(10),t.Q6J("ngForOf",n.permissions))},dependencies:[p.sg,p.O5,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u,D.Rr,N.lW,R.Hw,q.Nt,h.KE,h.hX,h.R9],data:{animation:[T.Ym]}}),i})();const re=[{path:"",component:ee},{path:"user",component:gt},{path:"user/:id",component:nt},{path:"per",component:nt},{path:"log",component:te},{path:"crypt",component:$t}];let le=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[x.Bz.forChild(re),x.Bz]}),i})();var se=r(48387);let ue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.ez,le,u.u5,u.UX,O.q,u.u5,I.m,Y.a,se.D,k.ShareModule,Q.X]}),i})()},85913:(ot,U,r)=>{r.d(U,{m:()=>O});var Q=r(17721),k=r(24006),Y=r(36895),I=r(94650);let O=(()=>{class p{}return p.\u0275fac=function(T){return new(T||p)},p.\u0275mod=I.oAB({type:p}),p.\u0275inj=I.cJS({imports:[Y.ez,k.UX,Q.q,k.u5]}),p})()}}]);