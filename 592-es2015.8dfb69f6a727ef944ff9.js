(self.webpackChunk_4la=self.webpackChunk_4la||[]).push([[592],{84521:function(t,e,i){"use strict";i.d(e,{Y:function(){return a}});var s=i(35366),n=i(10033),r=i(61511);function o(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-chip",1),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().onSelected(e)}),s._uU(1),s.qZA()}if(2&t){const t=e.$implicit,i=s.oxw();s.Q6J("selected",t===i.choose),s.xp6(1),s.hij("",t," ng\xe0y")}}let a=(()=>{class t{constructor(){this.day=new s.vpe,this.chip=[7,15,30,120,180,365],this.choose=7}ngOnInit(){}onSelected(t){this.choose=t,this.day.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-chip"]],outputs:{day:"day"},decls:4,vars:2,consts:[["aria-label","Color selection"],["color","accent",3,"selected","click"],["color","accent",3,"selected","click",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s.TgZ(0,"mat-chip-list",0),s.TgZ(1,"mat-chip",1),s.NdJ("click",function(){return e.onSelected(1)}),s._uU(2,"H\xf4m nay"),s.qZA(),s.YNc(3,o,2,2,"mat-chip",2),s.qZA()),2&t&&(s.xp6(1),s.Q6J("selected",1===e.choose),s.xp6(2),s.Q6J("ngForOf",e.chip))},directives:[n.qn,n.HS,r.sg],styles:["mat-chip-list[_ngcontent-%COMP%]:focus{box-shadow:3px 3px 3px 3px #a9a9a9!important}"]}),t})()},52923:function(t,e,i){"use strict";i.d(e,{k:function(){return o}});var s=i(99594),n=i(61511),r=i(35366);let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez,s.q]]}),t})()},5047:function(t,e,i){"use strict";i.d(e,{a:function(){return h}});var s=i(82393),n=i(35366),r=i(31153),o=i(61511),a=i(15980);function c(t,e){1&t&&(n.TgZ(0,"label",5),n._uU(1," Ch\u1ecdn file "),n._UZ(2,"i",6),n.qZA())}function l(t,e){if(1&t&&(n.TgZ(0,"td",11),n._uU(1),n.qZA()),2&t){const t=n.oxw().$implicit;n.xp6(1),n.hij(" ",t.err||"","")}}function u(t,e){if(1&t&&(n.TgZ(0,"tr"),n.YNc(1,l,2,1,"td",10),n.qZA()),2&t){const t=e.$implicit;n.xp6(1),n.Q6J("ngIf",t.err)}}function p(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"table",7),n.TgZ(1,"h4"),n._uU(2,"L\u1ed7i d\u1eef li\u1ec7u file import"),n.qZA(),n.TgZ(3,"tbody"),n.YNc(4,u,2,1,"tr",8),n.qZA(),n.TgZ(5,"button",9),n.NdJ("click",function(){return n.CHM(t),n.oxw().reload()}),n._uU(6,"L\xe0m l\u1ea1i"),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(4),n.Q6J("ngForOf",t.errorData.length>0?t.errorData:t.dataJson)}}let h=(()=>{class t{constructor(t){this.plus=t,this.xls=new n.vpe,this.dataImport=[],this.dataJson=[],this.errorData=[]}ngOnInit(){}readXlsx(t){this.plus.load(),this.dataJson=[],this.dataImport=[];let e=t.target;const i=new FileReader;i.onload=t=>{const e=r.read(t.target.result,{type:"binary"});this.dataImport=r.utils.sheet_to_json(e.Sheets[e.SheetNames[0]],{header:1}),this.selectedFile(this.dataImport)},i.readAsBinaryString(e.files[0]),e=null,this.plus.loaded()}selectedFile(t){for(let e=1;e<t.length;e++){const i={};if(t[0].forEach((s,n)=>{i[`${s}`]=t[e][n]}),null==i)return;this.form.patchValue(this.plus.Obj_clean(i));const s=i;this.form.valid?(s.dateModify=Date.now()+e,s.keyWord=this.plus.generateKeyWord(s),this.dataJson.push(s)):(s.err=`T\u1ea1i h\xe0ng ${e}: ${this.plus.getErrValidateForm(this.form)}`,this.errorData.push(i))}this.errorData.length>0||this.xls.emit(this.dataJson),this.plus.loaded()}reload(){this.plus.reload(this.dbName+"/"+this.api)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(s.T))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-import-excel"]],inputs:{form:"form",api:"api",dbName:"dbName"},outputs:{xls:"xls"},decls:8,vars:3,consts:[[1,"list"],["for","file-import","class","custom-file-upload text-primary mx-5",4,"ngIf"],["hidden","","id","file-import","type","file","multiple","false",3,"change"],["target","_blank",1,"badge","badge-warning",3,"href"],["class","table table-inverse table-responsive",4,"ngIf"],["for","file-import",1,"custom-file-upload","text-primary","mx-5"],["aria-hidden","true",1,"fa","fa-file-excel-o","fa-2x","text-success"],[1,"table","table-inverse","table-responsive"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"text-center","mx-3",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n._UZ(1,"hr"),n.YNc(2,c,3,0,"label",1),n.TgZ(3,"input",2),n.NdJ("change",function(t){return e.readXlsx(t)}),n.qZA(),n._UZ(4,"hr"),n.TgZ(5,"a",3),n._uU(6,"File import m\u1eabu"),n.qZA(),n.qZA(),n.YNc(7,p,7,1,"table",4)),2&t&&(n.xp6(2),n.Q6J("ngIf",0==e.dataJson.length&&0==e.errorData.length),n.xp6(3),n.MGl("href","https://github.com/thuctd/FileStore/raw/master/templates/",e.api,".xlsx",n.LSH),n.xp6(2),n.Q6J("ngIf",e.errorData.length>0))},directives:[o.O5,o.sg,a.lW],styles:[""]}),t})()},48251:function(t,e,i){"use strict";i.d(e,{a:function(){return r}});var s=i(61511),n=i(35366);let r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[s.ez]]}),t})()},73538:function(t,e,i){"use strict";i.d(e,{w:function(){return a}});var s=i(35366),n=i(82393),r=i(61511);function o(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",1),s.TgZ(1,"button",2),s.NdJ("click",function(){return s.CHM(t),s.oxw().loadMore()}),s._uU(2," Xem th\xeam "),s.qZA(),s.qZA()}}let a=(()=>{class t{constructor(t){this.plus=t,this.data=new s.vpe,this.show=!0}ngOnInit(){this.check()}check(){this.plus.search.subscribe(t=>{this.show=t.length>0})}loadMore(){this.plus.load();const t=Math.ceil(this.dataLength/20)+1,e=this.plus.search.getValue();e.page=t,this.plus.httpPost(this.api+"/find",e).subscribe(t=>{let e;this.plus.loaded(),t.data&&(e=this.plus.Crypt_DecryptRest(t),0!=e.length||(this.show=!1)),this.data.emit(e),this.plus.alertToasrt(t)},t=>this.plus.alertError())}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(n.T))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-loadmore"]],inputs:{api:"api",dataLength:"dataLength"},outputs:{data:"data"},decls:1,vars:1,consts:[["class","text-center",4,"ngIf"],[1,"text-center"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(t,e){1&t&&s.YNc(0,o,3,0,"div",0),2&t&&s.Q6J("ngIf",e.show)},directives:[r.O5],styles:[""]}),t})()},10837:function(t,e,i){"use strict";i.d(e,{t:function(){return d}});var s=i(82393),n=i(35366),r=i(66283),o=i(26756),a=i(40084),c=i(61511),l=i(71522);function u(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"mat-option",5),n.NdJ("onSelectionChange",function(){const e=n.CHM(t).$implicit;return n.oxw().choose(e)})("click",function(){const e=n.CHM(t).$implicit;return n.oxw().choose(e)}),n._uU(1),n.qZA()}if(2&t){const t=e.$implicit;n.s9C("value",t),n.xp6(1),n.hij(" ",t," ")}}const p=[[["","icon",""]]],h=["[icon]"];let d=(()=>{class t{constructor(t){this.plus=t,this.item=new n.vpe,this.value=new n.vpe,this.keyWord=[],this.items=[]}ngOnInit(){}press(t){this.keyWord=[],this.value.emit(t),this.plus.IDB_DB_GetAll(this.db,this.api).subscribe(e=>{for(let i=0;i<e.length&&(e[i].keyWord.includes(this.plus.removeAccents(t))&&(this.keyWord.push(e[i][this.keySugguest]),this.items.push(e[i])),!(this.keyWord.length>5));i++);})}choose(t){this.item.emit(t),this.value.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(s.T))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-mat-auto"]],inputs:{label:"label",required:"required",inValue:"inValue",db:"db",api:"api",keySugguest:"keySugguest"},outputs:{item:"item",value:"value"},ngContentSelectors:h,decls:9,vars:5,consts:[["type","text","autocomplete","off","matInput","",3,"required","matAutocomplete","value","input"],["inAuto",""],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value","onSelectionChange","click",4,"ngFor","ngForOf"],[3,"value","onSelectionChange","click"]],template:function(t,e){if(1&t){const t=n.EpF();n.F$t(p),n.TgZ(0,"mat-form-field"),n.TgZ(1,"mat-label"),n._uU(2),n.qZA(),n.TgZ(3,"input",0,1),n.NdJ("input",function(){n.CHM(t);const i=n.MAs(4);return e.press(i.value)}),n.qZA(),n.TgZ(5,"mat-autocomplete",2,3),n.YNc(7,u,2,2,"mat-option",4),n.qZA(),n.Hsn(8),n.qZA()}if(2&t){const t=n.MAs(6);n.xp6(2),n.Oqu(e.label),n.xp6(1),n.s9C("value",e.inValue),n.Q6J("required",e.required)("matAutocomplete",t),n.xp6(4),n.Q6J("ngForOf",e.keyWord)}},directives:[r.KE,r.hX,o.Nt,a.ZL,a.XC,c.sg,l.ey],styles:[""]}),t})()},60635:function(t,e,i){"use strict";i.d(e,{$:function(){return d}});var s=i(35366),n=i(47701),r=i(82393),o=i(16073),a=i(66283),c=i(61511),l=i(26756),u=i(43691);function p(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-icon",5),s.NdJ("click",function(){return s.CHM(t),s.oxw().clear()}),s._uU(1,"close"),s.qZA()}}function h(t,e){if(1&t&&(s.TgZ(0,"mat-hint",6),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij("",t.filter.length," k\u1ebft qu\u1ea3")}}let d=(()=>{class t{constructor(t,e){this.plus=t,this.fb=e,this.filter=new s.vpe,this.keySearch="keyWord",this.searchForm=this.fb.group({input:[]}),this.keyWord=[]}ngOnInit(){this.search()}ngOnDestroy(){}search(){this.searchForm.valueChanges.pipe((0,n.b)(300)).subscribe(t=>{if(this.searchForm.invalid)return this.countResult=0;const e=[],i=[];this.plus.IDB_DB_GetAll(this.db,this.api).subscribe(s=>{for(let n=0;n<s.length;n++)s[n].keyWord.includes(this.plus.removeAccents(t.input))&&(e.push(s[n]),i.length<5&&i.push(s[n][this.keySearch]));this.keyWord=[...new Set(i)],this.filter.emit(e)})})}clear(){this.searchForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(r.T),s.Y36(o.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-search-idb"]],inputs:{db:"db",api:"api",keySearch:"keySearch"},outputs:{filter:"filter"},decls:5,vars:3,consts:[[3,"formGroup"],["matSuffix","","color","warn",3,"click",4,"ngIf"],["matInput","","type","text","id","search-api","autocomplete","off","formControlName","input","placeholder","T\xecm ki\u1ebfm nhanh (F2)"],["xx",""],["align","end",4,"ngIf"],["matSuffix","","color","warn",3,"click"],["align","end"]],template:function(t,e){if(1&t&&(s.TgZ(0,"mat-form-field",0),s.YNc(1,p,2,0,"mat-icon",1),s._UZ(2,"input",2,3),s.YNc(4,h,2,1,"mat-hint",4),s.qZA()),2&t){const t=s.MAs(3);s.Q6J("formGroup",e.searchForm),s.xp6(1),s.Q6J("ngIf",t.value.length>0),s.xp6(3),s.Q6J("ngIf",e.filter.length>1)}},directives:[a.KE,o.JL,o.sg,c.O5,l.Nt,o.Fj,o.JJ,o.u,u.Hw,a.R9,a.bx],styles:[""]}),t})()}}]);