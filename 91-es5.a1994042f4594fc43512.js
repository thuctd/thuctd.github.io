!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}(self.webpackChunk_4la=self.webpackChunk_4la||[]).push([[91],{49091:function(e,n,o){"use strict";o.r(n),o.d(n,{VehicleModule:function(){return At}});var r=o(61511),a=o(82393),l=o(31572),s=o(29063),c=function(){var e=function(){function e(i,n){t(this,e),this.http=i,this.plus=n,this.httpOptions=this.plus.getHeader(),this.apiUrl=this.plus.getApiUrl("settlement/"),this.collection="settlement"}return i(e,[{key:"get",value:function(){return this.http.get(this.apiUrl,this.httpOptions)}},{key:"getByMonth",value:function(t){return this.http.get(this.apiUrl+"getByMonth/"+t,this.httpOptions)}},{key:"getByIdMonth",value:function(t,e){return console.log(t,e),this.http.get(this.apiUrl+"id/"+t+"/month/"+e,this.httpOptions)}},{key:"create",value:function(t){return this.http.post(this.apiUrl,t,this.httpOptions)}},{key:"update",value:function(t){return this.http.put(this.apiUrl,t,this.httpOptions)}},{key:"delete",value:function(t){return this.http.delete(this.apiUrl+t,this.httpOptions)}},{key:"find",value:function(t){return this.http.post(this.apiUrl+"/find",t,this.httpOptions)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(s.eN),l.LFG(a.T))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),u=function(){var e=function(){function e(i,n){t(this,e),this.http=i,this.plus=n,this.httpOptions=this.plus.getHeader(),this.apiUrl=this.plus.getApiUrl("vehicle/"),this.collection="vehicle"}return i(e,[{key:"get",value:function(){return this.http.get(this.apiUrl,this.httpOptions)}},{key:"getByStatus",value:function(){return this.http.get(this.apiUrl,this.httpOptions)}},{key:"getForOrder",value:function(){return this.http.get(this.apiUrl+"order",this.httpOptions)}},{key:"create",value:function(t){return this.http.post(this.apiUrl,t,this.httpOptions)}},{key:"update",value:function(t){return this.http.put(this.apiUrl,t,this.httpOptions)}},{key:"delete",value:function(t){return this.http.delete(this.apiUrl+t,this.httpOptions)}},{key:"find",value:function(t){return this.http.post(this.apiUrl+"/find",t,this.httpOptions)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(s.eN),l.LFG(a.T))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),h=o(16073),d=o(47701),g=o(31153);function p(t,e){1&t&&(l.TgZ(0,"div",8),l._UZ(1,"i",9),l.qZA())}function Z(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"tbody"),l.TgZ(1,"tr"),l.TgZ(2,"td",16),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(2).log(t)}),l._uU(3),l.qZA(),l.TgZ(4,"td"),l._uU(5),l.qZA(),l.TgZ(6,"td"),l._uU(7),l.ALo(8,"number"),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.ALo(11,"number"),l.qZA(),l.TgZ(12,"td"),l.TgZ(13,"button",17),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(2).delSettlement(t._id)}),l._UZ(14,"i",18),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit;l.xp6(3),l.Oqu(n.vehicleId.label),l.xp6(2),l.Oqu(n.vehicleId.fuel),l.xp6(2),l.Oqu(l.lcZ(8,4,n.used)),l.xp6(3),l.Oqu(l.lcZ(11,6,n.fuelAdvance))}}function f(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"div",10),l.TgZ(1,"h4",11),l._uU(2,"B\u1ea2NG QUY\u1ebeT TO\xc1N NHI\xcaN LI\u1ec6U "),l.TgZ(3,"i",12),l.NdJ("click",function(){return l.CHM(i),l.oxw().download()}),l.qZA(),l.qZA(),l.TgZ(4,"table",13),l.TgZ(5,"thead",14),l.TgZ(6,"tr"),l.TgZ(7,"th"),l._uU(8,"Bi\u1ec3n s\u1ed1 xe"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Nhi\xean li\u1ec7u s\u1eed d\u1ee5ng"),l.qZA(),l.TgZ(11,"th"),l._uU(12,"S\u1ed1 Km ch\u1ed1t"),l.qZA(),l.TgZ(13,"th"),l._uU(14,"Nhi\xean li\u1ec7u t\u1ea1m \u1ee9ng"),l.qZA(),l._UZ(15,"th"),l.qZA(),l.qZA(),l.YNc(16,Z,15,8,"tbody",15),l.qZA(),l.qZA()}if(2&t){var n=l.oxw();l.xp6(16),l.Q6J("ngForOf",n.vehiclesCheck)}}function m(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td",16),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(2).log(t)}),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l.TgZ(8,"button",22),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(2).selectItem(t)}),l._uU(9,"Ch\u1ed1t km"),l.qZA(),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit;l.xp6(2),l.Oqu(n.label),l.xp6(2),l.Oqu(n.brand),l.xp6(2),l.Oqu(n.manager.fullName||n.manager.displayName)}}function v(t,e){if(1&t&&(l.TgZ(0,"div",10),l.TgZ(1,"H4",19),l._uU(2,"DANH S\xc1CH CH\u01afA CH\u1ed0T KM"),l.qZA(),l.TgZ(3,"table",20),l.TgZ(4,"thead",21),l.TgZ(5,"tr"),l.TgZ(6,"th"),l._uU(7,"Bi\u1ec3n s\u1ed1"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Hi\u1ec7u xe"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Ng\u01b0\u1eddi qu\u1ea3n l\xfd"),l.qZA(),l._UZ(12,"th"),l.qZA(),l.qZA(),l.TgZ(13,"tbody"),l.YNc(14,m,10,3,"tr",15),l.qZA(),l.qZA(),l.qZA()),2&t){var i=l.oxw();l.xp6(14),l.Q6J("ngForOf",i.vehiclesFilter)}}function q(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"h6"),l._uU(2,"S\u1ed1 gi\u1edd c\u1ea9u "),l.qZA(),l.TgZ(3,"input",40),l.NdJ("input",function(){return l.CHM(i),l.oxw(2).used()}),l.qZA(),l.qZA()}}function b(t,e){if(1&t&&(l.TgZ(0,"div",41),l.TgZ(1,"h6"),l._uU(2,"S\u1ed1 km th\xe1ng tr\u01b0\u1edbc: "),l.TgZ(3,"span",42),l._uU(4),l.ALo(5,"number"),l.qZA(),l.qZA(),l._UZ(6,"hr"),l.TgZ(7,"h6"),l._uU(8),l.qZA(),l._UZ(9,"hr"),l.TgZ(10,"h6"),l._uU(11),l.ALo(12,"number"),l.qZA(),l.qZA()),2&t){var i=l.oxw(2);l.xp6(4),l.hij("",l.lcZ(5,3,i.itemSelected.preUsed)," "),l.xp6(4),l.hij("S\u1ed1 km th\u1ef1c hi\u1ec7n trong th\xe1ng: ",i.newUsed-i.itemSelected.preUsed||"Ch\u01b0a c\xf3 s\u1ed1 li\u1ec7u",""),l.xp6(3),l.hij("T\u1ed5ng s\u1ed1 nhi\xean li\u1ec7u \u0111\u01b0\u1ee3c c\u1ea5p: ",l.xi3(12,5,(i.newUsed-i.itemSelected.preUsed)*i.itemSelected.quota/100+(i.timeCrane*i.itemSelected.quotaCrane||0),"0.0-1")," l\xedt")}}function T(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"div",23),l.TgZ(1,"div",24),l.TgZ(2,"div",25),l.TgZ(3,"div",26),l.TgZ(4,"h5",27),l._uU(5),l.qZA(),l.TgZ(6,"button",28),l.TgZ(7,"span",29),l._uU(8,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",30),l.TgZ(10,"form",31),l.TgZ(11,"div",32),l.TgZ(12,"h6"),l._uU(13,"S\u1ed1 km:"),l.qZA(),l.TgZ(14,"input",33),l.NdJ("input",function(){return l.CHM(i),l.oxw().used()}),l.qZA(),l.YNc(15,q,4,0,"div",34),l.TgZ(16,"h6"),l._uU(17,"S\u1ed1 nhi\xean li\u1ec7u \u0111\xe3 t\u1ea1m \u1ee9ng "),l.qZA(),l._UZ(18,"input",35),l._UZ(19,"hr"),l.YNc(20,b,13,8,"div",36),l.qZA(),l.qZA(),l.qZA(),l.TgZ(21,"div",37),l.TgZ(22,"button",38),l.NdJ("click",function(){return l.CHM(i),l.oxw().resetModal()}),l._uU(23,"H\u1ee7y"),l.qZA(),l.TgZ(24,"button",39),l.NdJ("click",function(){return l.CHM(i),l.oxw().submit()}),l._uU(25,"L\u01b0u"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){var n=l.oxw();l.xp6(5),l.AsE("Ch\u1ed1t s\u1ed1 km xe ",n.itemSelected.brand," - ",n.itemSelected.label,""),l.xp6(5),l.Q6J("formGroup",n.main),l.xp6(5),l.Q6J("ngIf",n.itemSelected.quotaCrane>0),l.xp6(5),l.Q6J("ngIf",n.newUsed>0||n.timeCrane>0),l.xp6(4),l.Q6J("disabled",!n.main.valid)}}var A=function(){var e=function(){function e(i,n,o,r){t(this,e),this.fb=i,this.plus=n,this.vehicleService=o,this.settlementService=r,this.api="settlement/",this.vehicles=[],this.vehiclesFilter=[],this.vehiclesCheck=[],this.loading=!0,this.loadMoreBtn=!1,this.today=this.plus.dateYMD((new Date).toISOString()),this.newUsed=0,this.timeCrane=0,this.data=[[1,2],[3,4]],this.wopts={bookType:"xlsx",type:"array"},this.fileName="SheetJS.xlsx",this.month=null,this.main=this.fb.group({preUsed:[,[h.kI.required]],used:[,[h.kI.required]],timeCrane:[0,[h.kI.max(255)]],fuelAdvance:[0,[]],quotaSet:[,[h.kI.required]]}),this.search=this.fb.group({what:["",[h.kI.minLength(3),h.kI.maxLength(100)]]}),this.dateForm=this.fb.group({date:[this.today,[h.kI.required]]})}return i(e,[{key:"ngOnInit",value:function(){this.getVehicles()}},{key:"getVehicles",value:function(){var t=this;this.vehicleService.get().subscribe(function(e){e?(t.vehicles=e,t.getVehiclesCheck()):t.plus.alertToasrt({war:"Vui l\xf2ng th\u1eed l\u1ea1i sau v\xe0i ph\xfat"})}),this.loading=!1}},{key:"getVehiclesCheck",value:function(){var t=this;this.loading=!0;var e=this.dateForm.value.date.slice(0,7);this.month=e,console.log(e),this.plus.httpGet(this.api+"getByMonth/"+e).subscribe(function(e){console.log(e),t.plus.alertToasrt(e),e?(t.vehiclesCheck=e,t.vehiclesFilter=t.plus.compareObj(t.vehicles,e),console.log(t.vehiclesFilter)):t.plus.alertToasrt({err:"L\u1ed7i k\u1ebft n\u1ed1i"}),console.log(t.vehiclesCheck),t.loading=!1})}},{key:"selectItem",value:function(t){var e=this;console.log(t),this.itemSelected=t,this.main.controls.quotaSet.setValue(t.quota),this.main.controls.timeCrane.setValue(0),this.main.controls.fuelAdvance.setValue(0);var i=this.dateForm.get("date").value;this.plus.httpGet(this.api+"id/"+t._id+"/month/"+i).subscribe(function(t){console.log(t),t.length>0?(e.main.controls.preUsed.setValue(t[0].used),e.itemSelected.preUsed=t[0].used):(e.plus.alertToasrt({war:"B\u1ea1n ch\u01b0a ch\u1ed1t s\u1ed1 th\xe1ng tr\u01b0\u1edbc!"}),e.main.controls.preUsed.setValue(0),e.itemSelected.preUsed=0)}),console.log(this.itemSelected)}},{key:"submit",value:function(){var t=this,e=this.main.value;e.month=this.dateForm.value.date.slice(0,7),e.vehicleId=this.itemSelected._id;var i=this.plus.generateData(e);console.log("SUBMIT -> ",i),this.plus.httpPost(this.api,i).subscribe(function(e){t.plus.alertToasrt(e),t.ngOnInit(),t.resetModal()})}},{key:"resetModal",value:function(){this.plus.clickBtn("closeModal"),this.itemSelected=null,this.newUsed=0,this.main.reset()}},{key:"delSettlement",value:function(t){var e=this;confirm("Xo\xe1 m\u1ee5c n\xe0y?")?(this.loading=!0,console.log(t),this.plus.httpDelete(this.api,t).subscribe(function(t){e.plus.alertToasrt(t),e.ngOnInit()})):this.plus.alertToasrt({war:"\u0110\xe3 h\u1ee7y"})}},{key:"find",value:function(){var t=this;this.search.valid&&this.search.valueChanges.pipe((0,d.b)(2e3)).subscribe(function(e){console.log(e),t.loading=!0,e.what=t.plus.removeAccents(e.what),t.vehicleService.find(e).subscribe(function(e){e.length>0&&(t.vehicles=e.sort(function(t,e){return t.dateModify-e.dateModify})),t.loadMoreBtn=!0,t.loading=!1})})}},{key:"loadMore",value:function(){var t=this;this.loading=!0;var e=Math.ceil(this.vehicles.length/10)+1,i=this.search.value;i.what=this.plus.removeAccents(i.what),i.page=e,this.vehicleService.find(i).subscribe(function(e){e.length>0?e.forEach(function(e){t.vehicles.push(e)}):(t.plus.alertToasrt({msg:"Kh\xf4ng c\xf2n k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p \n Nh\u1eadp n\u1ed9i dung c\u1ea7n t\xecm c\u1ee5 th\u1ec3 h\u01a1n"}),t.loadMoreBtn=!1),t.loading=!1})}},{key:"toYM",value:function(t){return t.slice(0,6)}},{key:"used",value:function(){this.newUsed=this.main.get("used").value,this.timeCrane=this.main.get("timeCrane").value}},{key:"log",value:function(t){return console.log(t)}},{key:"download",value:function(){var t=JSON.parse(localStorage.getItem("usrInfo"));t.unit&&t.fullName||this.plus.alertToasrt({err:"B\u1ea1n c\u1ea7n khai b\xe1o th\xeam th\xf4ng tin t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"})}},{key:"export",value:function(){this.vehicles.push("asdasasdas");var t=g.utils.table_to_sheet("settlement");console.log(t);var e=g.utils.book_new();g.utils.book_append_sheet(e,t,"Sheet1"),g.writeFile(e,this.fileName)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(h.qu),l.Y36(a.T),l.Y36(u),l.Y36(c))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-settlement"]],decls:10,vars:5,consts:[[1,"container"],[1,"form-group",3,"formGroup"],["for",""],["type","date","formControlName","date",1,"form-control",3,"change"],["class","text-center text-primary",4,"ngIf"],[1,"row"],["class","col",4,"ngIf"],["class","modal fade","id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",4,"ngIf"],[1,"text-center","text-primary"],[1,"fa","fa-spinner","fa-spin",2,"font-size","36px"],[1,"col"],[1,"text-center","text-success","py-2"],["aria-hidden","true",1,"fa","fa-download","text-primary",3,"click"],["id","settlement",1,"table","table-hover"],[1,"thead-default"],[4,"ngFor","ngForOf"],[3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"text-center","text-warning","py-2"],[1,"table","table-hover"],[1,"thead-inverse"],["type","button","data-toggle","modal","data-target","#modelId",1,"btn","btn-primary",3,"click"],["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-primary"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["type","number","placeholder","Nh\u1eadp s\u1ed1 km ch\u1ed1t trong th\xe1ng","formControlName","used",1,"form-control",3,"input"],[4,"ngIf"],["type","number","placeholder","Nh\u1eadp s\u1ed1 l\xedt nhi\xean li\u1ec7u \u0111\xe3 t\u1ea1m \u1ee9ng","formControlName","fuelAdvance",1,"form-control"],["class","calculator",4,"ngIf"],[1,"modal-footer"],["type","button","id","closeModal","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["type","number","placeholder","Nh\u1eadp s\u1ed1 l\xedt nhi\xean li\u1ec7u \u0111\xe3 t\u1ea1m \u1ee9ng","formControlName","timeCrane",1,"form-control",3,"input"],[1,"calculator"],[1,"text-danger","font-weight-bold"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"label",2),l._uU(3,"Ch\u1ecdn th\xe1ng: "),l.TgZ(4,"input",3),l.NdJ("change",function(){return e.ngOnInit()}),l.qZA(),l.qZA(),l.YNc(5,p,2,0,"div",4),l.TgZ(6,"div",5),l.YNc(7,f,17,1,"div",6),l.YNc(8,v,15,1,"div",6),l.qZA(),l.qZA(),l.YNc(9,T,26,6,"div",7)),2&t&&(l.xp6(1),l.Q6J("formGroup",e.dateForm),l.xp6(4),l.Q6J("ngIf",e.loading),l.xp6(2),l.Q6J("ngIf",e.vehiclesCheck.length>0),l.xp6(1),l.Q6J("ngIf",e.vehiclesFilter.length>0),l.xp6(1),l.Q6J("ngIf",e.itemSelected))},directives:[h.JL,h.sg,h.Fj,h.JJ,h.u,r.O5,r.sg,h._Y,h.wV],pipes:[r.JJ],styles:[""]}),e}(),y=o(68591),x=function(){var e=function(){function e(i,n){t(this,e),this.http=i,this.plus=n,this.httpOptions=this.plus.getHeader(),this.apiUrl=this.plus.getApiUrl("order/"),this.collection="order"}return i(e,[{key:"get",value:function(){return this.http.get(this.apiUrl,this.httpOptions)}},{key:"create",value:function(t){return this.http.post(this.apiUrl,t,this.httpOptions)}},{key:"update",value:function(t){return this.http.put(this.apiUrl,t,this.httpOptions)}},{key:"updateContact",value:function(t){return this.http.put(this.apiUrl+"contacts",t,this.httpOptions)}},{key:"delete",value:function(t){return this.http.delete(this.apiUrl+t,this.httpOptions)}},{key:"find",value:function(t){return this.http.post(this.apiUrl+"find",t,this.httpOptions)}},{key:"getByDate",value:function(t){return this.http.post(this.apiUrl+"orderDate",t,this.httpOptions)}},{key:"wait",value:function(t){return this.http.post(this.apiUrl+"wait",t,this.httpOptions)}},{key:"cancelWait",value:function(t){return this.http.delete(this.apiUrl+"wait/"+t,this.httpOptions)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(s.eN),l.LFG(a.T))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),k=function e(){t(this,e)};function U(t,e){1&t&&(l.TgZ(0,"div",17),l._UZ(1,"i",18),l.qZA())}function _(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"button",20),l.NdJ("click",function(){l.CHM(i);var t=l.oxw().$implicit;return l.oxw(2).compOrder(t)}),l._uU(1," \u0110i gh\xe9p "),l.qZA()}}function I(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l.YNc(12,_,2,0,"button",19),l.qZA(),l.qZA()),2&t){var i=e.$implicit;l.xp6(2),l.Oqu(i.vehicleId.type),l.xp6(2),l.Oqu(i.vehicleId.label),l.xp6(2),l.Oqu(i.how),l.xp6(2),l.Oqu(i.pointDes||"Xe \u0111ang \u0111\u01b0\u1ee3c ng\u01b0\u1eddi kh\xe1c \u0111\u0103ng k\xfd"),l.xp6(2),l.Oqu(1===i.orderStatus?"\u0110\xe3 duy\u1ec7t":"Ch\u1edd duy\u1ec7t"),l.xp6(2),l.Q6J("ngIf",0===i.orderStatus)}}function w(t,e){if(1&t&&(l.TgZ(0,"tbody"),l.YNc(1,I,13,6,"tr",15),l.qZA()),2&t){var i=l.oxw();l.xp6(1),l.Q6J("ngForOf",i.orderList)}}function N(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l.TgZ(6,"button",21),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw().order(t)}),l._uU(7," \u0110\u0103ng k\xfd "),l.qZA(),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit,o=l.oxw();l.xp6(2),l.Oqu(n.label),l.xp6(2),l.Oqu(n.type),l.xp6(2),l.MGl("routerLink","/dangkyxe/token/",o.token,"")}}function C(t,e){if(1&t&&(l.TgZ(0,"h6"),l._uU(1),l.qZA()),2&t){var i=e.$implicit;l.xp6(1),l.Oqu(i)}}function O(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"h6"),l._uU(1),l.TgZ(2,"i",38),l.NdJ("click",function(){var t=l.CHM(i).index;return l.oxw(2).delContact(t)}),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit;l.xp6(1),l.hij("",n," ")}}function J(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"div",22),l.TgZ(1,"div",23),l.TgZ(2,"div",24),l.TgZ(3,"div",25),l.TgZ(4,"h5",26),l._uU(5,"\u0110\u0102NG K\xdd \u0110I GH\xc9P"),l.qZA(),l.TgZ(6,"button",27),l.TgZ(7,"span",28),l._uU(8,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",29),l.TgZ(10,"div",0),l.TgZ(11,"div",6),l.TgZ(12,"div",12),l.TgZ(13,"h6"),l._uU(14,"S\u1ed1 ng\u01b0\u1eddi \u0111i:"),l.qZA(),l.qZA(),l.TgZ(15,"div",7),l.TgZ(16,"h6"),l._uU(17),l.qZA(),l.qZA(),l._UZ(18,"hr"),l.qZA(),l.TgZ(19,"div",6),l.TgZ(20,"div",12),l.TgZ(21,"h6"),l._uU(22,"C\xf4ng t\xe1c:"),l.qZA(),l.qZA(),l.TgZ(23,"div",7),l.TgZ(24,"h6"),l._uU(25),l.qZA(),l.qZA(),l._UZ(26,"hr"),l.qZA(),l.TgZ(27,"div",6),l.TgZ(28,"div",12),l.TgZ(29,"h6"),l._uU(30,"Gi\u1edd \u0111i:"),l.qZA(),l.qZA(),l.TgZ(31,"div",7),l.TgZ(32,"h6"),l._uU(33),l.qZA(),l.qZA(),l._UZ(34,"hr"),l.qZA(),l.TgZ(35,"div",6),l.TgZ(36,"div",12),l.TgZ(37,"h6"),l._uU(38,"Ng\xe0y \u0111i:"),l.qZA(),l.qZA(),l.TgZ(39,"div",7),l.TgZ(40,"h6"),l._uU(41),l.ALo(42,"date"),l.qZA(),l.qZA(),l._UZ(43,"hr"),l.qZA(),l.TgZ(44,"div",6),l.TgZ(45,"div",12),l.TgZ(46,"h6"),l._uU(47,"Gi\u1edd v\u1ec1:"),l.qZA(),l.qZA(),l.TgZ(48,"div",7),l.TgZ(49,"h6"),l._uU(50),l.qZA(),l.qZA(),l._UZ(51,"hr"),l.qZA(),l.TgZ(52,"div",6),l.TgZ(53,"div",12),l.TgZ(54,"h6"),l._uU(55,"Ng\xe0y v\u1ec1:"),l.qZA(),l.qZA(),l.TgZ(56,"div",7),l.TgZ(57,"h6"),l._uU(58),l.ALo(59,"date"),l.qZA(),l.qZA(),l._UZ(60,"hr"),l.qZA(),l.TgZ(61,"div",6),l.TgZ(62,"div",12),l.TgZ(63,"h6"),l._uU(64,"\u0110i\u1ec3m xu\u1ea5t ph\xe1t:"),l.qZA(),l.qZA(),l.TgZ(65,"div",7),l.TgZ(66,"h6"),l._uU(67),l.qZA(),l.qZA(),l._UZ(68,"hr"),l.qZA(),l.TgZ(69,"div",6),l.TgZ(70,"div",12),l.TgZ(71,"h6"),l._uU(72,"\u0110i\u1ec3m cu\u1ed1i:"),l.qZA(),l.qZA(),l.TgZ(73,"div",7),l.TgZ(74,"h6"),l._uU(75),l.qZA(),l.qZA(),l._UZ(76,"hr"),l.qZA(),l.TgZ(77,"div",6),l.TgZ(78,"div",12),l.TgZ(79,"h6"),l._uU(80,"Li\xean h\u1ec7:"),l.qZA(),l.qZA(),l.TgZ(81,"div",7),l.YNc(82,C,2,1,"h6",15),l.YNc(83,O,3,1,"h6",15),l.TgZ(84,"form",30),l._UZ(85,"input",31),l.TgZ(86,"button",32),l.NdJ("click",function(){return l.CHM(i),l.oxw().addContact()}),l._uU(87,"Th\xeam li\xean h\u1ec7"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(88,"div",33),l.TgZ(89,"button",34),l.NdJ("click",function(){return l.CHM(i),l.oxw().resetModal()}),l._UZ(90,"i",35),l.qZA(),l.TgZ(91,"button",36),l.NdJ("click",function(){return l.CHM(i),l.oxw().updateOrderContact()}),l._UZ(92,"i",37),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){var n=l.oxw();l.xp6(17),l.hij("",n.orderSelected.how," ng\u01b0\u1eddi"),l.xp6(8),l.Oqu(n.orderSelected.todo),l.xp6(8),l.Oqu(n.orderSelected.timeGo),l.xp6(8),l.Oqu(l.xi3(42,12,n.orderSelected.dateGo,"dd/MM/yyyy")),l.xp6(9),l.Oqu(n.orderSelected.timeBack),l.xp6(8),l.Oqu(l.xi3(59,15,n.orderSelected.dayBack,"dd/MM/yyyy")),l.xp6(9),l.Oqu(n.orderSelected.pointGo),l.xp6(8),l.Oqu(n.orderSelected.pointDes),l.xp6(7),l.Q6J("ngForOf",n.orderSelected.contact),l.xp6(1),l.Q6J("ngForOf",n.contacts),l.xp6(1),l.Q6J("formGroup",n.contactForm),l.xp6(7),l.Q6J("disabled",0===n.contacts.length)}}var S=function(){var e=function(){function e(i,n,o,r){t(this,e),this.plus=i,this.orderSV=n,this.vehicleSV=o,this.fb=r,this.vehicles=[],this.vehiclesWait=[],this.orderList=[],this.loading=!0,this.loadMoreBtn=!1,this.contacts=[],this.api="order/",this.today=this.plus.dateYMD((new Date).toISOString()),this.token=(new Date).getTime()+18e4,this.search=this.fb.group({what:["",[h.kI.minLength(3),h.kI.maxLength(100)]]}),this.dateForm=this.fb.group({dateGo:[this.today,[h.kI.required,h.kI.minLength(10),h.kI.maxLength(10)]]}),this.contactForm=this.fb.group({pesonnel:["",h.kI.required]})}return i(e,[{key:"ngOnInit",value:function(){this.getVehicles()}},{key:"find",value:function(){var t=this;this.search.valueChanges.pipe((0,d.b)(1500)).subscribe(function(e){t.search.valid&&(e.what=t.plus.removeAccents(e.what),t.loading=!0,t.orderSV.find(e).subscribe(function(e){e.length>0&&(t.orderList=e.sort(function(t,e){return t.dateModify-e.dateModify})),t.loadMoreBtn=!0,t.loading=!1}))})}},{key:"getVehicles",value:function(){var t=this;this.plus.httpGet("vehicle/order/").subscribe(function(e){e?(t.vehicles=e,t.getOrderDay(t.today)):t.plus.alertToasrt({war:"Vui l\xf2ng th\u1eed l\u1ea1i sau v\xe0i ph\xfat"})}),this.loading=!1}},{key:"getOrders",value:function(){var t=this,e=this.dateForm.value;this.dateForm.valid&&(this.loading=!0,this.orderList=[],this.plus.httpPost("order/orderDate",e).subscribe(function(e){t.plus.alertToasrt(e),t.vehiclesWait=t.plus.compareObj(t.vehicles,e),t.loading=!1,t.orderList=e,t.delWait(e)}))}},{key:"getOrderDay",value:function(t){var e=this;this.plus.httpPost("order/orderDate",{dateGo:t}).subscribe(function(t){e.plus.alertToasrt(t),e.vehiclesWait=e.plus.compareObj(e.vehicles,t),e.loading=!1,e.orderList=t,e.delWait(t)})}},{key:"loadMore",value:function(){var t=this;this.loading=!0;var e=Math.ceil(this.orderList.length/10)+1,i=this.search.value;i.what=this.plus.removeAccents(i.what),i.page=e,this.orderSV.find(i).subscribe(function(e){e.length>0?e.forEach(function(e){t.orderList.push(e)}):(t.plus.alertToasrt({msg:"Kh\xf4ng c\xf2n k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p \n Nh\u1eadp n\u1ed9i dung c\u1ea7n t\xecm c\u1ee5 th\u1ec3 h\u01a1n"}),t.loadMoreBtn=!1),t.loading=!1})}},{key:"resetModal",value:function(){this.contacts=[]}},{key:"wait",value:function(t){var e=this;this.orderSV.vehicle=t;var i=this.dateForm.value;this.orderSV.dateGo=i.dateGo,this.orderSV.wait({vehicleId:t._id,dateGo:i.dateGo}).subscribe(function(t){return e.plus.alertToasrt(t)})}},{key:"delWait",value:function(t){var e=this,i=Date.now();t.length>0&&t.forEach(function(t,n){3===t.orderStatus&&t.canEdit-i<0&&e.plus.httpDelete("order/wait/",t._id).subscribe(function(t){t.id&&e.getOrders()})})}},{key:"order",value:function(t){var e=this.dateForm.value;e.vehicle=t,e.token=this.token,console.log(e),localStorage.setItem("order",JSON.stringify(e))}},{key:"compOrder",value:function(t){this.orderSelected=t}},{key:"addContact",value:function(){this.contacts.push(this.contactForm.value.pesonnel),this.contactForm.reset()}},{key:"delContact",value:function(t){this.contacts.splice(t,1)}},{key:"updateOrderContact",value:function(){var t=this;this.orderSelected.contact=this.contacts.concat(this.orderSelected.contact);var e=this.plus.addKeyWord(this.orderSelected),i=new k;i._id=this.orderSelected._id,i.contact=e.contact,i.keyWord=e.keyWord,this.orderSV.updateContact(i).subscribe(function(e){t.plus.alertToasrt(e),t.plus.clickBtn("closeModal")}),this.contacts=[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.T),l.Y36(x),l.Y36(u),l.Y36(h.qu))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-order-list"]],decls:41,vars:5,consts:[[1,"container-fluid"],[1,"text-center","bg-warning","py-2","rounded"],[1,"form-group",3,"formGroup"],["for",""],["type","date","formControlName","dateGo",1,"form-control",3,"change"],["class","text-center text-primary",4,"ngIf"],[1,"row"],[1,"col-sm-8"],[1,"text-center","bg-info","py-2","rounded"],[1,"table","table-hover","table-inverse"],[1,"thead-inverse"],[4,"ngIf"],[1,"col-sm-4"],[1,"text-center","bg-success","py-2","rounded"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","modal fade","id","modelId","tabindex","-1",4,"ngIf"],[1,"text-center","text-primary"],[1,"fa","fa-spinner","fa-spin",2,"font-size","36px"],["type","button","class","btn btn-outline-success mx-1","data-toggle","modal","data-target","#modelId",3,"click",4,"ngIf"],["type","button","data-toggle","modal","data-target","#modelId",1,"btn","btn-outline-success","mx-1",3,"click"],["type","button",1,"btn","btn-outline-success",3,"routerLink","click"],["id","modelId","tabindex","-1",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-primary","text-white"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"contact",3,"formGroup"],["type","text","placeholder","H\u1ecd v\xe0 t\xean + s\u1ed1 \u0111i\u1ec7n tho\u1ea1i, N\u01a1i \u0111\xf3n ...","required","","formControlName","pesonnel",1,"form-control","mb-2"],[1,"btn","btn-outline-info","my-1",3,"click"],[1,"modal-footer"],["type","button","id","closeModal","data-dismiss","modal",1,"btn","btn-outline-danger","mx-2",3,"click"],[1,"fa","fa-times","text-danger"],["type","button",1,"btn","btn-outline-primary","mx-2",3,"disabled","click"],[1,"fa","fa-floppy-o"],[1,"fa","fa-trash","text-danger",3,"click"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"h4",1),l._uU(2,"\u0110\u0102NG K\xdd XE C\xd4NG T\xc1C"),l.qZA(),l.TgZ(3,"div",2),l._UZ(4,"label",3),l._uU(5,"Ch\u1ecdn ng\xe0y \u0111i: "),l.TgZ(6,"input",4),l.NdJ("change",function(){return e.getOrders()}),l.qZA(),l.qZA(),l.YNc(7,U,2,0,"div",5),l.TgZ(8,"div",6),l.TgZ(9,"div",7),l.TgZ(10,"h5",8),l._uU(11,"DANH S\xc1CH XE \u0110\xc3 \u0110\u0102NG K\xdd"),l.qZA(),l.TgZ(12,"table",9),l.TgZ(13,"thead",10),l.TgZ(14,"tr"),l.TgZ(15,"th"),l._uU(16,"Lo\u1ea1i xe"),l.qZA(),l.TgZ(17,"th"),l._uU(18,"Bi\u1ec3n s\u1ed1"),l.qZA(),l.TgZ(19,"th"),l._uU(20,"S\u1ed1 ng\u01b0\u1eddi \u0111i"),l.qZA(),l.TgZ(21,"th"),l._uU(22,"\u0110i\u1ec3m \u0111\u1ebfn"),l.qZA(),l.TgZ(23,"th"),l._uU(24,"Tr\u1ea1ng th\xe1i"),l.qZA(),l._UZ(25,"th"),l.qZA(),l.qZA(),l.YNc(26,w,2,1,"tbody",11),l.qZA(),l.qZA(),l.TgZ(27,"div",12),l.TgZ(28,"h5",13),l._uU(29,"DANH S\xc1CH XE CH\u1edc"),l.qZA(),l.TgZ(30,"table",9),l.TgZ(31,"thead",10),l.TgZ(32,"tr"),l.TgZ(33,"th"),l._uU(34,"Bi\u1ec3n s\u1ed1"),l.qZA(),l.TgZ(35,"th"),l._uU(36,"Lo\u1ea1i xe"),l.qZA(),l._UZ(37,"th",14),l.qZA(),l.qZA(),l.TgZ(38,"tbody"),l.YNc(39,N,8,3,"tr",15),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(40,J,93,18,"div",16),l.qZA()),2&t&&(l.xp6(3),l.Q6J("formGroup",e.dateForm),l.xp6(4),l.Q6J("ngIf",e.loading),l.xp6(19),l.Q6J("ngIf",e.orderList.length>0),l.xp6(13),l.Q6J("ngForOf",e.vehiclesWait),l.xp6(1),l.Q6J("ngIf",e.orderSelected))},directives:[h.JL,h.sg,h.Fj,h.JJ,h.u,r.O5,r.sg,y.rH,h._Y,h.Q7],pipes:[r.uU],styles:[""]}),e}();function M(t,e){1&t&&(l.TgZ(0,"div",7),l._UZ(1,"i",8),l.qZA())}function L(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){l.CHM(i);var t=l.oxw().$implicit;return l.oxw(2).onDelete(t)}),l._UZ(1,"i",17),l.qZA()}}function F(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.ALo(5,"date"),l.qZA(),l.TgZ(6,"td"),l._uU(7),l.ALo(8,"date"),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td",11),l.TgZ(12,"button",13),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(2).download(t)}),l._UZ(13,"i",14),l.qZA(),l.YNc(14,L,2,0,"button",15),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit;l.xp6(2),l.Oqu(n.todo),l.xp6(2),l.Oqu(l.xi3(5,5,n.dateGo,"dd/MM/yyyy")),l.xp6(3),l.Oqu(l.xi3(8,8,n.dayBack,"dd/MM/yyyy")),l.xp6(3),l.Oqu(n.pointDes),l.xp6(4),l.Q6J("ngIf",1!==n.orderStatus)}}function Y(t,e){if(1&t&&(l.TgZ(0,"table",9),l.TgZ(1,"thead",10),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"C\xf4ng t\xe1c"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Ng\xe0y \u0111i"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Ng\xe0y v\u1ec1"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"\u0110i\u1ec3m c\xf4ng t\xe1c"),l.qZA(),l._UZ(11,"th",11),l.qZA(),l.qZA(),l.TgZ(12,"tbody"),l.YNc(13,F,15,11,"tr",12),l.qZA(),l.qZA()),2&t){var i=l.oxw();l.xp6(13),l.Q6J("ngForOf",i.datalist)}}function G(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"div",11),l.TgZ(1,"button",18),l.NdJ("click",function(){return l.CHM(i),l.oxw().loadMore()}),l._uU(2," K\u1ebft qu\u1ea3 kh\xe1c "),l.qZA(),l.qZA()}}var D=function(t){return{loading:t}},B=function(){var e=function(){function e(i,n,o,r){t(this,e),this.plus=i,this.DB=n,this.fb=o,this.vehicleSV=r,this.vehicles=[],this.loading=!0,this.search=this.fb.group({what:["",[h.kI.minLength(3),h.kI.maxLength(100)]]})}return i(e,[{key:"ngOnInit",value:function(){this.getOrders(),this.find()}},{key:"getOrders",value:function(){var t=this;this.DB.get().subscribe(function(e){t.loading=!1,t.datalist=e,t.plus.alertToasrt(e)})}},{key:"getVehicles",value:function(){var t=this;this.vehicleSV.get().subscribe(function(e){t.vehicles=e,t.plus.alertToasrt(e)})}},{key:"find",value:function(){var t=this;this.search.valid&&this.search.valueChanges.pipe((0,d.b)(1e3)).subscribe(function(e){e.what=t.plus.removeAccents(e.what),t.loading=!0,t.DB.find(e).subscribe(function(e){e.length>0?t.datalist=e.sort(function(t,e){return t.dateModify-e.dateModify}):t.plus.alertToasrt({msg:"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p!"}),t.loadMoreBtn=!0,t.loading=!1})})}},{key:"loadMore",value:function(){var t=this;this.loading=!0;var e=Math.ceil(this.datalist.length/10)+1,i=this.search.value;i.what=this.plus.removeAccents(i.what),i.page=e,this.DB.find(i).subscribe(function(e){e.length>0?e.forEach(function(e){t.datalist.push(e)}):(t.plus.alertToasrt({msg:"Kh\xf4ng c\xf2n k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p \n Nh\u1eadp n\u1ed9i dung c\u1ea7n t\xecm c\u1ee5 th\u1ec3 h\u01a1n"}),t.loadMoreBtn=!1),t.loading=!1})}},{key:"onEdit",value:function(t){console.log(t)}},{key:"onDelete",value:function(t){var e=this;console.log(t),1===t.orderStatus?this.plus.alertToasrt({err:"Vui l\xf2ng kh\xf4ng th\u1ef1c hi\u1ec7n l\u1ea1i! T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n s\u1ebd b\u1ecb kho\xe1!"}):this.DB.delete(t._id).subscribe(function(t){e.plus.alertToasrt(t),e.getOrders()})}},{key:"download",value:function(t){JSON.parse(localStorage.getItem("usrInfo")).unit||this.plus.alertToasrt({err:"B\u1ea1n c\u1ea7n khai b\xe1o th\xeam th\xf4ng tin t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"}),console.log(t);var e=Object.assign({},t);e.dateGo=this.plus.dateToDMY(e.dateGo),e.dayBack=this.plus.dateToDMY(e.dayBack)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.T),l.Y36(x),l.Y36(h.qu),l.Y36(u))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-order-manager"]],decls:8,vars:7,consts:[[1,"container"],[1,"text-primary","text-center","bg-white","py-2","rounded"],[1,"form-group",3,"formGroup"],["list","students","type","text","formControlName","what","aria-describedby","helpId","placeholder","Nh\u1eadp th\xf4ng tin b\u1ea1n c\u1ea7n t\xecm","autocomplete","on",1,"form-control","text-danger",3,"ngClass"],["class","text-center text-primary",4,"ngIf"],["class","table table-hover table-inverse",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"text-center","text-primary"],[1,"fa","fa-spinner","fa-spin",2,"font-size","36px"],[1,"table","table-hover","table-inverse"],[1,"thead-inverse"],[1,"text-center"],[4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#modelId",1,"btn","btn-outline-primary","mx-1",3,"click"],["aria-hidden","true",1,"fa","fa-print","text-info"],["type","button","class","btn btn-outline-danger mx-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-danger","mx-1",3,"click"],[1,"fa","fa-trash"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"h4",1),l._uU(2," DANH S\xc1CH XE \u0110\xc3 \u0110\u0102NG K\xdd "),l.qZA(),l.TgZ(3,"div",2),l._UZ(4,"input",3),l.qZA(),l.YNc(5,M,2,0,"div",4),l.YNc(6,Y,14,1,"table",5),l.YNc(7,G,3,0,"div",6),l.qZA()),2&t&&(l.xp6(3),l.Q6J("formGroup",e.search),l.xp6(1),l.Q6J("ngClass",l.VKq(5,D,e.loading)),l.xp6(1),l.Q6J("ngIf",e.loading),l.xp6(1),l.Q6J("ngIf",e.datalist),l.xp6(1),l.Q6J("ngIf",e.loadMoreBtn))},directives:[h.JL,h.sg,h.Fj,h.JJ,h.u,r.mk,r.O5,r.sg],pipes:[r.uU],styles:[""]}),e}(),Q=function(){var e=function(){function e(){t(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-vehicle"]],decls:2,vars:0,template:function(t,e){1&t&&(l.TgZ(0,"p"),l._uU(1,"vehicle !"),l.qZA())},styles:[""]}),e}();function V(t,e){if(1&t&&(l.TgZ(0,"h4",4),l._uU(1),l.qZA()),2&t){var i=l.oxw();l.xp6(1),l.AsE("Lo\u1ea1i xe: ",i.vehicle.type," - Bi\u1ec3n s\u1ed1: ",i.vehicle.label,"")}}function H(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"p"),l._uU(2),l.TgZ(3,"i",23),l.NdJ("click",function(){var t=l.CHM(i).index;return l.oxw().delContact(t)}),l.qZA(),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit,o=e.index;l.xp6(2),l.AsE("",o+1,"./ ",n," ")}}function E(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"div",24),l.TgZ(1,"button",25),l.NdJ("click",function(){return l.CHM(i),l.oxw().submit()}),l._UZ(2,"i",26),l.qZA(),l.TgZ(3,"button",27),l.NdJ("click",function(){return l.CHM(i),l.oxw().back()}),l._UZ(4,"i",28),l.qZA(),l.qZA()}if(2&t){var n=l.oxw();l.xp6(1),l.Q6J("disabled",!n.main.valid||0===n.contact.length)}}function $(t,e){1&t&&l._UZ(0,"option",29),2&t&&l.s9C("value",e.$implicit)}var j=function(){var e=function(){function e(i,n,o,r,a,l,s){t(this,e),this.plus=i,this.DB=n,this.vehicleSV=o,this.fb=r,this.router=a,this.location=l,this.route=s,this.api="order/",this.vehicle=null,this.loading=!0,this.loadMoreBtn=!1,this.dateGo=null,this.contact=[],this.timeOut=!1,this.waitId="",this.token=null,this.over=null,this.time=[],this.main=this.fb.group({how:[,[h.kI.required]],todo:[,[h.kI.required]],timeGo:[,[h.kI.required,h.kI.minLength(5)]],dateGo:[,[h.kI.required]],timeBack:[,[h.kI.required,h.kI.minLength(5)]],dayBack:[this.dateGo,[h.kI.required]],pointGo:[],pointDes:[,[h.kI.required]]}),this.contactForm=this.fb.group({pesonnel:["",h.kI.required]})}return i(e,[{key:"ngOnInit",value:function(){clearInterval(this.over),this.getById(),this.timeInit()}},{key:"getById",value:function(){var t=this,e=JSON.parse(localStorage.getItem("order"));if(console.log(e),!e||e.token<Date.now()||e.token-Date.now()>19e4)return this.router.navigate(["/dangkyxe"]);this.token=e.token,this.vehicle=e.vehicle,this.countDown(),this.plus.alertToasrt({msg:"Xe \u0111\u01b0\u1ee3c gi\u1eef cho b\u1ea1n 03 ph\xfat \u0111\u1ec3 ho\xe0n t\u1ea5t th\xf4ng tin!"}),this.main.controls.dateGo.setValue(e.dateGo),this.main.controls.dayBack.setValue(e.dateGo),this.plus.httpPost(this.api+"wait",{vehicleId:e.vehicle._id,dateGo:e.dateGo}).subscribe(function(e){t.waitId=e.id})}},{key:"addContact",value:function(){this.contact.push(this.contactForm.value.pesonnel),this.contactForm.reset()}},{key:"delContact",value:function(t){this.contact.splice(t,1)}},{key:"submit",value:function(){var t=this,e=this.main.value;if(e.vehicleId=this.vehicle._id,e.driverId=this.vehicle.manager._id,e.contact=this.contact,new Date(e.dateGo)>new Date(e.dayBack))this.plus.alertToasrt({war:"Ng\xe0y v\u1ec1 ph\u1ea3i sau ng\xe0y \u0111i"});else{var i=this.plus.generateData(e);console.log(i),this.DB.create(i).subscribe(function(e){e.msg?(t.plus.alertToasrt(e),t.location.back(),clearInterval(t.over)):t.plus.alertToasrt(e)})}}},{key:"back",value:function(){var t=this;clearInterval(this.over),this.location.back(),this.plus.httpDelete(this.api+"wait/",this.waitId).subscribe(function(e){t.plus.alertToasrt(e)})}},{key:"countDown",value:function(){var t=this;clearInterval(this.over),this.over=setInterval(function(){var e=(new Date).getTime(),i=+t.token-e,n=Math.floor(i%36e5/6e4),o=Math.floor(i%6e4/1e3);t.remain=Math.round(100*(60*n+o)/180),console.log(t.over),localStorage.setItem("over",t.over),i<0&&(clearInterval(t.over),t.back())},2e3)}},{key:"timeOver",value:function(){var t=this,e=setTimeout(function(){clearInterval(t.over),console.log("timeOver()",t.over),t.router.navigate(["/dangkyxe"])},18e4);console.log(e)}},{key:"timeInit",value:function(){for(var t=[],e=0;e<23;)e<10?(t.push("0"+e+"g00"),t.push("0"+e+"g30")):(t.push(e+"g00"),t.push(e+"g30")),e++;return this.time=t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.T),l.Y36(x),l.Y36(u),l.Y36(h.qu),l.Y36(y.F0),l.Y36(r.Ye),l.Y36(y.gz))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-order"]],decls:40,vars:8,consts:[[1,"container"],[1,"text-center","bg-warning","py-2","rounded"],["class","font-weight-bold",4,"ngIf"],["id","orderVehicle",3,"formGroup"],[1,"font-weight-bold"],["type","number","placeholder","S\u1ed1 ng\u01b0\u1eddi \u0111i","required","","formControlName","how",1,"form-control","mb-2"],["type","text","placeholder","N\u1ed9i dung c\xf4ng t\xe1c","required","","formControlName","todo",1,"form-control","mb-2"],[1,"row"],[1,"col-sm"],["type","text","list","time","placeholder","VD: 05g30","formControlName","timeGo",1,"form-control","mb-2"],["type","text","list","time","placeholder","VD: 16g30","formControlName","timeBack",1,"form-control","mb-2"],["type","date","placeholder","Ng\xe0y v\u1ec1","required","","formControlName","dayBack",1,"form-control","mb-2"],["type","text","placeholder","\u0110i\u1ec3m \u0111\u1ebfn","autocomplete","on","required","","formControlName","pointDes",1,"form-control","mb-2"],[4,"ngFor","ngForOf"],[1,"contact",3,"formGroup"],["type","text","list","users","placeholder","H\u1ecd v\xe0 t\xean + s\u1ed1 \u0111i\u1ec7n tho\u1ea1i, N\u01a1i \u0111\xf3n ...","required","","formControlName","pesonnel",1,"form-control","mb-2"],[1,"btn","btn-outline-info","my-1",3,"click"],["id","users"],["class","action my-2 text-center","style","font-size: 24px",4,"ngIf"],[1,"progress","my-2"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-animated","progress-bar-striped","bg-warning"],["id","time"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-trash","text-danger",3,"click"],[1,"action","my-2","text-center",2,"font-size","24px"],["type","button",1,"btn","btn-primary","mx-2","px-4",2,"font-size","24px",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-floppy-o"],["type","button",1,"btn","btn-second","px-4",2,"font-size","24px",3,"click"],[1,"fa","fa-times","text-danger"],[3,"value"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"h4",1),l._uU(2,"\u0110\u0102NG K\xdd XE C\xd4NG T\xc1C "),l.qZA(),l.YNc(3,V,2,2,"h4",2),l.TgZ(4,"form",3),l.TgZ(5,"label",4),l._uU(6,"S\u1ed1 ng\u01b0\u1eddi \u0111i"),l.qZA(),l._UZ(7,"input",5),l.TgZ(8,"label",4),l._uU(9,"C\xf4ng t\xe1c"),l.qZA(),l._UZ(10,"input",6),l.TgZ(11,"div",7),l.TgZ(12,"div",8),l.TgZ(13,"label",4),l._uU(14,"Gi\u1edd \u0111i"),l.qZA(),l._UZ(15,"input",9),l.qZA(),l.TgZ(16,"div",8),l.TgZ(17,"label",4),l._uU(18,"Gi\u1edd v\u1ec1"),l.qZA(),l._UZ(19,"input",10),l.qZA(),l.TgZ(20,"div",8),l.TgZ(21,"label",4),l._uU(22,"Ng\xe0y v\u1ec1"),l.qZA(),l._UZ(23,"input",11),l.qZA(),l.qZA(),l.TgZ(24,"label",4),l._uU(25,"\u0110\u1ecba \u0111i\u1ec3m c\xf4ng t\xe1c"),l.qZA(),l._UZ(26,"input",12),l.TgZ(27,"label",4),l._uU(28,"Li\xean h\u1ec7"),l.qZA(),l.YNc(29,H,4,2,"div",13),l.qZA(),l.TgZ(30,"form",14),l._UZ(31,"input",15),l.TgZ(32,"button",16),l.NdJ("click",function(){return e.addContact()}),l._uU(33,"Th\xeam li\xean h\u1ec7"),l.qZA(),l.qZA(),l._UZ(34,"datalist",17),l.YNc(35,E,5,1,"div",18),l.TgZ(36,"div",19),l._UZ(37,"div",20),l.qZA(),l.qZA(),l.TgZ(38,"datalist",21),l.YNc(39,$,1,1,"option",22),l.qZA()),2&t&&(l.xp6(3),l.Q6J("ngIf",e.vehicle),l.xp6(1),l.Q6J("formGroup",e.main),l.xp6(25),l.Q6J("ngForOf",e.contact),l.xp6(1),l.Q6J("formGroup",e.contactForm),l.xp6(5),l.Q6J("ngIf",e.waitId.length>0),l.xp6(2),l.Udp("width",e.remain+"%"),l.xp6(2),l.Q6J("ngForOf",e.time))},directives:[r.O5,h._Y,h.JL,h.sg,h.wV,h.Fj,h.Q7,h.JJ,h.u,r.sg,h.YN,h.Kr],styles:[""]}),e}();function K(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td",45),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(2).log(t)}),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.ALo(7,"date"),l.qZA(),l.TgZ(8,"td"),l._uU(9),l.ALo(10,"date"),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.ALo(13,"number"),l.qZA(),l.TgZ(14,"td"),l.TgZ(15,"button",46),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(2).editItem(t)}),l._UZ(16,"i",47),l.qZA(),l.TgZ(17,"button",48),l.NdJ("click",function(){var t=l.CHM(i),e=t.$implicit,n=t.index;return l.oxw(2).delItem(e._id,n)}),l._UZ(18,"i",49),l.qZA(),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit;l.xp6(2),l.Oqu(n.vehicleId.label),l.xp6(2),l.Oqu(n.regType),l.xp6(2),l.Oqu(l.xi3(7,5,n.fromDate,"dd/MM/yyyy")),l.xp6(3),l.Oqu(l.xi3(10,8,n.toDate,"dd/MM/yyyy")),l.xp6(3),l.Oqu(l.lcZ(13,11,n.cost))}}function P(t,e){if(1&t&&(l.TgZ(0,"tbody"),l.YNc(1,K,19,13,"tr",44),l.qZA()),2&t){var i=l.oxw();l.xp6(1),l.Q6J("ngForOf",i.DBlist)}}function X(t,e){1&t&&(l.TgZ(0,"div",50),l._UZ(1,"i",51),l.qZA())}function z(t,e){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&t){var i=l.oxw();l.xp6(1),l.hij(" ",i.itemSelected.vehicleId.label,"")}}function W(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l.TgZ(8,"button",13),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(3).selectVehicle(t)}),l._uU(9,"Ch\u1ecdn"),l.qZA(),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit;l.xp6(2),l.Oqu(n.label),l.xp6(2),l.Oqu(n.type),l.xp6(2),l.Oqu(n.brand)}}function R(t,e){if(1&t&&(l.TgZ(0,"table",4),l.TgZ(1,"thead",5),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"Bi\u1ec3n s\u1ed1"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Lo\u1ea1i xe"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Hi\u1ec7u xe"),l.qZA(),l._UZ(9,"th"),l.qZA(),l.qZA(),l.TgZ(10,"tbody"),l.YNc(11,W,10,3,"tr",44),l.qZA(),l.qZA()),2&t){var i=l.oxw(2);l.xp6(11),l.Q6J("ngForOf",i.vehicleList)}}var tt=function(t){return{loading:t}};function et(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"input",52),l.NdJ("change",function(){return l.CHM(i),l.oxw().getVehicles()}),l.qZA(),l.YNc(2,R,12,1,"table",53),l.qZA()}if(2&t){var n=l.oxw();l.Q6J("formGroup",n.searchVehicle),l.xp6(1),l.Q6J("ngClass",l.VKq(3,tt,n.loading)),l.xp6(1),l.Q6J("ngIf",n.vehicleList.length>0)}}function it(t,e){if(1&t&&(l.TgZ(0,"div",27),l.TgZ(1,"div",28),l.TgZ(2,"h6"),l._uU(3,"Xe:"),l.qZA(),l.qZA(),l.TgZ(4,"div",29),l._uU(5," \xa0"),l.TgZ(6,"h6"),l._uU(7),l.qZA(),l.qZA(),l.qZA()),2&t){var i=l.oxw();l.xp6(7),l.AsE("",i.vehicleSelected.label," - ",i.vehicleSelected.brand,"")}}var nt=function(){var e=function(){function e(i,n,o,r){t(this,e),this.plus=i,this.vehicleSV=n,this.fb=o,this.route=r,this.api="registry/",this.loading=!0,this.DBlist=[],this.vehicleList=[],this.vehicleSelected=null,this.today=this.plus.dateYMD((new Date).toISOString()),this.main=this.fb.group({_id:[,[]],vehicleId:[,[h.kI.required]],regType:[,[h.kI.required]],fromDate:[,[h.kI.required]],toDate:[,[h.kI.required]],cost:[,[]]}),this.search=this.fb.group({what:["",[h.kI.minLength(4),h.kI.maxLength(100)]]}),this.searchVehicle=this.fb.group({what:["",[h.kI.minLength(4),h.kI.maxLength(100)]]})}return i(e,[{key:"ngOnInit",value:function(){this.getReg(),this.find(),this.getVehicles()}},{key:"getReg",value:function(){var t=this;this.plus.httpPost(this.api+"find",{page:1}).subscribe(function(e){t.plus.alertToasrt(e),t.DBlist=e,t.loading=!1})}},{key:"find",value:function(){var t=this;this.search.valid&&this.search.valueChanges.pipe((0,d.b)(1500)).subscribe(function(e){t.loading=!0,e.what=t.plus.removeAccents(e.what),t.plus.httpPost(t.api+"find",e).subscribe(function(e){t.loading=!1,e.length>0&&(t.DBlist=e)})})}},{key:"submit",value:function(){var t=this.plus.generateData(this.main.value);t._id?this.update(t):this.create(t),this.resetModal(),this.ngOnInit()}},{key:"create",value:function(t){var e=this;this.plus.httpPost(this.api,t).subscribe(function(i){e.plus.alertToasrt(i),i.msg&&(e.DBlist.push(t),e.plus.sortArr(e.DBlist,"dateModify"),e.resetModal()),e.getReg()})}},{key:"update",value:function(t){var e=this;this.plus.httpPut(this.api,t).subscribe(function(t){e.plus.alertToasrt(t),t.msg&&e.resetModal()})}},{key:"resetModal",value:function(){this.plus.clickBtn("closeModal"),this.main.reset(),this.itemSelected=null,this.vehicleList=[]}},{key:"loadMore",value:function(){var t=this,e=Math.ceil(this.DBlist.length/10)+1;this.plus.httpPost(this.api+"find",{page:e}).subscribe(function(e){e.length>0?e.forEach(function(e){t.DBlist.push(e)}):t.plus.alertToasrt({msg:"Kh\xf4ng\xa0c\xf2n\xa0k\u1ebft\xa0qu\u1ea3\xa0ph\xf9\xa0h\u1ee3p\xa0\n\xa0Nh\u1eadp\xa0n\u1ed9i\xa0dung\xa0c\u1ea7n\xa0t\xecm\xa0c\u1ee5\xa0th\u1ec3\xa0h\u01a1n"}),t.loading=!1})}},{key:"addItem",value:function(){this.resetModal(),this.plus.clickBtn("openModal")}},{key:"editItem",value:function(t){var e=t;this.itemSelected=e,e.fromDate=this.plus.UTCtoYMD(e.fromDate),e.toDate=this.plus.UTCtoYMD(e.toDate),this.main.patchValue(t),this.plus.clickBtn("openModal"),console.log(e)}},{key:"delItem",value:function(t,e){var i=this;this.plus.httpDelete(this.api,t).subscribe(function(t){i.plus.alertToasrt(t),t.msg&&i.DBlist.splice(e,1)})}},{key:"getVehicles",value:function(){var t=this;this.searchVehicle.valid&&this.searchVehicle.valueChanges.pipe((0,d.b)(1500)).subscribe(function(e){t.loading=!0,e.what=t.plus.removeAccents(e.what),t.plus.httpPost("vehicle/find",e).subscribe(function(e){t.loading=!1,e.length>0?t.vehicleList=e:t.plus.alertToasrt({war:"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p"})})})}},{key:"selectVehicle",value:function(t){console.log(t),this.main.controls.vehicleId.setValue(t._id),this.vehicleSelected=t,this.vehicleList=[]}},{key:"log",value:function(t){console.log(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.T),l.Y36(u),l.Y36(h.qu),l.Y36(y.gz))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-registry"]],decls:90,vars:11,consts:[[1,"container"],[1,"text-primary","text-center","bg-light","py-2","rounded"],[1,"form-group",3,"formGroup"],["list","students","type","text","formControlName","what","aria-describedby","helpId","placeholder","Nh\u1eadp th\xf4ng tin b\u1ea1n c\u1ea7n t\xecm","autocomplete","on",1,"form-control",3,"ngClass"],[1,"table","table-hover"],[1,"thead-default"],["type","button",1,"btn","btn-success","mx-1",3,"click"],[1,"fa","fa-plus"],["type","button",1,"btn","btn-primary","mx-1",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[4,"ngIf"],["class","text-center text-primary",4,"ngIf"],[1,"loadMore","text-center","my-2"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button","id","openModal","hidden","","data-toggle","modal","data-target","#modelId"],["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["myModal",""],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["class","form-group",3,"formGroup",4,"ngIf"],[3,"formGroup"],["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-4"],[1,"col-sm-8"],[1,"form-group"],["formControlName","regType",1,"form-control"],["value","\u0110\u0103ng ki\u1ec3m"],["value","C\u01b0\u1edbc \u0111\u01b0\u1eddng b\u1ed9"],["value","B\u1ea3o hi\u1ec3m b\u1eaft bu\u1ed9c"],["value","B\u1ea3o hi\u1ec3m v\u1eadt ch\u1ea5t"],["value","Ph\xed VTEC"],[1,"row","form-group"],["type","date","formControlName","fromDate",1,"form-control"],["type","date","formControlName","toDate",1,"form-control"],["type","number","formControlName","cost",1,"form-control"],[1,"modal-footer"],["id","closeModal","type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],[4,"ngFor","ngForOf"],[3,"click"],["type","button",1,"btn","btn-outline-success","mx-1",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-outline-danger","mx-1",3,"click"],[1,"fa","fa-trash"],[1,"text-center","text-primary"],[1,"fa","fa-spinner","fa-spin",2,"font-size","36px"],["type","text","required","","formControlName","what","placeholder","Nh\u1eadp th\xf4ng tin xe c\u1ea7n t\xecm v\xe0 ch\u1ecdn",1,"form-control",3,"ngClass","change"],["class","table table-hover",4,"ngIf"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"h4",1),l._uU(2," H\u1ea0N D\xd9NG Y\xcaU C\u1ea6U "),l.qZA(),l.TgZ(3,"div",2),l._UZ(4,"input",3),l.qZA(),l.TgZ(5,"table",4),l.TgZ(6,"thead",5),l.TgZ(7,"tr"),l.TgZ(8,"th"),l._uU(9,"Xe"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Lo\u1ea1i h\u1ed3 s\u01a1"),l.qZA(),l.TgZ(12,"th"),l._uU(13,"Ng\xe0y s\u1eed d\u1ee5ng"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Ng\xe0y h\u1ebft h\u1ea1n"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"S\u1ed1 ti\u1ec1n"),l.qZA(),l.TgZ(18,"th"),l.TgZ(19,"button",6),l.NdJ("click",function(){return e.addItem()}),l._UZ(20,"i",7),l.qZA(),l.TgZ(21,"button",8),l.NdJ("click",function(){return e.ngOnInit()}),l._UZ(22,"i",9),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(23,P,2,1,"tbody",10),l.qZA(),l.YNc(24,X,2,0,"div",11),l.TgZ(25,"div",12),l.TgZ(26,"button",13),l.NdJ("click",function(){return e.loadMore()}),l._uU(27,"Xem th\xeam"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"button",14),l._uU(29,"Modal"),l.qZA(),l.TgZ(30,"div",15,16),l.TgZ(32,"div",17),l.TgZ(33,"div",18),l.TgZ(34,"div",19),l.TgZ(35,"h5",20),l._uU(36,"Nh\u1eadp th\xf4ng tin xe "),l.YNc(37,z,2,1,"span",10),l.qZA(),l.TgZ(38,"button",21),l.TgZ(39,"span",22),l._uU(40,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(41,"div",23),l.YNc(42,et,3,5,"div",24),l.TgZ(43,"form",25),l.YNc(44,it,8,2,"div",26),l._UZ(45,"hr"),l.TgZ(46,"div",27),l.TgZ(47,"div",28),l.TgZ(48,"h6"),l._uU(49,"Lo\u1ea1i h\u1ed3 s\u01a1:"),l.qZA(),l.qZA(),l.TgZ(50,"div",29),l.TgZ(51,"div",30),l.TgZ(52,"select",31),l.TgZ(53,"option",32),l._uU(54,"\u0110\u0103ng ki\u1ec3m"),l.qZA(),l.TgZ(55,"option",33),l._uU(56,"C\u01b0\u1edbc \u0111\u01b0\u1eddng b\u1ed9"),l.qZA(),l.TgZ(57,"option",34),l._uU(58,"B\u1ea3o hi\u1ec3m b\u1eaft bu\u1ed9c"),l.qZA(),l.TgZ(59,"option",35),l._uU(60,"B\u1ea3o hi\u1ec3m v\u1eadt ch\u1ea5t"),l.qZA(),l.TgZ(61,"option",36),l._uU(62,"Ph\xed VTEC"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(63,"hr"),l.TgZ(64,"div",37),l.TgZ(65,"div",28),l.TgZ(66,"h6"),l._uU(67,"Ng\xe0y s\u1eed d\u1ee5ng:"),l.qZA(),l.qZA(),l.TgZ(68,"div",29),l._UZ(69,"input",38),l.qZA(),l.qZA(),l._UZ(70,"hr"),l.TgZ(71,"div",37),l.TgZ(72,"div",28),l.TgZ(73,"h6"),l._uU(74,"Ng\xe0y h\u1ebft h\u1ea1n:"),l.qZA(),l.qZA(),l.TgZ(75,"div",29),l._UZ(76,"input",39),l.qZA(),l.qZA(),l._UZ(77,"hr"),l.TgZ(78,"div",37),l.TgZ(79,"div",28),l.TgZ(80,"h6"),l._uU(81,"S\u1ed1 ti\u1ec1n:"),l.qZA(),l.qZA(),l.TgZ(82,"div",29),l._UZ(83,"input",40),l.qZA(),l.qZA(),l._UZ(84,"hr"),l.qZA(),l.qZA(),l.TgZ(85,"div",41),l.TgZ(86,"button",42),l._uU(87,"H\u1ee7y"),l.qZA(),l.TgZ(88,"button",43),l.NdJ("click",function(){return e.submit()}),l._uU(89,"L\u01b0u"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(3),l.Q6J("formGroup",e.search),l.xp6(1),l.Q6J("ngClass",l.VKq(9,tt,e.loading)),l.xp6(19),l.Q6J("ngIf",e.DBlist.length>0),l.xp6(1),l.Q6J("ngIf",e.loading),l.xp6(13),l.Q6J("ngIf",e.itemSelected),l.xp6(5),l.Q6J("ngIf",!e.itemSelected),l.xp6(1),l.Q6J("formGroup",e.main),l.xp6(1),l.Q6J("ngIf",e.vehicleSelected),l.xp6(44),l.Q6J("disabled",!e.main.valid))},directives:[h.JL,h.sg,h.Fj,h.JJ,h.u,r.mk,r.O5,h._Y,h.EJ,h.YN,h.Kr,h.wV,r.sg,h.Q7],pipes:[r.uU,r.JJ],styles:[""]}),e}();function ot(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"button",43),l.NdJ("click",function(){l.CHM(i);var t=l.oxw(),e=t.$implicit,n=t.index;return l.oxw(2).accept(e,n)}),l._UZ(1,"i",44),l.qZA()}}function rt(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"button",45),l.NdJ("click",function(){l.CHM(i);var t=l.oxw().$implicit;return l.oxw(2).editItem(t)}),l._UZ(1,"i",46),l.qZA()}}function at(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"button",47),l.NdJ("click",function(){l.CHM(i);var t=l.oxw().$implicit;return l.oxw(2).changeStatus(t)}),l._UZ(1,"i",48),l.qZA()}}function lt(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.ALo(9,"date"),l.qZA(),l.TgZ(10,"td"),l._uU(11),l.qZA(),l.TgZ(12,"td"),l.YNc(13,ot,2,0,"button",38),l.YNc(14,rt,2,0,"button",39),l.TgZ(15,"button",40),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(2).download(t)}),l._UZ(16,"i",41),l.qZA(),l.YNc(17,at,2,0,"button",42),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit,o=l.oxw(2);l.xp6(2),l.Oqu(n.vehicleId.label),l.xp6(2),l.Oqu(n.vehicleId.type),l.xp6(2),l.Oqu(n.driverId.fullName||n.driverId.displayName),l.xp6(2),l.Oqu(l.xi3(9,8,n.dateGo,"dd/MM/yyyy")),l.xp6(3),l.Oqu(n.todo),l.xp6(2),l.Q6J("ngIf",1!==n.orderStatus),l.xp6(1),l.Q6J("ngIf",1!==n.orderStatus),l.xp6(3),l.Q6J("ngIf",o.admin)}}function st(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"table",33),l.TgZ(1,"thead",34),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"Bi\u1ec3n s\u1ed1"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Lo\u1ea1i xe"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"T\xe0i x\u1ebf"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Ng\xe0y \u0111i"),l.qZA(),l.TgZ(11,"th"),l._uU(12,"C\xf4ng t\xe1c"),l.qZA(),l.TgZ(13,"th",35),l.TgZ(14,"i",36),l.NdJ("click",function(){return l.CHM(i),l.oxw().ngOnInit()}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(15,"tbody"),l.YNc(16,lt,18,11,"tr",37),l.qZA(),l.qZA()}if(2&t){var n=l.oxw();l.xp6(16),l.Q6J("ngForOf",n.dbList)}}function ct(t,e){if(1&t&&(l.TgZ(0,"span",49),l._uU(1),l.qZA()),2&t){var i=l.oxw();l.xp6(1),l.Oqu(i.vehicleSelected.label)}}function ut(t,e){1&t&&l._UZ(0,"input",50)}function ht(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l.TgZ(6,"button",31),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(2).selectVehicle(t)}),l._uU(7,"Ch\u1ecdn"),l.qZA(),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit;l.xp6(2),l.Oqu(n.type),l.xp6(2),l.Oqu(n.label)}}function dt(t,e){if(1&t&&(l.TgZ(0,"table",33),l.TgZ(1,"thead",51),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"Lo\u1ea1i xe"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Bi\u1ec3n s\u1ed1"),l.qZA(),l._UZ(7,"th"),l.qZA(),l.qZA(),l.TgZ(8,"tbody"),l.YNc(9,ht,8,2,"tr",37),l.qZA(),l.qZA()),2&t){var i=l.oxw();l.xp6(9),l.Q6J("ngForOf",i.vehicleList)}}function gt(t,e){if(1&t&&(l.TgZ(0,"span",49),l._uU(1),l.qZA()),2&t){var i=l.oxw();l.xp6(1),l.Oqu(i.userSelected.user_Id.fullName)}}function pt(t,e){1&t&&l._UZ(0,"input",52)}function Zt(t,e){if(1&t){var i=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l.TgZ(6,"button",31),l.NdJ("click",function(){var t=l.CHM(i).$implicit;return l.oxw(2).selectDriver(t)}),l._uU(7,"Ch\u1ecdn"),l.qZA(),l.qZA(),l.qZA()}if(2&t){var n=e.$implicit;l.xp6(2),l.Oqu(n.user_Id.fullName||"Ch\u01b0a khai b\xe1o"),l.xp6(2),l.Oqu(n.level)}}function ft(t,e){if(1&t&&(l.TgZ(0,"table",33),l.TgZ(1,"thead",51),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"H\u1ecd v\xe0 t\xean"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"H\u1ea1ng b\u1eb1ng l\xe1i"),l.qZA(),l._UZ(7,"th"),l.qZA(),l.qZA(),l.TgZ(8,"tbody"),l.YNc(9,Zt,8,2,"tr",37),l.qZA(),l.qZA()),2&t){var i=l.oxw();l.xp6(9),l.Q6J("ngForOf",i.userList)}}var mt,vt,qt=function(t){return{loading:t}},bt=[{path:"",component:Q},{path:"quanlyxe",component:Q},{path:"quanlydangkyxe",component:B},{path:"dangkyxe",component:S},{path:"dangkyxe/token/:token",component:j},{path:"quyettoan",component:A},{path:"hansudung/:id",component:nt},{path:"hansudung",component:nt},{path:"duyetxe",component:(mt=function(){function e(i,n){t(this,e),this.plus=i,this.fb=n,this.api="accept/",this.loading=!0,this.dbList=[],this.userList=[],this.vehicleList=[],this.userSelected=null,this.vehicleSelected=null,this.orderSelected=null,this.admin=this.plus.isAdmin(),this.from=localStorage.getItem("usrInfo"),this.main=this.fb.group({_id:[],vehicleId:[,[h.kI.required]],driverId:[,[h.kI.required]],how:[,[h.kI.required]],todo:[,[h.kI.required]],timeGo:[,[]],dateGo:[,[h.kI.required]],timeBack:[,[]],dayBack:[,[h.kI.required]],pointGo:[,[h.kI.required]],pointDes:[,[h.kI.required]],contact:[,[]],note:["",h.kI.maxLength(100)]}),this.searchForm=this.fb.group({what:["",[h.kI.minLength(4),h.kI.maxLength(100)]]}),this.searchUser=this.fb.group({what:["",[h.kI.minLength(4),h.kI.maxLength(100)]]}),this.searchVehicle=this.fb.group({what:["",[h.kI.minLength(4),h.kI.maxLength(100)]]})}return i(e,[{key:"ngOnInit",value:function(){this.get(),this.findUser(),this.findVehicle(),this.findOrder()}},{key:"get",value:function(){var t=this;this.plus.httpGet(this.api+"1").subscribe(function(e){t.dbList=e,t.plus.alertToasrt(e),t.loading=!1})}},{key:"findOrder",value:function(){var t=this;this.searchForm.valid&&this.searchForm.valueChanges.pipe((0,d.b)(1500)).subscribe(function(e){console.log(e),e.what&&e.what.length>3&&(t.loading=!0,e.what=t.plus.removeAccents(e.what),t.plus.httpPost("accept/find",e).subscribe(function(e){t.loading=!1,t.plus.alertToasrt(e),e.length>0&&(t.dbList=e)}))})}},{key:"findVehicle",value:function(){var t=this;this.searchVehicle.valid&&this.searchVehicle.valueChanges.pipe((0,d.b)(1500)).subscribe(function(e){console.log(e),e.what&&e.what.length>3&&(t.loading=!0,e.what=t.plus.removeAccents(e.what),t.plus.httpPost("vehicle/find",e).subscribe(function(e){t.loading=!1,t.plus.alertToasrt(e),e.length>0&&(t.vehicleList=e)}))})}},{key:"findUser",value:function(){var t=this;this.searchUser.valid&&this.searchUser.valueChanges.pipe((0,d.b)(1500)).subscribe(function(e){console.log(e),e.what&&e.what.length>3&&(e.what=t.plus.removeAccents(e.what),t.loading=!0,t.plus.httpPost("driver/find",e).subscribe(function(e){t.loading=!1,t.plus.alertToasrt(e),t.userList=e}))})}},{key:"selectDriver",value:function(t){this.userSelected=t,this.userList=[],console.log(t),this.main.controls.driverId.setValue(t.user_Id._id)}},{key:"selectVehicle",value:function(t){this.vehicleSelected=t,this.vehicleList=[],console.log(t),this.main.controls.vehicleId.setValue(t._id)}},{key:"changeStatus",value:function(t){var e=this;this.plus.httpPut("order",{_id:t._id,orderStatus:0}).subscribe(function(t){e.plus.alertToasrt(t)})}},{key:"editItem",value:function(t){console.log(t),this.orderSelected=t,this.main.patchValue(t),this.main.controls.vehicleId.setValue(t.vehicleId._id),this.main.controls.driverId.setValue(t.driverId._id),this.plus.clickBtn("openModal")}},{key:"reset",value:function(){this.plus.clickBtn("closeModal"),this.main.reset(),this.searchForm.reset(),this.searchUser.reset(),this.searchVehicle.reset(),this.orderSelected=null,this.userSelected=null,this.vehicleSelected=null}},{key:"submit",value:function(){var t=this,e=this.plus.addKeyWord(this.main.value);console.log(e),this.plus.httpPut("order",e).subscribe(function(e){t.plus.alertToasrt(e),t.plus.clickBtn("closeModal")})}},{key:"accept",value:function(t,e){var i=this;console.log(t);var n={title:"Th\xf4ng b\xe1o c\xf4ng t\xe1c ng\xe0y ".concat(this.plus.dateToDMY(t.dateGo),"."),email:t.driverId.email,message:"<h4>Th\xf4ng b\xe1o c\xf4ng t\xe1c ng\xe0y ".concat(this.plus.dateToDMY(t.dateGo),":</h4>\n      <h4>Lo\u1ea1i xe: ").concat(t.vehicleId.type," - ").concat(t.vehicleId.label,".</h4>\n      <h4>Gi\u1edd \u0111i: ").concat(t.timeGo,".</h4>\n      <h4>C\xf4ng t\xe1c: ").concat(t.todo,".</h4>\n      <h4>\u0110\u1ecba \u0111i\u1ec3m: ").concat(t.pointDes,".</h4>\n      <h4>Li\xean h\u1ec7: ").concat(t.contact.join(", "),".</h4>\n      "),t0k3n:{user:"tckt.dlxl@gmail.com",pass:"pdhorsgfplhxhecj"}};1===t.orderStatus?(this.plus.alertToasrt({war:"B\u1ea1n \u0111\xe3 duy\u1ec7t xe n\xe0y!"}),this.get()):(this.plus.httpPost(this.api,{id:t._id,orderStatus:1}).subscribe(function(t){i.dbList[e].orderStatus=1,i.plus.alertToasrt(t)}),console.log(n),this.plus.sendMail(n).subscribe(function(e){return o=i,a=regeneratorRuntime.mark(function i(){var o=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=e.email,!i.t0){i.next=7;break}return this.plus.alertToasrt({msg:"\u0110\xe3 g\u1eedi mail cho l\xe1i xe"}),i.next=5,this.plus.sleep(5e3);case 5:n.email=t.userId.email,this.plus.sendMail(n).subscribe(function(t){o.plus.alertToasrt({msg:"\u0110\xe3 g\u1eedi mail cho ng\u01b0\u1eddi \u0111\u0103ng k\xfd xe"})});case 7:case"end":return i.stop()}},i,this)}),new((r=void 0)||(r=Promise))(function(t,e){function i(t){try{l(a.next(t))}catch(i){e(i)}}function n(t){try{l(a.throw(t))}catch(i){e(i)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof r?o:new r(function(t){t(o)})).then(i,n)}l((a=a.apply(o,[])).next())});var o,r,a}))}},{key:"download",value:function(t){JSON.parse(localStorage.getItem("usrInfo")).unit||this.plus.alertToasrt({err:"B\u1ea1n c\u1ea7n khai b\xe1o th\xeam th\xf4ng tin t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"}),console.log(t);var e=Object.assign({},t);e.dateGo=this.plus.dateToDMY(e.dateGo),e.dayBack=this.plus.dateToDMY(e.dayBack)}}]),e}(),mt.\u0275fac=function(t){return new(t||mt)(l.Y36(a.T),l.Y36(h.qu))},mt.\u0275cmp=l.Xpm({type:mt,selectors:[["app-acception"]],decls:66,vars:14,consts:[[1,"form-group",3,"formGroup"],["type","text","placeholder","Nh\u1eadp th\xf4ng tin b\u1ea1n c\u1ea7n t\xecm","formControlName","what",1,"form-control",3,"ngClass","change"],["class","table table-hover",4,"ngIf"],["type","button","id","openModal","hidden","","data-toggle","modal","data-target","#regModal",1,"btn","btn-primary","btn-lg"],["id","regModal","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-primary"],[1,"modal-title","text-center","text-white"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[3,"formGroup"],[1,"form-group"],["class","text-danger",4,"ngIf"],["type","text","class","form-control","placeholder","Nh\u1eadp th\xf4ng tin xe c\u1ea7n \u0111\u1ed5i","formControlName","what",4,"ngIf"],[1,"vehicleList"],["type","text","class","form-control","placeholder","Nh\u1eadp th\xf4ng tin t\xe0i x\u1ebf c\u1ea7n \u0111\u1ed5i","formControlName","what",4,"ngIf"],[1,"userList"],["type","text","hidden","","formControlName","_id",1,"form-control"],[1,"row","form-group"],[1,"col-sm-4"],[1,"col-sm-8"],["type","number","formControlName","how",1,"form-control"],["rows","2","formControlName","todo",1,"form-control"],["type","text","formControlName","timeGo",1,"form-control"],["rows","3","formControlName","note",1,"form-control"],[1,"modal-footer"],["type","button","id","closeModal","data-dismiss","modal",1,"btn","btn-outline-danger",3,"click"],[1,"fa","fa-times"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fa","fa-floppy-o"],[1,"table","table-hover"],[1,"thead-default"],[1,"text-center","text-primary"],[1,"fa","fa-refresh",3,"click"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-outline-warning mx-1","title","Duy\u1ec7t",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success mx-1",3,"click",4,"ngIf"],["type","button","data-toggle","modal","data-target","#modelId",1,"btn","btn-outline-primary","mx-1",3,"click"],["aria-hidden","true",1,"fa","fa-print","text-info"],["type","button","class","btn btn-outline-danger mx-1",3,"click",4,"ngIf"],["type","button","title","Duy\u1ec7t",1,"btn","btn-outline-warning","mx-1",3,"click"],["aria-hidden","true",1,"fa","fa-check"],["type","button",1,"btn","btn-outline-success","mx-1",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["type","button",1,"btn","btn-outline-danger","mx-1",3,"click"],[1,"fa","fa-trash","text-danger"],[1,"text-danger"],["type","text","placeholder","Nh\u1eadp th\xf4ng tin xe c\u1ea7n \u0111\u1ed5i","formControlName","what",1,"form-control"],[1,"thead-inverse"],["type","text","placeholder","Nh\u1eadp th\xf4ng tin t\xe0i x\u1ebf c\u1ea7n \u0111\u1ed5i","formControlName","what",1,"form-control"]],template:function(t,e){1&t&&(l.TgZ(0,"form",0),l.TgZ(1,"input",1),l.NdJ("change",function(){return e.findOrder()}),l.qZA(),l.qZA(),l.YNc(2,st,17,1,"table",2),l._UZ(3,"button",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"div",6),l.TgZ(7,"div",7),l.TgZ(8,"h5",8),l._uU(9,"Hi\u1ec7u ch\u1ec9nh xe \u0111\u0103ng k\xfd"),l.qZA(),l.TgZ(10,"button",9),l.NdJ("click",function(){return e.reset()}),l.TgZ(11,"span",10),l._uU(12,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",11),l.TgZ(14,"div",12),l.TgZ(15,"form",13),l.TgZ(16,"div",14),l.TgZ(17,"h6"),l._uU(18,"\u0110\u1ed5i xe: "),l.YNc(19,ct,2,1,"span",15),l.qZA(),l.YNc(20,ut,1,0,"input",16),l.qZA(),l.TgZ(21,"div",17),l.YNc(22,dt,10,1,"table",2),l.qZA(),l.qZA(),l.TgZ(23,"form",13),l.TgZ(24,"div",14),l.TgZ(25,"h6"),l._uU(26,"\u0110\u1ed5i t\xe0i x\u1ebf: "),l.YNc(27,gt,2,1,"span",15),l.qZA(),l.YNc(28,pt,1,0,"input",18),l.qZA(),l.TgZ(29,"div",19),l.YNc(30,ft,10,1,"table",2),l.qZA(),l.qZA(),l.TgZ(31,"form",13),l._UZ(32,"input",20),l.TgZ(33,"div",21),l.TgZ(34,"div",22),l.TgZ(35,"h6"),l._uU(36,"S\u1ed1 ng\u01b0\u1eddi \u0111i:"),l.qZA(),l.qZA(),l.TgZ(37,"div",23),l._UZ(38,"input",24),l.qZA(),l.qZA(),l._UZ(39,"hr"),l.TgZ(40,"div",21),l.TgZ(41,"div",22),l.TgZ(42,"h6"),l._uU(43,"C\xf4ng t\xe1c:"),l.qZA(),l.qZA(),l.TgZ(44,"div",23),l._UZ(45,"textarea",25),l.qZA(),l.qZA(),l._UZ(46,"hr"),l.TgZ(47,"div",21),l.TgZ(48,"div",22),l.TgZ(49,"h6"),l._uU(50,"Gi\u1edd \u0111i:"),l.qZA(),l.qZA(),l.TgZ(51,"div",23),l._UZ(52,"input",26),l.qZA(),l.qZA(),l._UZ(53,"hr"),l.TgZ(54,"div",21),l.TgZ(55,"div",22),l.TgZ(56,"h6"),l._uU(57,"L\u1eddi nh\u1eafn cho l\xe1i xe"),l.qZA(),l.qZA(),l.TgZ(58,"div",23),l._UZ(59,"textarea",27),l.qZA(),l.qZA(),l._UZ(60,"hr"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(61,"div",28),l.TgZ(62,"button",29),l.NdJ("click",function(){return e.reset()}),l._UZ(63,"i",30),l.qZA(),l.TgZ(64,"button",31),l.NdJ("click",function(){return e.submit()}),l._UZ(65,"i",32),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.Q6J("formGroup",e.searchForm),l.xp6(1),l.Q6J("ngClass",l.VKq(12,qt,e.loading)),l.xp6(1),l.Q6J("ngIf",e.dbList.length>0),l.xp6(13),l.Q6J("formGroup",e.searchVehicle),l.xp6(4),l.Q6J("ngIf",e.vehicleSelected),l.xp6(1),l.Q6J("ngIf",!e.vehicleSelected),l.xp6(2),l.Q6J("ngIf",e.vehicleList.length>0),l.xp6(1),l.Q6J("formGroup",e.searchUser),l.xp6(4),l.Q6J("ngIf",e.userSelected),l.xp6(1),l.Q6J("ngIf",!e.userSelected),l.xp6(2),l.Q6J("ngIf",e.userList.length>0),l.xp6(1),l.Q6J("formGroup",e.main))},directives:[h._Y,h.JL,h.sg,h.Fj,h.JJ,h.u,r.mk,r.O5,h.wV,r.sg],pipes:[r.uU],styles:[""]}),mt)},{path:"taixe",component:B}],Tt=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[y.Bz.forChild(bt)],y.Bz]}),e}(),At=((vt=function e(){t(this,e)}).\u0275fac=function(t){return new(t||vt)},vt.\u0275mod=l.oAB({type:vt}),vt.\u0275inj=l.cJS({imports:[[r.ez,Tt,h.UX,h.u5]]}),vt)}}])}();