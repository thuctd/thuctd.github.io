"use strict";(self.webpackChunkdlxl=self.webpackChunkdlxl||[]).push([[394],{99433:(q,v,r)=>{r.d(v,{L:()=>I});var m=r(94650),M=r(15439),D=r.n(M),Z=r(8277),_=r(3238),g=r(24006),i=r(99602),U=r(284),N=r(59549);const t={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"YYYY",dateA11yLabel:"DD/MM/YYYY",monthYearA11yLabel:"YYYY"}};let I=(()=>{class C{constructor(p){this.fb=p,this.month=new m.vpe,this.label="",this.format="DD/MM/YYYY",this.type="outline",this.readOnly=!1,this.openOnFocus=!0,this.main=this.fb.group({inputDate:[new Date,[]]})}ngOnInit(){this.main.controls.inputDate.setValue(D()(this.startDay,this.format).toDate())}ngOnChanges(){this.main.controls.inputDate.setValue(D()(this.startDay,this.format).toDate())}chosenMonthHandler(){this.month.emit(D()(this.main.value.inputDate).format(this.format))}}return C.\u0275fac=function(p){return new(p||C)(m.Y36(g.qu))},C.\u0275cmp=m.Xpm({type:C,selectors:[["app-date-picker"]],inputs:{startDay:"startDay",label:"label",format:"format",type:"type",readOnly:"readOnly",openOnFocus:"openOnFocus"},outputs:{month:"month"},features:[m._Bn([{provide:_._A,useClass:Z.t7,deps:[_.Ad]},{provide:_.sG,useValue:t}]),m.TTD],decls:8,vars:7,consts:[[3,"formGroup"],[3,"appearance"],["matInput","","formControlName","inputDate",3,"matDatepicker","readonly","placeholder","focus","dateChange"],["matIconSuffix","",3,"for"],["dp3",""]],template:function(p,o){if(1&p){const c=m.EpF();m.TgZ(0,"span",0)(1,"mat-form-field",1)(2,"mat-label"),m._uU(3),m.qZA(),m.TgZ(4,"input",2),m.NdJ("focus",function(){m.CHM(c);const f=m.MAs(7);return m.KtG(o.openOnFocus?f.open():null)})("dateChange",function(){return o.chosenMonthHandler()}),m.qZA(),m._UZ(5,"mat-datepicker-toggle",3)(6,"mat-datepicker",null,4),m.qZA()()}if(2&p){const c=m.MAs(7);m.Q6J("formGroup",o.main),m.xp6(1),m.Q6J("appearance",o.type),m.xp6(2),m.Oqu(o.label),m.xp6(1),m.Q6J("matDatepicker",c)("readonly",o.readOnly)("placeholder",o.format),m.xp6(1),m.Q6J("for",c)}},dependencies:[i.Mq,i.hl,i.nW,U.Nt,N.KE,N.hX,N.R9,g.Fj,g.JJ,g.JL,g.sg,g.u],changeDetection:0}),C})()},21394:(q,v,r)=>{r.r(v),r.d(v,{UncModule:()=>st});var m=r(36895),M=r(24809),D=r(5923),Z=r(9116),_=r(94222),g=r(78372),i=r(24006),U=r(15228),N=r(28986),t=r(94650),I=r(58441),C=r(85608),h=r(25555),p=r(12012),o=r(10875),c=r(11147),A=r(35304),f=r(4859),k=r(97392),y=r(284),b=r(59549),x=r(47957),H=r(3238),O=r(10266),Y=r(31361);function B(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"mat-option",16),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.selectBank(l))}),t._UZ(1,"img",17),t._uU(2),t.qZA()}if(2&s){const e=d.$implicit;t.xp6(1),t.s9C("src",e.icon_url,t.LSH),t.s9C("alt",e.short_name),t.xp6(1),t.AsE(" ",e.name," - ",e.short_name,"")}}function F(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"tr")(1,"td",16),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.onEdit(l))}),t._uU(2),t.qZA(),t.TgZ(3,"td",16),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.onEdit(l))}),t._uU(4),t.qZA(),t.TgZ(5,"td",16),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.onEdit(l))}),t._uU(6),t.qZA(),t.TgZ(7,"td",16),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.onEdit(l))}),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",18),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.delete(l))}),t.TgZ(11,"mat-icon"),t._uU(12,"delete"),t.qZA()()()()}if(2&s){const e=d.$implicit;t.Q6J("@slideIn",void 0),t.xp6(2),t.Oqu(e.ChuTaiKhoan),t.xp6(2),t.Oqu(e.SoTaiKhoan),t.xp6(2),t.Oqu(e.NganHang),t.xp6(2),t.Oqu(e.ChiNhanh)}}let P=(()=>{class s{constructor(e,n,a,l,u,T,E){this.sheetdbSV=e,this.uncSV=n,this.plus=a,this.idbSV=l,this.authSV=u,this.formSV=T,this.bankSV=E,this.searchForm=this.formSV.fb.group({input:["",[i.kI.required,i.kI.minLength(2)]]}),this.main=this.formSV.fb.group({dateModify:[Date.now(),[i.kI.required]],status:[1,[i.kI.required]],sync:[0,[i.kI.required]],_id:["",[i.kI.required]],ChuTaiKhoan:["",[i.kI.required]],SoTaiKhoan:["",[i.kI.required]],NganHang:["",[i.kI.required]],ChiNhanh:["",[]],MaNganHang:["",[]]}),this.sheetId="1pxQZwAtNDwOpMGSRSOSK3UxuV1xvWcAZ1CNhGHvwvRo",this.dbName="unc",this.api="unc-ngan-hang",this.db=null,this.allItems=[],this.items=[],this.perPageItems=50,this.allowLoadmore=!0,this.header={Block:"Block",Nam:"N\u0103m",keyWord:"keyWord",canEdit:"canEdit",ver:"ver",userId:"User",dateModify:"dateModify",status:"status",sync:"sync",_id:"_id",ChuTaiKhoan:"Ch\u1ee7 t\xe0i kho\u1ea3n",SoTaiKhoan:"S\u1ed1 t\xe0i kho\u1ea3n",NganHang:"Ng\xe2n h\xe0ng",ChiNhanh:"Chi nh\xe1nh",MaNganHang:"M\xe3 ng\xe2n h\xe0ng"},this.banks=[],this.banksOpt=[],this.uncSetup=null}ngOnInit(){this.idbSV.IDB_InitDB(this.dbName).subscribe(e=>{this.db=e,this.uncSV.db=e,this.user=window.max,this.uncSV.getCauHinh().subscribe(n=>{this.uncSetup=n}),this.sheetdbSV.updateLocalDB(e,this.api,"TK_"+this.user.unit+this.sheetId).subscribe(n=>{console.log(n),"new"==n?this.getTaiKhoanPK():this.getAll()}),this.bankSV.getBanks().then(n=>{this.banks=n,this.banksOpt=this.banks})}),this.filter()}getAll(){this.idbSV.IDB_DB_GetAll(this.db,this.api).subscribe(e=>{this.allItems=e,this.items=e.slice(0,this.perPageItems)})}save(){let e=this.main.value,n=window.max;0==e._id.length&&(e._id=(0,N.h)(6));let a=this.formSV.getErrValidateFormV2(this.main,this.header);0==a.length?this.sheetdbSV.save(this.sheetId,"TK_"+n.unit,e,"_id").subscribe(l=>{this.plus.alertSuccess()}):this.plus.alertError(a.toString())}delete(e){confirm("Ba\u0323n muo\u0302\u0301n xo\u0301a?")&&(e.status=0,this.sheetdbSV.save(this.sheetId,"TK_"+this.user.unit,e,"_id").subscribe(a=>{this.plus.alertSuccess()}))}getTaiKhoanPK(){this.idbSV.IDB_DB_ClearCollection(this.db,this.api).then(e=>{}),this.uncSV.getTaiKhoanPK().subscribe(e=>{this.idbSV.IDB_DB_Add(this.db,this.api,e.data).then(n=>{this.getAll()})})}search(){let e=this.searchForm.value;if(!(e.input.length<2)&&this.searchForm.valid){console.log(e);const n=[];this.allowLoadmore=!1,this.idbSV.IDB_DB_GetAll(this.db,this.api).subscribe(a=>{console.log("IDB_DB_GetAll()",a.length);const l=this.plus.removeAccents(e.input);0==a.length&&this.plus.alertMatSnackBar("Kh\xf4ng c\xf2n k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p");for(let u=0;u<a.length;u++){let T=a[u];const E=JSON.stringify(T);this.plus.removeAccents(E).includes(l)&&n.push(T)}this.items=n,0==n.length&&(this.plus.alertMatSnackBar("Kh\xf4ng c\xf2n k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p"),this.items=this.allItems.slice(0,this.perPageItems))})}}filter(){this.banksOpt=this.banks,this.main.valueChanges.pipe((0,g.b)(500)).subscribe(e=>{let n=this.plus.removeAccents(e.NganHang).toLowerCase();this.banksOpt=this.banks.filter(a=>this.plus.removeAccents(JSON.stringify(a)).toLowerCase().includes(n))})}onEdit(e){this.item=e,this.main.patchValue(e),this.plus.scrollTop()}selectBank(e){this.selectedBank=e,this.main.controls.NganHang.setValue(e.name+" - "+e.short_name),this.main.controls.MaNganHang.setValue(e.code)}idbSearch(){this.searchForm.valueChanges.pipe((0,g.b)(500)).subscribe(e=>{!this.searchForm.invalid&&this.searchForm.valid&&this.idbSV.IDB_DB_Search(this.db,this.api,e.input,50).subscribe(a=>{console.log(a),this.items=a})})}checkPer(e,n=1){return this.authSV.checkPer(e,n)}pushData(e){if(console.log(e),e&&this.allowLoadmore){let n=this.items.length,a=this.items.slice(n,n+100);this.items=this.items.concat(a)}}reset(){this.authSV.reload()}reload(){this.authSV.reload()}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(I.F),t.Y36(C.X),t.Y36(h.T),t.Y36(p.F),t.Y36(o.c1),t.Y36(c.o),t.Y36(A.v))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-unc-ngan-hang"]],decls:48,vars:6,consts:[[1,"container","py-4"],[1,"row"],["appearance","outline",3,"formGroup"],["matInput","","id","search-api","formControlName","input","placeholder","T\xecm ki\u1ebfm (F2)",3,"keyup.enter"],[1,"col"],[1,"table","table-striped"],[3,"formGroup"],["required","","type","text","autocomplete","off","matInput","","formControlName","ChuTaiKhoan"],["required","","type","text","autocomplete","off","matInput","","formControlName","SoTaiKhoan"],["type","text","placeholder","T\xean ng\xe2n h\xe0ng","matInput","","formControlName","NganHang",3,"matAutocomplete"],["auto","matAutocomplete"],[3,"click",4,"ngFor","ngForOf"],["type","text","autocomplete","off","matInput","","formControlName","ChiNhanh"],["mat-icon-button","","color","warn","matTooltip","L\u01b0u",3,"click"],[4,"ngFor","ngForOf"],[3,"percentLoad","emit"],[3,"click"],["width","40px",3,"src","alt"],["mat-icon-button","","color","warn",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"input",3),t.NdJ("keyup.enter",function(){return n.search()}),t.qZA()()(),t.TgZ(4,"div",1)(5,"div",4)(6,"table",5)(7,"thead")(8,"tr")(9,"th"),t._uU(10,"Ch\u1ee7 t\xe0i kho\u1ea3n"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"S\u1ed1 t\xe0i kho\u1ea3n"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Ng\xe2n h\xe0ng"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Chi nh\xe1nh"),t.qZA()()(),t.TgZ(17,"tr",6)(18,"th")(19,"mat-form-field")(20,"mat-label"),t._uU(21,"Ch\u1ee7 t\xe0i kho\u1ea3n"),t.qZA(),t._UZ(22,"input",7),t.qZA()(),t.TgZ(23,"th")(24,"mat-form-field")(25,"mat-label"),t._uU(26,"S\u1ed1 t\xe0i kho\u1ea3n"),t.qZA(),t._UZ(27,"input",8),t.qZA()(),t.TgZ(28,"th")(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Ng\xe2n H\xe0ng"),t.qZA(),t._UZ(32,"input",9),t.TgZ(33,"mat-autocomplete",null,10),t.YNc(35,B,3,4,"mat-option",11),t.qZA()()(),t.TgZ(36,"th")(37,"mat-form-field")(38,"mat-label"),t._uU(39,"Chi nh\xe1nh"),t.qZA(),t._UZ(40,"input",12),t.qZA()(),t.TgZ(41,"th")(42,"button",13),t.NdJ("click",function(){return n.save()}),t.TgZ(43,"mat-icon"),t._uU(44,"save"),t.qZA()()()(),t.TgZ(45,"tbody"),t.YNc(46,F,13,5,"tr",14),t.qZA()()()()(),t.TgZ(47,"app-loadmore",15),t.NdJ("emit",function(l){return n.pushData(l)}),t.qZA()),2&e){const a=t.MAs(34);t.xp6(2),t.Q6J("formGroup",n.searchForm),t.xp6(15),t.Q6J("formGroup",n.main),t.xp6(15),t.Q6J("matAutocomplete",a),t.xp6(3),t.Q6J("ngForOf",n.banksOpt),t.xp6(11),t.Q6J("ngForOf",n.items),t.xp6(1),t.Q6J("percentLoad",60)}},dependencies:[m.sg,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,f.RK,k.Hw,y.Nt,b.KE,b.hX,x.XC,H.ey,x.ZL,O.gM,Y.w],data:{animation:[U.Ym]}}),s})();var J=r(15439),L=r.n(J),K=r(54654),G=r(9157),w=r(94559),W=r(5383),R=r(92358),V=r(49652),Q=r(99433),$=r(30627);function X(s,d){1&s&&(t.TgZ(0,"div",1)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header"),t._uU(3," BAO CAO "),t.qZA(),t._uU(4," content "),t.qZA()())}function j(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"tr")(1,"td",42),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onEdit(l))}),t._uU(2),t.qZA(),t.TgZ(3,"td",42),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onEdit(l))}),t._uU(4),t.qZA(),t.TgZ(5,"td",42),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onEdit(l))}),t._uU(6),t.qZA(),t.TgZ(7,"td",43),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onEdit(l))}),t._uU(8),t.qZA(),t.TgZ(9,"td",42),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onEdit(l))}),t._uU(10),t.qZA(),t.TgZ(11,"td",43),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onEdit(l))}),t._uU(12),t.ALo(13,"numberPipe"),t.qZA(),t.TgZ(14,"td",42),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onEdit(l))}),t._uU(15),t.qZA(),t.TgZ(16,"td",42),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onEdit(l))}),t._uU(17),t.qZA(),t.TgZ(18,"td")(19,"button",44),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.delete(l))}),t.TgZ(20,"mat-icon"),t._uU(21,"delete"),t.qZA()()()()}if(2&s){const e=d.$implicit;t.Q6J("@slideIn",void 0),t.xp6(2),t.Oqu(e.SoPhieu),t.xp6(2),t.Oqu(e.NgayLap),t.xp6(2),t.Oqu(e.KhachHang),t.xp6(2),t.Oqu(e.SoTaiKhoanKH),t.xp6(2),t.Oqu(e.NganHang),t.xp6(2),t.Oqu(t.lcZ(13,9,e.SoTien)),t.xp6(3),t.Oqu(e.NoiDung),t.xp6(2),t.Oqu(e.MaNganHang)}}function z(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"div",1)(1,"h4",37),t._uU(2," DANH S\xc1CH PHI\u1ebeU UNC "),t.TgZ(3,"mat-icon",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.export())}),t._uU(4,"download"),t.qZA()(),t._UZ(5,"div",1),t.TgZ(6,"div",14)(7,"table",39)(8,"thead")(9,"tr")(10,"th"),t._uU(11,"S\u1ed1 phi\u1ebfu"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Ng\xe0y l\u1eadp"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"\u0110\u01a1n v\u1ecb nh\u1eadn"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"T\xe0i kho\u1ea3n nh\u1eadn"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Ng\xe2n h\xe0ng nh\u1eadn"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"S\u1ed1 ti\u1ec1n"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"N\u1ed9i dung"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"M\u1eabu UNC "),t.qZA(),t.TgZ(26,"th")(27,"mat-icon",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.reload())}),t._uU(28,"refresh"),t.qZA()()()(),t.TgZ(29,"tbody"),t.YNc(30,j,22,11,"tr",41),t.qZA()()()()}if(2&s){const e=t.oxw();t.xp6(30),t.Q6J("ngForOf",e.items)}}function tt(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"mat-option",45),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.selectedTK(l))}),t._uU(1),t.qZA()}if(2&s){const e=d.$implicit;t.Q6J("value",e.MaNganHang+(e.ChiNhanh.length>0?" - "+e.ChiNhanh:"")),t.xp6(1),t.lnq(" ",e.MaNganHang," ",e.ChiNhanh.length>0?" - "+e.ChiNhanh:""," ",e.NganHang," ")}}let et=(()=>{class s{constructor(e,n,a,l,u,T,E,S){this.idbSV=e,this.plus=n,this.uncSV=a,this.formSV=l,this.docxSV=u,this.loadSV=T,this.excelSV=E,this.httpSV=S,this.dbName="unc",this.api="unc-phieu",this.db=null,this.allItems=[],this.items=[],this.perPageItems=50,this.allowLoadmore=!0,this.dsTKnganHang=[],this.banksAuto=[],this.maUNC="",this.searchForm=this.formSV.fb.group({input:["",[i.kI.required,i.kI.minLength(2)]]}),this.main=this.formSV.fb.group({dateModify:[Date.now(),[i.kI.required]],status:[1,[i.kI.required]],sync:[0,[i.kI.required]],_id:["",[i.kI.required]],SoPhieu:["",[i.kI.required]],NgayLap:["",[i.kI.required]],KhachHang:["",[i.kI.required]],SoTaiKhoanKH:["",[i.kI.required]],NganHang:["",[i.kI.required]],SoTien:[0,[i.kI.required]],NoiDung:["",[i.kI.required]],ChuTaiKhoan:["",[i.kI.required]],SoTaiKhoan:["",[i.kI.required]],ChiNhanh:["",[]],ThuocTinh:["",[i.kI.required]],GiamDoc:["",[i.kI.required]],TruongPTC:["",[i.kI.required]],ChucDanh:["",[i.kI.required]],MaNganHang:["",[i.kI.required]]})}ngOnInit(){this.idbSV.IDB_InitDB(this.dbName).subscribe(e=>{this.db=e,this.uncSV.db=e,window,this.uncSV.syncPhieu().subscribe(a=>{this.getAllIDB()}),this.filter()})}syncKH(){this.uncSV.syncKH().subscribe(e=>{this.getAllIDB()})}getTkNH(){this.uncSV.getallTK().subscribe(e=>{this.dsTKnganHang=e})}save(){this.uncSV.savePhieu(this.main.value).subscribe(n=>{this.plus.alertSuccess(),this.plus.clickBtn("closeModalunc")})}delete(e){confirm("Ban chac chan muon xoa?")&&(e.status=0,this.uncSV.xoaPhieu(e).then(a=>{this.plus.alertSuccess(),this.plus.reload()}))}reload(){return this.plus.reload()}print(){this.loadSV.load("xuatUNC");let e=this.main.value;this.docxSV.loadFileUrl(`https://thuctd.github.io/templates/UNC/${e.MaNganHang}-UNC.docx`).then(n=>{this.docxSV.generateOne(e,n,"UNC-"+e.KhachHang).then(a=>{console.log(a),this.plus.alertSuccess(),this.loadSV.loaded("xuatUNC")})})}getAllIDB(){this.allItems=[],this.idbSV.IDB_DB_GetAll(this.db,this.api).subscribe(e=>{this.allItems=e,this.items=e.slice(0,this.perPageItems)})}getAllPhieu(){this.uncSV.getAllPhieu().subscribe(e=>{this.idbSV.IDB_DB_Add(this.db,this.api,e.data).then(n=>{this.getAllIDB()})})}search(){let e=this.searchForm.value;if(this.searchForm.valid){console.log(e);const n=[];this.idbSV.IDB_DB_GetAll(this.db,this.api).subscribe(a=>{console.log("IDB_DB_GetAll()",a.length);const l=this.plus.removeAccents(e.input);for(let u=0;u<a.length;u++){let T=a[u];const E=JSON.stringify(T);this.plus.removeAccents(E).includes(l)&&n.push(T)}this.items=n,0==n.length&&this.plus.alertMatSnackBar("Kh\xf4ng c\xf2n k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p")})}}pushData(e){if(e&&this.allowLoadmore){let n=this.items.length,a=this.allItems.slice(n,n+this.perPageItems);this.items=this.items.concat(a)}}selectedTK(e){this.maUNC=e.MaNganHang,this.main.controls.MaNganHang.setValue(e.MaNganHang)}getMonth(e){console.log(e),this.main.controls.NgayLap.setValue(e)}onEdit(e){this.plus.clickBtn("modalunc"),this.main.patchValue(e)}export(){let e=[];for(let n=0;n<this.allItems.length;n++){let a=this.allItems[n];delete a._id,delete a.sync,delete a.dateModify,delete a.status,e.push(a)}this.excelSV.export(e,`UNC-${L()().format("MM-YYYY")}`)}filter(){this.banksAuto=this.dsTKnganHang,this.main.valueChanges.pipe((0,g.b)(500)).subscribe(e=>{let n=this.plus.removeAccents(e.MaNganHang).toLowerCase();console.log(n),this.banksAuto=this.dsTKnganHang.filter(a=>this.plus.removeAccents(JSON.stringify(a)).toLowerCase().includes(n)),0==this.banksAuto.length&&(this.banksAuto=this.dsTKnganHang,this.plus.alertMatSnackBar("Kh\xf4ng c\xf2n k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p"))})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(K.Y),t.Y36(h.T),t.Y36(C.X),t.Y36(c.o),t.Y36(G.E),t.Y36(w.b),t.Y36(W.x),t.Y36(R.a))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-unc"]],decls:101,vars:11,consts:[[1,"container","py-4"],[1,"row"],["appearance","outline",3,"formGroup"],["matInput","","id","search-api","formControlName","input","placeholder","T\xecm ki\u1ebfm (F2)",3,"keyup.enter"],["class","row",4,"ngIf"],[3,"percentLoad","emit"],["hidden","","id","modalunc","type","button","data-bs-toggle","modal","data-bs-target","#unc",1,"btn","btn-primary"],["id","unc","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"formGroup"],[1,"col"],["required","","type","text","autocomplete","off","matInput","","formControlName","SoPhieu"],[3,"startDay","openOnFocus","label","format","month"],["required","","type","text","autocomplete","off","matInput","","formControlName","KhachHang"],["required","","type","text","autocomplete","off","matInput","","formControlName","SoTaiKhoanKH"],["required","","type","text","autocomplete","off","matInput","","formControlName","NganHang"],["required","","type","number","autocomplete","off","matInput","","formControlName","SoTien"],["required","","type","text","autocomplete","off","matInput","","formControlName","NoiDung"],["required","","type","text","autocomplete","off","matInput","","formControlName","ChuTaiKhoan"],["required","","type","text","autocomplete","off","matInput","","formControlName","SoTaiKhoan"],["type","text","autocomplete","off","matInput","","formControlName","ChiNhanh"],["required","","type","text","autocomplete","off","matInput","","formControlName","ThuocTinh"],["required","","type","text","autocomplete","off","matInput","","formControlName","GiamDoc"],["required","","type","text","autocomplete","off","matInput","","formControlName","TruongPTC"],["required","","type","text","autocomplete","off","matInput","","formControlName","ChucDanh"],["matInput","","formControlName","MaNganHang",3,"matAutocomplete"],["autoActiveFirstOption",""],["automaUNC","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[1,"modal-footer"],["color","warn","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"click"],["color","primary","id","closeModalunc","mat-raised-button","","data-bs-dismiss","modal","aria-label","Close"],[1,"tit"],["color","primary",3,"click"],[1,"table","table-bordered","table-hover"],["color","primary","matTooltip","L\xe0m m\u1edbi d\u1eef li\u1ec7u",3,"click"],[4,"ngFor","ngForOf"],[3,"click"],[1,"text-end",3,"click"],["mat-icon-button","","color","warn",3,"click"],[3,"value","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"input",3),t.NdJ("keyup.enter",function(){return n.search()}),t.qZA()()(),t.YNc(4,X,5,0,"div",4),t.YNc(5,z,31,1,"div",4),t.qZA(),t.TgZ(6,"app-loadmore",5),t.NdJ("emit",function(l){return n.pushData(l)}),t.qZA(),t.TgZ(7,"button",6),t._uU(8," Launch static backdrop modal "),t.qZA(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"h5",11),t._uU(14,"Phieu UNC"),t.qZA(),t._UZ(15,"button",12),t.qZA(),t.TgZ(16,"div",13)(17,"div",14)(18,"mat-form-field")(19,"mat-label"),t._uU(20,"S\u1ed1 phi\u1ebfu"),t.qZA(),t._UZ(21,"input",15),t.qZA()(),t.TgZ(22,"div",14)(23,"app-date-picker",16),t.NdJ("month",function(l){return n.getMonth(l)}),t.qZA()(),t.TgZ(24,"div",14)(25,"mat-form-field")(26,"mat-label"),t._uU(27,"\u0110\u01a1n v\u1ecb nh\u1eadn"),t.qZA(),t._UZ(28,"input",17),t.qZA()(),t.TgZ(29,"div",14)(30,"mat-form-field")(31,"mat-label"),t._uU(32,"T\xe0i kho\u1ea3n nh\u1eadn"),t.qZA(),t._UZ(33,"input",18),t.qZA()(),t.TgZ(34,"div",14)(35,"mat-form-field")(36,"mat-label"),t._uU(37,"Ng\xe2n h\xe0ng nh\u1eadn"),t.qZA(),t._UZ(38,"input",19),t.qZA()(),t.TgZ(39,"div",14)(40,"mat-form-field")(41,"mat-label"),t._uU(42,"S\u1ed1 ti\u1ec1n"),t.qZA(),t._UZ(43,"input",20),t.qZA()(),t.TgZ(44,"div",14)(45,"mat-form-field")(46,"mat-label"),t._uU(47,"N\u1ed9i dung"),t.qZA(),t._UZ(48,"input",21),t.qZA()(),t.TgZ(49,"div",14)(50,"mat-form-field")(51,"mat-label"),t._uU(52,"Ch\u1ee7 t\xe0i kho\u1ea3n"),t.qZA(),t._UZ(53,"input",22),t.qZA()(),t.TgZ(54,"div",14)(55,"mat-form-field")(56,"mat-label"),t._uU(57,"S\u1ed1 t\xe0i kho\u1ea3n"),t.qZA(),t._UZ(58,"input",23),t.qZA()(),t.TgZ(59,"div",14)(60,"mat-form-field")(61,"mat-label"),t._uU(62,"Chi nh\xe1nh"),t.qZA(),t._UZ(63,"input",24),t.qZA()(),t.TgZ(64,"div",14)(65,"mat-form-field")(66,"mat-label"),t._uU(67,"Thu\u1ed9c t\u1ec9nh"),t.qZA(),t._UZ(68,"input",25),t.qZA()(),t.TgZ(69,"div",14)(70,"mat-form-field")(71,"mat-label"),t._uU(72,"Gi\xe1m \u0110\u1ed1c"),t.qZA(),t._UZ(73,"input",26),t.qZA()(),t.TgZ(74,"div",14)(75,"mat-form-field")(76,"mat-label"),t._uU(77,"Ng\u01b0\u1eddi k\xfd"),t.qZA(),t._UZ(78,"input",27),t.qZA()(),t.TgZ(79,"div",14)(80,"mat-form-field")(81,"mat-label"),t._uU(82,"Ch\u1ee9 danh k\xfd"),t.qZA(),t._UZ(83,"input",28),t.qZA()(),t.TgZ(84,"mat-form-field")(85,"mat-label"),t._uU(86,"M\u1eabu UNC "),t.qZA(),t._UZ(87,"input",29),t.TgZ(88,"mat-autocomplete",30,31),t.YNc(90,tt,2,4,"mat-option",32),t.qZA()()(),t.TgZ(91,"div",33)(92,"button",34),t.NdJ("click",function(){return n.save()}),t.TgZ(93,"mat-icon"),t._uU(94,"save"),t.qZA()(),t.TgZ(95,"button",35),t.NdJ("click",function(){return n.print()}),t.TgZ(96,"mat-icon"),t._uU(97,"print"),t.qZA()(),t.TgZ(98,"button",36)(99,"mat-icon"),t._uU(100,"close"),t.qZA()()()()()()),2&e){const a=t.MAs(89);t.xp6(2),t.Q6J("formGroup",n.searchForm),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",n.items.length>0),t.xp6(1),t.Q6J("percentLoad",70),t.xp6(10),t.Q6J("formGroup",n.main),t.xp6(7),t.Q6J("startDay",n.main.controls.NgayLap.value)("openOnFocus",!1)("label","Ng\xe0y l\u1eadp")("format","DD/MM/YYYY"),t.xp6(64),t.Q6J("matAutocomplete",a),t.xp6(3),t.Q6J("ngForOf",n.banksAuto)}},dependencies:[m.sg,m.O5,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.sg,i.u,f.lW,f.RK,k.Hw,y.Nt,b.KE,b.hX,x.XC,H.ey,x.ZL,O.gM,V.ib,V.yz,Q.L,Y.w,$._2],styles:[".mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}.mat-form-field-wrapper[_ngcontent-%COMP%]{padding:0}.mat-input-element[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:14px}"],data:{animation:[U.Ym]}}),s})();var nt=r(15861);const at=[{path:"",component:et},{path:"unc-khach-hang",component:_.I},{path:"unc-ngan-hang",component:P},{path:"unc-cau-hinh",component:(()=>{class s{constructor(e,n,a,l,u){this.formSV=e,this.plus=n,this.uncSV=a,this.idbSV=l,this.authSV=u,this.main=this.formSV.fb.group({dateModify:[Date.now(),[i.kI.required]],status:[1,[i.kI.required]],sync:[0,[i.kI.required]],MADONVI:["",[i.kI.required]],TENDONVI:["",[i.kI.required]],TENGIAMDOC:["",[i.kI.required]],CHUCDANHKY:["",[i.kI.required]],NGUOIKY:["",[]],TINH:["",[i.kI.required]]}),this.dbName="unc",this.api="unc-cau-hinh",this.db=null,this.setup=null}ngOnInit(){this.idbSV.IDB_InitDB(this.dbName).subscribe(e=>{this.db=e,window,this.uncSV.getCauHinh().subscribe(a=>{this.main.patchValue(a)})})}save(){var e=this;return(0,nt.Z)(function*(){let n=e.main.value;n.MADONVI=window.max.unit,e.authSV._setOpt(o.HB.UNCSETUP,n),e.uncSV.saveCauHinh(n).subscribe(a=>{e.plus.alertSuccess()})})()}getCauHinh(){this.authSV._getOpt(o.HB.UNCSETUP).then(e=>{this.main.patchValue(e)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(c.o),t.Y36(h.T),t.Y36(C.X),t.Y36(K.Y),t.Y36(o.c1))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-unc-cau-hinh"]],decls:32,vars:1,consts:[[1,"container","py-4"],[1,"row",3,"formGroup"],[1,"col"],["required","","type","text","autocomplete","off","matInput","","formControlName","TENDONVI"],["required","","type","text","autocomplete","off","matInput","","formControlName","TENGIAMDOC"],["required","","type","text","autocomplete","off","matInput","","formControlName","CHUCDANHKY"],["type","text","autocomplete","off","matInput","","formControlName","NGUOIKY"],["required","","type","text","autocomplete","off","matInput","","formControlName","TINH"],[1,"row"],[1,"btn","text-center"],["mat-raised-button","","color","warn","matTooltip","L\u01b0u kh\xe1ch h\xe0ng",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field")(4,"mat-label"),t._uU(5,"T\xean \u0111\u01a1n v\u1ecb"),t.qZA(),t._UZ(6,"input",3),t.qZA()(),t.TgZ(7,"div",2)(8,"mat-form-field")(9,"mat-label"),t._uU(10,"T\xean Gi\xe1m \u0111\u1ed1c"),t.qZA(),t._UZ(11,"input",4),t.qZA()(),t.TgZ(12,"div",2)(13,"mat-form-field")(14,"mat-label"),t._uU(15,"Ch\u1ee9c danh k\xfd"),t.qZA(),t._UZ(16,"input",5),t.qZA()(),t.TgZ(17,"div",2)(18,"mat-form-field")(19,"mat-label"),t._uU(20,"Ng\u01b0\u1eddi k\xfd"),t.qZA(),t._UZ(21,"input",6),t.qZA()(),t.TgZ(22,"div",2)(23,"mat-form-field")(24,"mat-label"),t._uU(25,"Thu\u1ed9c t\u1ec9nh"),t.qZA(),t._UZ(26,"input",7),t.qZA()()(),t.TgZ(27,"div",8)(28,"div",9)(29,"button",10),t.NdJ("click",function(){return n.save()}),t.TgZ(30,"mat-icon"),t._uU(31,"save"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",n.main))},dependencies:[i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,f.lW,k.Hw,y.Nt,b.KE,b.hX,O.gM]}),s})()}];let it=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[Z.Bz.forChild(at),Z.Bz]}),s})();var rt=r(85913);let st=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[m.ez,M.ShareModule,D.X,it,rt.m]}),s})()},8277:(q,v,r)=>{var m;r.d(v,{o8:()=>g,t7:()=>N});var M=r(94650),D=r(3238),Z=r(15439);const _=Z||m||(m=r.t(Z,2)),g=new M.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function i(){return{useUtc:!1}}});function U(h,p){const o=Array(h);for(let c=0;c<h;c++)o[c]=p(c);return o}let N=(()=>{class h extends D._A{constructor(o,c){super(),this._options=c,this.setLocale(o||_.locale())}setLocale(o){super.setLocale(o);let c=_.localeData(o);this._localeData={firstDayOfWeek:c.firstDayOfWeek(),longMonths:c.months(),shortMonths:c.monthsShort(),dates:U(31,A=>this.createDate(2017,0,A+1).format("D")),longDaysOfWeek:c.weekdays(),shortDaysOfWeek:c.weekdaysShort(),narrowDaysOfWeek:c.weekdaysMin()}}getYear(o){return this.clone(o).year()}getMonth(o){return this.clone(o).month()}getDate(o){return this.clone(o).date()}getDayOfWeek(o){return this.clone(o).day()}getMonthNames(o){return"long"==o?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(o){return"long"==o?this._localeData.longDaysOfWeek:"short"==o?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(o){return this.clone(o).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(o){return this.clone(o).daysInMonth()}clone(o){return o.clone().locale(this.locale)}createDate(o,c,A){const f=this._createMoment({year:o,month:c,date:A}).locale(this.locale);return f.isValid(),f}today(){return this._createMoment().locale(this.locale)}parse(o,c){return o&&"string"==typeof o?this._createMoment(o,c,this.locale):o?this._createMoment(o).locale(this.locale):null}format(o,c){return o=this.clone(o),this.isValid(o),o.format(c)}addCalendarYears(o,c){return this.clone(o).add({years:c})}addCalendarMonths(o,c){return this.clone(o).add({months:c})}addCalendarDays(o,c){return this.clone(o).add({days:c})}toIso8601(o){return this.clone(o).format()}deserialize(o){let c;if(o instanceof Date)c=this._createMoment(o).locale(this.locale);else if(this.isDateInstance(o))return this.clone(o);if("string"==typeof o){if(!o)return null;c=this._createMoment(o,_.ISO_8601).locale(this.locale)}return c&&this.isValid(c)?this._createMoment(c).locale(this.locale):super.deserialize(o)}isDateInstance(o){return _.isMoment(o)}isValid(o){return this.clone(o).isValid()}invalid(){return _.invalid()}_createMoment(o,c,A){const{strict:f,useUtc:k}=this._options||{};return k?_.utc(o,c,A,f):_(o,c,A,f)}}return h.\u0275fac=function(o){return new(o||h)(M.LFG(D.Ad,8),M.LFG(g,8))},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac}),h})()}}]);