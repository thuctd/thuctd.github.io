!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(self.webpackChunk_4la=self.webpackChunk_4la||[]).push([[836],{76836:function(e,i,a){a.r(i),a.d(i,{DlxlModule:function(){return Be}});var o=a(5923),r=a(48387),u=a(85913),c=a(88817),l=a(12057),s=a(15228),h=a(24751),p=a(16738),g=a.n(p),d=a(74788),f=a(57922),m=a(48842),Z=a(33982),T=a(46833),v=a(46113),k=a(12895),b=a(61260),x=a(2895),q=a(49356),y=a(17935),A=a(73888);function I(t,e){if(1&t&&(d.TgZ(0,"mat-option",36),d._uU(1),d.qZA()),2&t){var n=e.$implicit;d.Q6J("value",n.GiaTri),d.xp6(1),d.hij("",n.NoiDung," ")}}function _(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",37),d.NdJ("click",function(){return d.CHM(n),d.oxw().save()}),d.TgZ(1,"mat-icon"),d._uU(2,"save"),d.qZA(),d.qZA()}2&t&&d.Q6J("@slideIn",void 0)}var N,D=((N=function(){function e(n,i,a,o){t(this,e),this.plus=n,this.fb=i,this.rtSv=a,this.route=o,this.main=this.fb.group({_id:[,[]],KyThanhToan:[,[h.kI.required]],Email:[,],MaKhachHang:[,[h.kI.required]],KhachHang:[,[h.kI.required]],DiaChi:[,[h.kI.required]],MaGCS:[,],ChuTaiKhoan:[,],SoTaiKhoan:[,],NganHang:[,],Nam:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],Thang:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],SanLuong:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],DonGia:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],TruocThue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],Thue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],TongTien:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],KyHieuHoaDon:[,[]],SoHoaDon:[,[]],NgayMuaHang:[,[]],NgayHoaDon:[,[]],ThueSuat:[,[h.kI.pattern("^[0-9]*$")]],TrangThaiThanhToan:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],TrangThaiHoSo:[,[h.kI.required]],DaGuiMail:[,[h.kI.pattern("^[0-9]*$")]],TenBangKe:[,[]]}),this.title="L\u1eadp b\u1ea3ng k\xea",this.global=!0,this.dbName="dien-luc",this.api="dmt-input",this.db=null,this.userId=this.plus.userId,this.usr=this.plus.usr,this.items=[],this.selectedItem=null,this.filter=[],this.chart=[],this.errors=[]}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.plus.setTiTle(this.title),this.plus.IDB_InitDB(this.dbName).subscribe(function(e){return t.db=e}),this.getIDB()}},{key:"getIDB",value:function(){var t=this,e=this.route.snapshot.paramMap.get("id");this.plus.httpGet(this.api+"/"+e).subscribe(function(n){var i=t.plus.Crypt_DecryptRest(n);t.main.patchValue(i),(null==i||null==i)&&t.plus.IDB_DB_GetAllByIndexKey(t.db,"dmt-input","MaKhachHang",e).subscribe(function(e){t.main.patchValue(e)})})}},{key:"ngOnDestroy",value:function(){console.log("Destroy",this.api),this.plus.subs.unsubscribe(),this.rtSv.leaveRoom(this.api)}},{key:"save",value:function(){var t=this;if(!this.main.invalid){var e=this.main.value;null==e._id?(delete e._id,this.plus.httpPost(this.api,e,this.global).subscribe(function(e){e.status&&(t.plus.clickBtn("closeModal"),t.plus.updateAPi.next(!0))})):this.plus.httpPut(this.api,e,this.global).subscribe(function(e){e.status&&(t.plus.updateAPi.next(!0),t.plus.clickBtn("closeModal"))})}}},{key:"onEdit",value:function(t){this.selectedItem=t;var e=this.plus.dateToHtmlObj(t,["NgayHoaDon"]);this.main.patchValue(e),this.plus.clickBtn("openModal")}},{key:"onDelete",value:function(t){var e=this;!confirm("B\u1ea1n mu\u1ed1n x\xf3a?")||(this.plus.load(),this.plus.httpDisable(this.api,t,this.global).then(function(t){e.plus.updateAPi.next(!0)}))}},{key:"chooseOpt",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.main.controls[e].setValue(t[n]),i&&this.main.controls[e+"ID"].setValue(t._id)}},{key:"convertInputDay",value:function(t,e){var n=g()(t,"DD-MM-YYYY").toDate();this.main.controls[e].setValue(n)}},{key:"closeModal",value:function(){this.plus.goBack()}},{key:"search",value:function(t){this.filter=t}},{key:"find",value:function(t){this.items=t}},{key:"checkPer",value:function(t){return this.plus.checkPer(this.api,t)}},{key:"reload",value:function(){return this.plus.reload(this.dbName+"/"+this.api)}},{key:"reset",value:function(){this.plus.loaded(),this.filter=[],this.getIDB(),this.main.reset({})}},{key:"changePage",value:function(t){this.filter=this.items.slice(t.pageIndex*t.pageSize,(t.pageIndex+1)*t.pageSize)}},{key:"ondragover",value:function(){document.getElementById("dropZone").setAttribute("drop-active","true")}},{key:"trackByFn",value:function(t,e){return e}},{key:"resetDB",value:function(){this.plus.resetDB(this.db,this.api)}}]),e}()).\u0275fac=function(t){return new(t||N)(d.Y36(f.T),d.Y36(h.qu),d.Y36(m.i),d.Y36(Z.gz))},N.\u0275cmp=d.Xpm({type:N,selectors:[["app-nlmt-input-detail"]],decls:129,vars:8,consts:[[1,"container"],[3,"formGroup"],[1,"row"],["type","text","readonly","","autocomplete","off","matInput","","formControlName","KhachHang"],["matSuffix",""],["type","text","readonly","","autocomplete","off","matInput","","formControlName","DiaChi"],["type","text","readonly","","autocomplete","off","matInput","","formControlName","TenBangKe"],[1,"col-6"],["hidden","","formControlName","_id"],["required","","type","text","autocomplete","off","matInput","","formControlName","KyThanhToan"],["type","text","readonly","","autocomplete","off","matInput","","formControlName","Email"],["type","text","readonly","","autocomplete","off","matInput","","formControlName","MaKhachHang"],["type","text","readonly","","autocomplete","off","matInput","","formControlName","MaGCS"],["type","text","autocomplete","off","matInput","","formControlName","ChuTaiKhoan"],["type","text","autocomplete","off","matInput","","formControlName","SoTaiKhoan"],["type","text","autocomplete","off","matInput","","formControlName","NganHang"],["type","text","autocomplete","off","matInput","","formControlName","Nam"],["type","text","autocomplete","off","matInput","","formControlName","Thang"],["type","text","autocomplete","off","matInput","","formControlName","NgayMuaHang"],["numberFormat","","type","text","autocomplete","off","matInput","","formControlName","SanLuong"],["type","text","autocomplete","off","matInput","","formControlName","DonGia"],["type","text","autocomplete","off","matInput","","formControlName","TruocThue"],["type","text","autocomplete","off","matInput","","formControlName","Thue"],["type","text","autocomplete","off","matInput","","formControlName","TongTien"],["type","text","autocomplete","off","matInput","","formControlName","KyHieuHoaDon"],["type","text","autocomplete","off","matInput","","formControlName","SoHoaDon"],["matInput","","formControlName","NgayHoaDon","placeholder","DD/MM/YYYY","autocomplete","off",3,"matDatepicker","blur","focus"],["NgayHoaDonInput",""],["matSuffix","",3,"for"],["NgayHoaDon",""],["hidden",""],["type","text","autocomplete","off","matInput","","formControlName","ThueSuat"],["required","","formControlName","TrangThaiHoSo"],[3,"value",4,"ngFor","ngForOf"],["id","closeModal","mat-raised-button","","color","primary","data-dismiss","modal",3,"click"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"div",0),d.TgZ(1,"form",1),d.TgZ(2,"div",2),d.TgZ(3,"mat-form-field"),d.TgZ(4,"mat-label"),d._uU(5,"Kh\xe1ch h\xe0ng"),d.qZA(),d._UZ(6,"input",3),d._UZ(7,"span",4),d.qZA(),d.TgZ(8,"mat-form-field"),d.TgZ(9,"mat-label"),d._uU(10,"\u0110\u1ecba ch\u1ec9"),d.qZA(),d._UZ(11,"input",5),d._UZ(12,"span",4),d.qZA(),d.TgZ(13,"mat-form-field"),d.TgZ(14,"mat-label"),d._uU(15,"T\xean b\u1ea3ng k\xea"),d.qZA(),d._UZ(16,"input",6),d._UZ(17,"span",4),d.qZA(),d.TgZ(18,"div",7),d._UZ(19,"input",8),d.TgZ(20,"mat-form-field"),d.TgZ(21,"mat-label"),d._uU(22,"K\u1ef3 thanh to\xe1n"),d.qZA(),d._UZ(23,"input",9),d._UZ(24,"span",4),d.qZA(),d.TgZ(25,"mat-form-field"),d.TgZ(26,"mat-label"),d._uU(27,"Email"),d.qZA(),d._UZ(28,"input",10),d._UZ(29,"span",4),d.qZA(),d.TgZ(30,"mat-form-field"),d.TgZ(31,"mat-label"),d._uU(32,"M\xe3 kh\xe1ch h\xe0ng"),d.qZA(),d._UZ(33,"input",11),d._UZ(34,"span",4),d.qZA(),d.TgZ(35,"mat-form-field"),d.TgZ(36,"mat-label"),d._uU(37,"M\xe3 G C S"),d.qZA(),d._UZ(38,"input",12),d._UZ(39,"span",4),d.qZA(),d.TgZ(40,"mat-form-field"),d.TgZ(41,"mat-label"),d._uU(42,"Ch\u1ee7 t\xe0i kho\u1ea3n"),d.qZA(),d._UZ(43,"input",13),d._UZ(44,"span",4),d.qZA(),d.TgZ(45,"mat-form-field"),d.TgZ(46,"mat-label"),d._uU(47,"S\u1ed1 t\xe0i kho\u1ea3n"),d.qZA(),d._UZ(48,"input",14),d._UZ(49,"span",4),d.qZA(),d.TgZ(50,"mat-form-field"),d.TgZ(51,"mat-label"),d._uU(52,"Ng\xe2n h\xe0ng"),d.qZA(),d._UZ(53,"input",15),d._UZ(54,"span",4),d.qZA(),d.TgZ(55,"mat-form-field"),d.TgZ(56,"mat-label"),d._uU(57,"N\u0103m"),d.qZA(),d._UZ(58,"input",16),d._UZ(59,"span",4),d.qZA(),d.TgZ(60,"mat-form-field"),d.TgZ(61,"mat-label"),d._uU(62,"Th\xe1ng"),d.qZA(),d._UZ(63,"input",17),d._UZ(64,"span",4),d.qZA(),d.TgZ(65,"mat-form-field"),d.TgZ(66,"mat-label"),d._uU(67,"Ng\xe0y mua h\xe0ng"),d.qZA(),d._UZ(68,"input",18),d._UZ(69,"span",4),d.qZA(),d.qZA(),d.TgZ(70,"div",7),d.TgZ(71,"mat-form-field"),d.TgZ(72,"mat-label"),d._uU(73,"S\u1ea3n l\u01b0\u1ee3ng"),d.qZA(),d._UZ(74,"input",19),d._UZ(75,"span",4),d.qZA(),d.TgZ(76,"mat-form-field"),d.TgZ(77,"mat-label"),d._uU(78,"\u0110\u01a1n gi\xe1"),d.qZA(),d._UZ(79,"input",20),d._UZ(80,"span",4),d.qZA(),d.TgZ(81,"mat-form-field"),d.TgZ(82,"mat-label"),d._uU(83,"Tr\u01b0\u1edbc thu\u1ebf"),d.qZA(),d._UZ(84,"input",21),d._UZ(85,"span",4),d.qZA(),d.TgZ(86,"mat-form-field"),d.TgZ(87,"mat-label"),d._uU(88,"Thu\u1ebf"),d.qZA(),d._UZ(89,"input",22),d._UZ(90,"span",4),d.qZA(),d.TgZ(91,"mat-form-field"),d.TgZ(92,"mat-label"),d._uU(93,"T\u1ed5ng ti\u1ec1n"),d.qZA(),d._UZ(94,"input",23),d._UZ(95,"span",4),d.qZA(),d.TgZ(96,"mat-form-field"),d.TgZ(97,"mat-label"),d._uU(98,"K\xfd hi\u1ec7u h\xf3a \u0111\u01a1n"),d.qZA(),d._UZ(99,"input",24),d._UZ(100,"span",4),d.qZA(),d.TgZ(101,"mat-form-field"),d.TgZ(102,"mat-label"),d._uU(103,"S\u1ed1 h\xf3a \u0111\u01a1n"),d.qZA(),d._UZ(104,"input",25),d._UZ(105,"span",4),d.qZA(),d.TgZ(106,"mat-form-field"),d.TgZ(107,"mat-label"),d._uU(108,"Ng\xe0y h\xf3a \u0111\u01a1n"),d.qZA(),d.TgZ(109,"input",26,27),d.NdJ("blur",function(){d.CHM(n);var t=d.MAs(110);return e.convertInputDay(t.value,"NgayHoaDon")})("focus",function(){return d.CHM(n),d.MAs(113).open()}),d.qZA(),d._UZ(111,"mat-datepicker-toggle",28),d._UZ(112,"mat-datepicker",null,29),d.qZA(),d.TgZ(114,"mat-form-field",30),d.TgZ(115,"mat-label"),d._uU(116,"Thu\u1ebf su\u1ea5t"),d.qZA(),d._UZ(117,"input",31),d._UZ(118,"span",4),d.qZA(),d.TgZ(119,"mat-form-field"),d.TgZ(120,"mat-label"),d._uU(121,"Tr\u1ea1ng th\xe1i h\u1ed3 s\u01a1"),d.qZA(),d.TgZ(122,"mat-select",32),d.YNc(123,I,2,2,"mat-option",33),d.ALo(124,"catalog"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(125,"button",34),d.NdJ("click",function(){return e.closeModal()}),d.TgZ(126,"mat-icon"),d._uU(127,"close"),d.qZA(),d.qZA(),d.YNc(128,_,3,1,"button",35),d.qZA()}if(2&t){var i=d.MAs(113);d.xp6(1),d.Q6J("formGroup",e.main),d.xp6(108),d.Q6J("matDatepicker",i),d.xp6(2),d.Q6J("for",i),d.xp6(12),d.Q6J("ngForOf",d.lcZ(124,6,"DMTTrangThaiHoSo")),d.xp6(2),d.Q6J("@slideIn",void 0),d.xp6(3),d.Q6J("ngIf",e.checkPer(2)&&e.main.valid)}},directives:[h._Y,h.JL,h.sg,T.KE,T.hX,v.Nt,h.Fj,h.JJ,h.u,T.R9,h.Q7,k.hl,k.nW,k.Mq,b.gD,l.sg,x.lW,q.Hw,l.O5,y.ey],pipes:[A.pW],styles:[""],data:{animation:[s.Ym]}}),N),U=a(9157),J=function(t,e,n,i){return new(n||(n=Promise))(function(a,o){function r(t){try{c(i.next(t))}catch(e){o(e)}}function u(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){t.done?a(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(r,u)}c((i=i.apply(t,e||[])).next())})},M=function(){var e=function(){function e(n,i,a){t(this,e),this.fb=n,this.plus=i,this.rtSv=a,this.payForm=this.fb.group({_id:[,[]],TenBangKe:[,[h.kI.required]],TrangThai:[,[h.kI.required]],LichSuCapNhat:[,[h.kI.required]],TongPhatLen:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],ThanhTienTruocThue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],Thue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],ThanhTienSauThue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],DanhSach:[]})}return n(e,[{key:"statusMail",value:function(t){console.log("statusMail()"),this.plus.httpPut("dmt-input",{_id:t._id,DaGuiMail:1,dateModify:Date.now()},!0).subscribe(function(t){console.log(t)})}},{key:"updateNameBill",value:function(t,e){return J(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,a,o,r,u,c,l,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=g()().format("x"),console.log("updateNameBill()",+i),a=t,o=Math.ceil(t.length/200),r=[],u=0;u<a.length;u++)r.push(a[u]._id);c=0;case 5:if(!(c<o)){n.next=16;break}return l={ids:r.slice(200*c,c+200),setData:{TenBangKe:e,dateModify:+i,TrangThaiHoSo:2},dateModify:+i},n.next=9,this.plus.httpPut("dmt-input/update",l,!0).toPromise().then(function(t){});case 9:return s=this.geneBodyPay(t,g()(+i,"x").toDate(),"G\u1eedi b\u1ea3ng k\xea"),n.next=12,this.plus.httpPost("dmt-pay",s,!0).toPromise().then(function(t){});case 12:this.plus.reload("dien-luc/dmt-input");case 13:c++,n.next=5;break;case 16:case"end":return n.stop()}},n,this)}))}},{key:"changeStatusList",value:function(t,e){return J(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,a,o,r,u,c,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=g()().format("x"),console.log("changeStatusList()",i),a=t.DanhSach,o=Math.ceil(t.DanhSach.length/200),r=[],u=0;u<a.length;u++)r.push(a[u]._id);c=0;case 5:if(!(c<o)){n.next=17;break}return l={ids:r.slice(200*c,c+200),setData:{dateModify:+i,TrangThaiHoSo:e},dateModify:+i},n.next=9,this.plus.httpPut("dmt-input/update",l,!0).toPromise().then(function(t){});case 9:return t.TrangThai=e,delete t.__v,n.next=13,this.plus.httpPut("dmt-pay",t,!0).toPromise().then(function(t){});case 13:this.plus.reload("dien-luc/dmt-pay");case 14:c++,n.next=5;break;case 17:case"end":return n.stop()}},n,this)}))}},{key:"geneBodyPay",value:function(t,e,n){var i={};i.TenBangKe=g()(e).format("YYMMDDHHmm"),i.KyThanhToan=g()(e).format("YYYY-M"),i.LichSuCapNhat=[n+": "+g()().format("HH:mm-DD/MM/YYYY")],i.TrangThai=2,i.TongPhatLen=0,i.ThanhTienTruocThue=0,i.Thue=0,i.ThanhTienSauThue=0;for(var a=0;a<t.length;a++){var o=t[a];i.DanhSach=t,i.TongPhatLen+=o.SanLuong,i.ThanhTienTruocThue+=o.TruocThue,i.Thue+=o.Thue,i.ThanhTienSauThue+=o.TongTien}return console.log(i),i}},{key:"geneBodyMail",value:function(t,e,n){return{from:this.plus.user.value.unit,status:0,email:t.Email,title:"Th\xf4ng b\xe1o chi ti\u1ec1n \u0111i\u1ec7n NLMTMN th\xe1ng ".concat(+e.getMonth()+1," n\u0103m ").concat(e.getFullYear()),company:t.KhachHang,index:n,message:"<p>K\xednh g\u1eedi kh\xe1ch h\xe0ng: ".concat(t.KhachHang,".</p>\n          <p>\u0110i\u1ec7n l\u1ef1c Xu\xe2n L\u1ed9c k\xednh g\u1eedi \u0111\u1ebfn qu\xfd kh\xe1ch h\xe0ng n\u1ed9i dung thanh to\xe1n ti\u1ec1n \u0111i\u1ec7n m\u1eb7t tr\u1eddi tr\xean m\xe1i nh\xe0 v\u1edbi n\u1ed9i dung nh\u01b0 sau:</p>\n          <ul> M\xe3 kh\xe1ch h\xe0ng: ").concat(t.MaKhachHang,".</ul>\n          <ul> T\xean kh\xe1ch h\xe0ng: ").concat(t.KhachHang,".</ul>\n          <ul> \u0110\u1ecba ch\u1ec9: ").concat(t.DiaChi,".</ul>\n          <ul> M\xe3 ghi ch\u1ec9 s\u1ed1: ").concat(t.MaGCS,".</ul>\n          <ul> T\xean t\xe0i kho\u1ea3n: ").concat(t.ChuTaiKhoan,".</ul>\n          <ul> S\u1ed1 t\xe0i kho\u1ea3n: ").concat(t.SoTaiKhoan,".</ul>\n          <ul> Ng\xe2n h\xe0ng: ").concat(t.NganHang,".</ul>\n          <ul> N\u0103m: ").concat(e.getFullYear(),".</ul>\n          <ul> Th\xe1ng: ").concat(+e.getMonth()+1,".</ul>\n          <ul> \u0110i\u1ec7n ph\xe1t l\xean l\u01b0\u1edbi: ").concat(this.plus.numberWithCommas(t.SanLuong)," kWh.</ul>\n          <ul> \u0110\u01a1n gi\xe1: ").concat(this.plus.numberWithCommas(t.DonGia)," VND/kWh.</ul>\n          <ul> T\u1ec9 l\u1ec7 Thu\u1ebf: ").concat(t.TiLeThue," %.</ul>\n          <ul> Th\xe0nh ti\u1ec1n ch\u01b0a thu\u1ebf VAT: ").concat(this.plus.numberWithCommas(t.TruocThue)," VND.</ul>\n          <ul> Thu\u1ebf VAT: ").concat(this.plus.numberWithCommas(t.Thue)," VND.</ul>\n          <ul> T\u1ed5ng ti\u1ec1n: ").concat(this.plus.numberWithCommas(t.TongTien),' VND.</ul>\n          <p> M\u1ecdi \xfd ki\u1ebfn ph\u1ea3n h\u1ed3i vui l\xf2ng li\xean h\u1ec7 \u0110i\u1ec7n l\u1ef1c Xu\xe2n L\u1ed9c qua s\u1ed1 \u0111i\u1ec7n tho\u1ea1i Mr. \u0110\u1ea1t - <a href="tel:0937232239">0937232239 </a> ho\u1eb7c Mrs. Ph\u01b0\u1edbc Anh - <a href="tel:0583223344" >0583223344 </a> \u0111\u1ec3 \u0111\u01b0\u1ee3c gi\u1ea3i \u0111\xe1p.</p>\n          <p> Ph\u1ea3n h\u1ed3i h\xf3a \u0111\u01a1n qu\xfd kh\xe1ch vui l\xf2ng g\u1eedi email v\u1ec1 c\u1ea3 02 \u0111\u1ecba ch\u1ec9: <a href="mailto:dienlucxuanloc.nlmt@gmail.com;tckt.dlxl.pcdn@gmail.com">dienlucxuanloc.nlmt@gmail.com</a> v\xe0 <a href="mailto:dienlucxuanloc.nlmt@gmail.com;tckt.dlxl.pcdn@gmail.com">tckt.dlxl.pcdn@gmail.com</a> </p>\n          Tr\xe2n tr\u1ecdng.')}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.LFG(h.qu),d.LFG(f.T),d.LFG(m.i))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),H=a(25862);function w(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(){return d.CHM(n),d.oxw().approveList()}),d._uU(1,"Duy\u1ec7t"),d.qZA()}}function C(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",14),d.NdJ("click",function(){return d.CHM(n),d.oxw().returnList()}),d._uU(1,"Tr\u1ea3 l\u1ea1i"),d.qZA()}}function S(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",14),d.NdJ("click",function(){return d.CHM(n),d.oxw().exportWord()}),d._uU(1,"Xu\u1ea5t b\u1ea3ng k\xea"),d.qZA()}}function B(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",14),d.NdJ("click",function(){return d.CHM(n),d.oxw().exportUNC()}),d._uU(1,"Xu\u1ea5t UNC"),d.qZA()}}function Y(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(){return d.CHM(n),d.oxw().save()}),d._uU(1,"L\u01b0u"),d.qZA()}}function Q(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(){return d.CHM(n),d.oxw().paidList()}),d._uU(1,"\u0110\xe3 thanh to\xe1n"),d.qZA()}}function K(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"mat-icon",15),d.NdJ("click",function(){return d.CHM(n),d.oxw().searchText=""}),d._uU(1,"close"),d.qZA()}}function F(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"Ch\u1ee7 t\xe0i kho\u1ea3n"),d.qZA())}function O(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"S\u1ed1 t\xe0i kho\u1ea3n"),d.qZA())}function E(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"Ng\xe2n h\xe0ng"),d.qZA())}function P(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"Tr\u01b0\u1edbc thu\u1ebf"),d.qZA())}function L(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"Thu\u1ebf"),d.qZA())}function $(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"td",16),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw().onEdit(t)}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw().$implicit;d.xp6(1),d.Oqu(i.ChuTaiKhoan)}}function G(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"td",16),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw().onEdit(t)}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw().$implicit;d.xp6(1),d.Oqu(i.SoTaiKhoan)}}function R(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"td",16),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw().onEdit(t)}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw().$implicit;d.xp6(1),d.Oqu(i.NganHang)}}function z(t,e){if(1&t&&(d.TgZ(0,"td",18),d._uU(1),d.ALo(2,"number"),d.qZA()),2&t){var n=d.oxw().$implicit;d.xp6(1),d.Oqu(d.lcZ(2,1,n.TruocThue))}}function V(t,e){if(1&t&&(d.TgZ(0,"td",18),d._uU(1),d.ALo(2,"number"),d.qZA()),2&t){var n=d.oxw().$implicit;d.xp6(1),d.Oqu(d.lcZ(2,1,n.Thue))}}function W(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"mat-icon",26),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw().onDelete(t)}),d._uU(1,"delete"),d.qZA()}}function X(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td",16),d.NdJ("click",function(){var t=d.CHM(n).$implicit;return d.oxw().onEdit(t)}),d._uU(2),d.qZA(),d.TgZ(3,"td",16),d.NdJ("click",function(){var t=d.CHM(n).$implicit;return d.oxw().onEdit(t)}),d._uU(4),d.qZA(),d.YNc(5,$,2,1,"td",17),d.YNc(6,G,2,1,"td",17),d.YNc(7,R,2,1,"td",17),d.TgZ(8,"td",16),d.NdJ("click",function(){var t=d.CHM(n).$implicit;return d.oxw().onEdit(t)}),d._uU(9),d.ALo(10,"number"),d.qZA(),d.TgZ(11,"td",18),d._uU(12),d.ALo(13,"number"),d.qZA(),d.YNc(14,z,3,3,"td",19),d.YNc(15,V,3,3,"td",19),d.TgZ(16,"td",18),d._uU(17),d.ALo(18,"number"),d.qZA(),d.TgZ(19,"td",18),d.TgZ(20,"span",20),d.NdJ("blur",function(t){var e=d.CHM(n).$implicit;return d.oxw().changeLabel(t,e)}),d._uU(21),d.qZA(),d.qZA(),d.TgZ(22,"td",18),d.TgZ(23,"span",20),d.NdJ("blur",function(t){var e=d.CHM(n).$implicit;return d.oxw().changeSeri(t,e)}),d._uU(24),d.qZA(),d.qZA(),d.TgZ(25,"td",21),d.TgZ(26,"mat-form-field"),d.TgZ(27,"input",22),d.NdJ("focus",function(){return d.CHM(n),d.MAs(30).open()})("dateChange",function(t){var e=d.CHM(n).$implicit;return d.oxw().changeDate(t,e)}),d.qZA(),d._UZ(28,"mat-datepicker-toggle",23),d._UZ(29,"mat-datepicker",null,24),d.qZA(),d.qZA(),d.TgZ(31,"td"),d.YNc(32,W,2,0,"mat-icon",25),d.qZA(),d.qZA()}if(2&t){var i=e.$implicit,a=d.MAs(30),o=d.oxw();d.xp6(2),d.Oqu(i.MaKhachHang),d.xp6(2),d.Oqu(i.KhachHang),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(2),d.Oqu(d.lcZ(10,18,i.SanLuong)),d.xp6(3),d.Oqu(d.lcZ(13,20,i.DonGia)),d.xp6(2),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(2),d.Oqu(d.lcZ(18,22,i.TongTien)),d.xp6(3),d.Q6J("contentEditable",!0),d.xp6(1),d.hij(" ",i.KyHieuHoaDon,""),d.xp6(2),d.Q6J("contentEditable",!0),d.xp6(1),d.hij(" ",i.SoHoaDon," "),d.xp6(3),d.Q6J("matDatepicker",a)("value",i.NgayHoaDon),d.xp6(1),d.Q6J("for",a),d.xp6(4),d.Q6J("ngIf",o.checkPer(4)&&i.TrangThai<2)}}var j=function(){var e=function(){function e(n,i,a,o,r,u){t(this,e),this.plus=n,this.fb=i,this.rtSv=a,this.docxSv=o,this.route=r,this.nlmtSv=u,this.main=this.fb.group({Email:[,[h.kI.required]],MaKhachHang:[,[h.kI.required]],KhachHang:[,[h.kI.required]],DiaChi:[,[h.kI.required]],MaGCS:[,[h.kI.required]],ChuTaiKhoan:[,[h.kI.required]],SoTaiKhoan:[,[h.kI.required]],NganHang:[,[h.kI.required]],Nam:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],Thang:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],SanLuong:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],DonGia:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],TruocThue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],Thue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],TongTien:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],KyHieuHoaDon:[,[h.kI.required,h.kI.minLength(3)]],SoHoaDon:[,[h.kI.required,h.kI.minLength(3)]],NgayHoaDon:[,[h.kI.required]],TrangThai:[,],DaGuiMail:[0]}),this.title="Chi ti\u1ebft b\u1ea3ng k\xea",this.global=!0,this.dbName="dien-luc",this.api="dmt-pay",this.db=null,this.userId=this.plus.userId,this.usr=this.plus.usr,this.selectedItem=null,this.filter=[],this.chart=[],this.errors=[],this.searchText=""}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.plus.setTiTle(this.title),this.plus.IDB_InitDB(this.dbName).subscribe(function(e){return function(t,e,n,i){return new(n||(n=Promise))(function(e,a){function o(t){try{u(i.next(t))}catch(e){a(e)}}function r(t){try{u(i.throw(t))}catch(e){a(e)}}function u(t){t.done?e(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(o,r)}u((i=i.apply(t,[])).next())})}(t,0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.getIDB(),this.db=e,this.plus.updateRealtime(this.db,this.api,this.global),this.plus.IDB_DB_CleanTrash(e,this.api),this.plus.updateAPi.subscribe(function(t){t&&n.getIDB()});case 1:case"end":return t.stop()}},t,this)}))})}},{key:"getIDB",value:function(){var t=this,e=this.route.snapshot.paramMap.get("id");this.plus.httpGet(this.api+"/"+e).subscribe(function(n){var i=t.plus.Crypt_DecryptRest(n);t.items=i,(null==i||null==i)&&t.plus.IDB_DB_GetAllByIndexKey(t.db,"dmt-pay","_id",e).subscribe(function(e){console.log("getIDB d\u1ef1 ph\xf2ng",t.items),i=e})})}},{key:"changeDate",value:function(t,e){var n=this.items.DanhSach.indexOf(e);this.items.DanhSach[n].NgayHoaDon=t.value}},{key:"changeLabel",value:function(t,e){var n=this.items.DanhSach.indexOf(e);this.items.DanhSach[n].KyHieuHoaDon=t.target.innerText}},{key:"changeSeri",value:function(t,e){var n=this.items.DanhSach.indexOf(e);this.items.DanhSach[n].SoHoaDon=t.target.innerText}},{key:"ngOnDestroy",value:function(){console.log("Destroy",this.api),this.plus.subs.unsubscribe(),this.rtSv.leaveRoom(this.api)}},{key:"save",value:function(){var t=this,e=this.items;delete e.__v,this.plus.httpPut(this.api,e,this.global).subscribe(function(e){e.status&&t.plus.updateAPi.next(!0)})}},{key:"completeBill",value:function(){}},{key:"exportWord",value:function(){var t=this;this.docxSv.loadFileUrl("https://thuctd.github.io/templates/BangKe-PTC.docx").then(function(e){t.docxSv.generateOne(t.items,e,"PTC").then(function(t){console.log(t)})})}},{key:"exportUNC",value:function(){var t=this;this.docxSv.loadFileUrl("https://thuctd.github.io/templates/4la-UNC-HDBank.docx").then(function(e){t.docxSv.generateOne(t.items,e,"PTC").then(function(t){console.log(t)})})}},{key:"returnList",value:function(){var t=prompt("L\xed do tr\u1ea3 h\u1ed3 s\u01a1?");if(0==t.length)return this.plus.alertWarning("B\u1ea1n ph\u1ea3i nh\u1eadp l\xed do tr\u1ea3 h\u1ed3 s\u01a1");var e=this.items;e.LichSuCapNhat.push("Tr\u1ea3 l\u1ea1i h\u1ed3 s\u01a1 v\u1edbi l\xed do ".concat(t,": ").concat(g()().format("DD/MM/YYYY HH:mm"))),this.nlmtSv.changeStatusList(e,0)}},{key:"approveList",value:function(){var t=this.items;t.LichSuCapNhat.push("H\u1ed3 s\u01a1 \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ea5p nh\u1eadn: ".concat(g()().format("DD/MM/YYYY HH:mm"))),this.nlmtSv.changeStatusList(t,3)}},{key:"paidList",value:function(){var t=this.items;t.LichSuCapNhat.push("H\u1ed3 s\u01a1 \u0111\xe3 thanh to\xe1n ".concat(g()().format("DD/MM/YYYY HH:mm"))),this.nlmtSv.changeStatusList(t,4)}},{key:"report",value:function(){}},{key:"complete",value:function(){}},{key:"onEdit",value:function(t){this.selectedItem=t;var e=this.plus.dateToHtmlObj(t,[""]);this.main.patchValue(e),this.plus.clickBtn("openModal")}},{key:"onDelete",value:function(t){var e=this;!confirm("B\u1ea1n mu\u1ed1n x\xf3a?")||(this.plus.load(),this.plus.httpDisable(this.api,t,this.global).then(function(t){e.plus.updateAPi.next(!0)}))}},{key:"search",value:function(t){this.filter=t}},{key:"find",value:function(t){this.items=t}},{key:"checkPer",value:function(t){return this.plus.checkPer(this.api,t)}},{key:"reload",value:function(){return this.plus.reload(this.dbName+"/"+this.api)}},{key:"goBack",value:function(){this.plus.goBack()}},{key:"changePage",value:function(t){}},{key:"trackByFn",value:function(t,e){return e}},{key:"resetDB",value:function(){this.plus.resetDB(this.db,this.api)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(f.T),d.Y36(h.qu),d.Y36(m.i),d.Y36(U.E),d.Y36(Z.gz),d.Y36(M))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-nlmt-detail"]],decls:46,vars:20,consts:[[1,"container-fluid"],["id","back-btn","mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"row"],["matSuffix","","color","warn",3,"click",4,"ngIf"],["matInput","","id","search-api","placeholder","T\xecm ki\u1ebfm nhanh (F2)","value","value",3,"ngModel","ngModelChange"],[1,"tit","text-center"],[1,"table","table-hover"],[1,"thead-inverse"],[4,"Device"],["color","primary",3,"click"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["matSuffix","","color","warn",3,"click"],[1,"align-middle",3,"click"],["class","align-middle",3,"click",4,"Device"],[1,"align-middle"],["class","align-middle",4,"Device"],[3,"contentEditable","blur"],[1,"align-text-top"],["matInput","",3,"matDatepicker","value","focus","dateChange"],["matSuffix","",3,"for"],["picker",""],["color","warn",3,"click",4,"ngIf"],["color","warn",3,"click"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"button",1),d.NdJ("click",function(){return e.goBack()}),d.TgZ(2,"mat-icon"),d._uU(3,"undo"),d.qZA(),d.qZA(),d.YNc(4,w,2,0,"button",2),d.YNc(5,C,2,0,"button",3),d.YNc(6,S,2,0,"button",3),d.YNc(7,B,2,0,"button",3),d.YNc(8,Y,2,0,"button",2),d.YNc(9,Q,2,0,"button",2),d.TgZ(10,"div",4),d.TgZ(11,"mat-form-field"),d.YNc(12,K,2,0,"mat-icon",5),d.TgZ(13,"input",6),d.NdJ("ngModelChange",function(t){return e.searchText=t}),d.qZA(),d.qZA(),d.TgZ(14,"h5",7),d._uU(15),d.qZA(),d.TgZ(16,"table",8),d.TgZ(17,"thead",9),d.TgZ(18,"tr"),d.TgZ(19,"th"),d._uU(20,"M\xe3 kh\xe1ch h\xe0ng"),d.qZA(),d.TgZ(21,"th"),d._uU(22,"Kh\xe1ch h\xe0ng"),d.qZA(),d.YNc(23,F,2,0,"th",10),d.YNc(24,O,2,0,"th",10),d.YNc(25,E,2,0,"th",10),d.TgZ(26,"th"),d._uU(27,"S\u1ea3n l\u01b0\u1ee3ng"),d.qZA(),d.TgZ(28,"th"),d._uU(29,"\u0110\u01a1n gi\xe1"),d.qZA(),d.YNc(30,P,2,0,"th",10),d.YNc(31,L,2,0,"th",10),d.TgZ(32,"th"),d._uU(33,"T\u1ed5ng ti\u1ec1n"),d.qZA(),d.TgZ(34,"th"),d._uU(35,"K\xfd hi\u1ec7u h\xf3a \u0111\u01a1n"),d.qZA(),d.TgZ(36,"th"),d._uU(37,"S\u1ed1 h\xf3a \u0111\u01a1n"),d.qZA(),d.TgZ(38,"th"),d._uU(39,"Ng\xe0y h\xf3a \u0111\u01a1n"),d.qZA(),d.TgZ(40,"th"),d.TgZ(41,"mat-icon",11),d.NdJ("click",function(){return e.reload()}),d._uU(42,"cached"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(43,"tbody"),d.YNc(44,X,33,24,"tr",12),d.ALo(45,"filter"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(1),d.Q6J("@slideIn",void 0),d.xp6(3),d.Q6J("ngIf",(null==e.items?null:e.items.TrangThai)>1&&(null==e.items?null:e.items.TrangThai)<3),d.xp6(1),d.Q6J("ngIf",(null==e.items?null:e.items.TrangThai)>1&&(null==e.items?null:e.items.TrangThai)<3),d.xp6(1),d.Q6J("ngIf",(null==e.items?null:e.items.TrangThai)>1&&(null==e.items?null:e.items.TrangThai)<3),d.xp6(1),d.Q6J("ngIf",(null==e.items?null:e.items.TrangThai)>1&&(null==e.items?null:e.items.TrangThai)<3),d.xp6(1),d.Q6J("ngIf",(null==e.items?null:e.items.TrangThai)>1),d.xp6(1),d.Q6J("ngIf",3==(null==e.items?null:e.items.TrangThai)),d.xp6(3),d.Q6J("ngIf",e.searchText.length>0),d.xp6(1),d.Q6J("ngModel",e.searchText),d.xp6(2),d.hij("B\u1ea2NG K\xca THANH TO\xc1N TI\u1ec0N \u0110I\u1ec6N M\u1eb6T TR\u1edcI S\u1ed0 ",null==e.items?null:e.items.TenBangKe,""),d.xp6(1),d.Q6J("@slideIn",void 0),d.xp6(7),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(5),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(13),d.Q6J("ngForOf",d.xi3(45,17,null==e.items?null:e.items.DanhSach,e.searchText)))},directives:[x.lW,q.Hw,l.O5,T.KE,v.Nt,h.Fj,h.JJ,h.On,H.HP,l.sg,T.R9,k.hl,k.nW,k.Mq],pipes:[A.Cf,l.JJ],styles:["span[_ngcontent-%COMP%]{text-align:center;display:block;border-bottom:dotted 1px}mat-form-field[_ngcontent-%COMP%]{padding:0!important}.mat-form-field-infix[_ngcontent-%COMP%]{width:100px!important}"],data:{animation:[s.Ym]}}),e}(),tt=a(7365),et=a(23487),nt=a(68042),it=a(55352),at=a(97012);function ot(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"app-search-api",12),d.NdJ("data",function(t){return d.CHM(n),d.oxw().find(t)}),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("api",i.api)}}function rt(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"Tr\u1ea1ng th\xe1i"),d.qZA())}function ut(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"L\u1ecbch s\u1eed c\u1eadp nh\u1eadt"),d.qZA())}function ct(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"Th\xe0nh ti\u1ec1n sau thu\u1ebf"),d.qZA())}function lt(t,e){if(1&t&&(d.TgZ(0,"td",18),d._uU(1),d.ALo(2,"enum"),d.qZA()),2&t){var n=d.oxw().$implicit;d.s9C("routerLink",n._id),d.xp6(1),d.Oqu(d.xi3(2,2,n.TrangThai,"DMTTrangThaiHoSo"))}}function st(t,e){if(1&t&&(d.TgZ(0,"td",18),d._uU(1),d.qZA()),2&t){var n=d.oxw().$implicit;d.s9C("routerLink",n._id),d.xp6(1),d.Oqu(n.LichSuCapNhat)}}function ht(t,e){if(1&t&&(d.TgZ(0,"td",20),d._uU(1),d.ALo(2,"numberPipe"),d.qZA()),2&t){var n=d.oxw().$implicit;d.s9C("routerLink",n._id),d.xp6(1),d.Oqu(d.lcZ(2,2,n.ThanhTienSauThue))}}function pt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"mat-icon",23),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(2).onDelete(t)}),d._uU(1,"delete"),d.qZA()}}function gt(t,e){if(1&t&&(d.TgZ(0,"tr"),d.TgZ(1,"td",18),d._uU(2),d.qZA(),d.YNc(3,lt,3,5,"td",19),d.YNc(4,st,2,2,"td",19),d.TgZ(5,"td",20),d._uU(6),d.ALo(7,"numberPipe"),d.qZA(),d.YNc(8,ht,3,4,"td",21),d.TgZ(9,"td"),d.YNc(10,pt,2,0,"mat-icon",22),d.qZA(),d.qZA()),2&t){var n=e.$implicit,i=d.oxw(2);d.xp6(1),d.s9C("routerLink",n._id),d.xp6(1),d.Oqu(n.TenBangKe),d.xp6(1),d.Q6J("Device",2),d.xp6(1),d.Q6J("Device",2),d.xp6(1),d.s9C("routerLink",n._id),d.xp6(1),d.Oqu(d.lcZ(7,8,n.TongPhatLen)),d.xp6(2),d.Q6J("Device",2),d.xp6(2),d.Q6J("ngIf",i.checkPer(4)&&n.TrangThai<1)}}function dt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"table",13),d.TgZ(1,"thead",14),d.TgZ(2,"tr"),d.TgZ(3,"th"),d._uU(4,"T\xean b\u1ea3ng k\xea"),d.qZA(),d.YNc(5,rt,2,0,"th",15),d.YNc(6,ut,2,0,"th",15),d.TgZ(7,"th"),d._uU(8,"T\u1ed5ng ph\xe1t l\xean"),d.qZA(),d.YNc(9,ct,2,0,"th",15),d.TgZ(10,"th"),d.TgZ(11,"mat-icon",16),d.NdJ("click",function(){return d.CHM(n),d.oxw().reload()}),d._uU(12,"cached"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"tbody"),d.YNc(14,gt,11,10,"tr",17),d.qZA(),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("@slideIn",void 0),d.xp6(5),d.Q6J("Device",2),d.xp6(1),d.Q6J("Device",2),d.xp6(3),d.Q6J("Device",2),d.xp6(5),d.Q6J("ngForOf",i.filter.length>0?i.filter:i.items.slice(0,10))("ngForTrackBy",i.trackByFn)}}function ft(t,e){if(1&t&&d._UZ(0,"app-import-database",24),2&t){var n=d.oxw();d.Q6J("api",n.api)("global",n.global)("form",n.main)}}function mt(t,e){if(1&t&&d._UZ(0,"app-export-ecxel",25),2&t){var n=d.oxw();d.Q6J("dataJson",n.items)}}function Zt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",26),d.NdJ("click",function(){return d.CHM(n),d.oxw().resetDB()}),d._uU(1,"X\xf3a to\xe0n b\u1ed9 d\u1eef li\u1ec7u"),d.qZA()}}var Tt=function(){return[5,10,25,100]},vt=function(){var e=function(){function e(n,i,a){t(this,e),this.plus=n,this.fb=i,this.rtSv=a,this.main=this.fb.group({keyWord:[,[]],_id:[,[]],TenBangKe:[,[h.kI.required]],TrangThai:[,[h.kI.required]],LichSuCapNhat:[,[h.kI.required]],TongPhatLen:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],ThanhTienTruocThue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],Thue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],ThanhTienSauThue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],DanhSach:[,[h.kI.required]]}),this.title="L\u1eadp b\u1ea3ng k\xea",this.global=!0,this.dbName="dien-luc",this.api="dmt-pay",this.db=null,this.userId=this.plus.userId,this.usr=this.plus.usr,this.items=[],this.selectedItem=null,this.filter=[],this.chart=[],this.errors=[],this.startDay=new Date}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.plus.setTiTle(this.title),this.plus.IDB_InitDB(this.dbName).subscribe(function(e){return function(t,e,n,i){return new(n||(n=Promise))(function(e,a){function o(t){try{u(i.next(t))}catch(e){a(e)}}function r(t){try{u(i.throw(t))}catch(e){a(e)}}function u(t){t.done?e(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(o,r)}u((i=i.apply(t,[])).next())})}(t,0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.db=e,this.plus.updateRealtime(this.db,this.api,this.global),this.getMonth(this.startDay),this.plus.IDB_DB_CleanTrash(e,this.api),this.plus.updateAPi.subscribe(function(t){t&&n.getIDB()});case 1:case"end":return t.stop()}},t,this)}))})}},{key:"getIDB",value:function(){var t=this;console.log("getIDB() "),this.filter=[],this.items=[],this.plus.IDB_DB_GetAllByIndexKey(this.db,this.api,"KyThanhToan","".concat(this.year,"-").concat(this.month)).subscribe(function(e){t.items=e})}},{key:"ngOnDestroy",value:function(){console.log("Destroy",this.api),this.plus.subs.unsubscribe(),this.rtSv.leaveRoom(this.api)}},{key:"getMonth",value:function(t){this.startDay=t,this.month=g()(t).month()+1,this.year=g()(t).year(),console.log("GetMOnth:  ".concat(this.year).concat(this.month)),this.getIDB()}},{key:"save",value:function(){var t=this;if(!this.main.invalid){var e=this.main.value,n=this.plus.datetoNumObj(this.main.value,[""]);if(console.log(n),null==e._id)delete e._id,this.plus.httpPost(this.api,n,this.global).subscribe(function(e){e.status&&(t.plus.clickBtn("closeModal"),t.plus.updateAPi.next(!0))});else{var i=this.plus.objVs(this.selectedItem,e);if(0===Object.keys(i).length)return this.plus.alertMatSnackBar("Kh\xf4ng c\xf3 n\u1ed9i dung n\xe0o thay \u0111\u1ed5i");this.plus.httpPut(this.api,n,this.global).subscribe(function(e){e.status&&(t.plus.updateAPi.next(!0),t.plus.clickBtn("closeModal"))})}}}},{key:"onEdit",value:function(t){this.selectedItem=t;var e=this.plus.dateToHtmlObj(t,[""]);this.main.patchValue(e),this.plus.clickBtn("openModal")}},{key:"onDelete",value:function(t){var e=this;!confirm("B\u1ea1n mu\u1ed1n x\xf3a?")||(this.plus.load(),this.plus.httpDisable(this.api,t,this.global).then(function(t){e.plus.updateAPi.next(!0)}))}},{key:"chooseOpt",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.main.controls[e].setValue(t[n]),i&&this.main.controls[e+"ID"].setValue(t._id)}},{key:"closeModal",value:function(){this.main.reset()}},{key:"search",value:function(t){this.filter=t}},{key:"find",value:function(t){this.items=t}},{key:"checkPer",value:function(t){return this.plus.checkPer(this.api,t)}},{key:"patchForm",value:function(){this.main.reset({_id:" "})}},{key:"reload",value:function(){return this.plus.reload(this.dbName+"/"+this.api)}},{key:"goBack",value:function(){this.plus.goBack()}},{key:"reset",value:function(){this.plus.loaded(),this.filter=[],this.getIDB(),this.main.reset({})}},{key:"changePage",value:function(t){this.filter=this.items.slice(t.pageIndex*t.pageSize,(t.pageIndex+1)*t.pageSize)}},{key:"ondragover",value:function(){document.getElementById("dropZone").setAttribute("drop-active","true")}},{key:"trackByFn",value:function(t,e){return e}},{key:"resetDB",value:function(){this.plus.resetDB(this.db,this.api)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(f.T),d.Y36(h.qu),d.Y36(m.i))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-nlmt-list"]],decls:16,vars:11,consts:[[1,"container"],["id","add-btn","color","accent","mat-raised-button","","routerLink","/dien-luc/dmt-input"],["id","back-btn","mat-raised-button","","color","primary",3,"click"],[3,"api","data",4,"ngIf"],[1,"py-3"],[3,"startDay","month"],[1,"row"],["class","table table-hover",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],[3,"api","global","form",4,"ngIf"],[3,"dataJson",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"api","data"],[1,"table","table-hover"],[1,"thead-inverse"],[4,"Device"],["color","primary",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"routerLink"],[3,"routerLink",4,"Device"],[1,"text-right",3,"routerLink"],["class","text-right",3,"routerLink",4,"Device"],["color","warn",3,"click",4,"ngIf"],["color","warn",3,"click"],[3,"api","global","form"],[3,"dataJson"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"button",1),d.TgZ(2,"mat-icon"),d._uU(3,"control_point"),d.qZA(),d.qZA(),d.TgZ(4,"button",2),d.NdJ("click",function(){return e.goBack()}),d.TgZ(5,"mat-icon"),d._uU(6,"undo"),d.qZA(),d.qZA(),d.YNc(7,ot,1,1,"app-search-api",3),d.TgZ(8,"section",4),d.TgZ(9,"app-month-year",5),d.NdJ("month",function(t){return e.getMonth(t)}),d.qZA(),d.qZA(),d.TgZ(10,"div",6),d.YNc(11,dt,15,6,"table",7),d.TgZ(12,"mat-paginator",8),d.NdJ("page",function(t){return e.changePage(t)}),d.qZA(),d.qZA(),d.YNc(13,ft,1,3,"app-import-database",9),d.YNc(14,mt,1,1,"app-export-ecxel",10),d.qZA(),d.YNc(15,Zt,2,0,"button",11)),2&t&&(d.xp6(4),d.Q6J("@slideIn",void 0),d.xp6(3),d.Q6J("ngIf",e.checkPer(10)),d.xp6(2),d.Q6J("startDay",e.startDay),d.xp6(2),d.Q6J("ngIf",e.items.length+e.filter.length>0),d.xp6(1),d.Q6J("length",e.items.length)("pageSize",10)("pageSizeOptions",d.DdM(10,Tt)),d.xp6(1),d.Q6J("ngIf",e.checkPer(4)),d.xp6(1),d.Q6J("ngIf",e.checkPer(4)),d.xp6(1),d.Q6J("ngIf",e.checkPer(6)))},directives:[x.lW,Z.rH,q.Hw,l.O5,tt.k,et.NW,nt.W,H.HP,l.sg,it.y,at.t],pipes:[A._2,A.zZ],styles:[""],data:{animation:[s.Ym]}}),e}(),kt=a(31409),bt=a(89713),xt=a(51511),qt=function(t,e,n,i){return new(n||(n=Promise))(function(a,o){function r(t){try{c(i.next(t))}catch(e){o(e)}}function u(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){t.done?a(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(r,u)}c((i=i.apply(t,e||[])).next())})};function yt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",24),d.NdJ("click",function(){return d.CHM(n),d.oxw().reload()}),d.TgZ(1,"mat-icon"),d._uU(2,"undo"),d.qZA(),d.qZA()}2&t&&d.Q6J("@slideIn",void 0)}function At(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"section",25),d.TgZ(1,"app-month-year",26),d.NdJ("month",function(t){return d.CHM(n),d.oxw().getMonth(t)}),d.qZA(),d.qZA()}if(2&t){var i=d.oxw();d.xp6(1),d.Q6J("startDay",i.startDay)}}function It(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",27),d.NdJ("click",function(){return d.CHM(n),d.oxw().saveList()}),d._uU(1," L\u01b0u "),d.qZA()}2&t&&d.Q6J("@slideX",void 0)}function _t(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",27),d.NdJ("click",function(){return d.CHM(n),d.oxw().sendMail()}),d._uU(1," G\u1eedi mail"),d.qZA()}2&t&&d.Q6J("@slideX",void 0)}function Nt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",28),d.NdJ("click",function(){return d.CHM(n),d.oxw().report()}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("@slideX",void 0),d.xp6(1),d.hij(" B\u1ea3ng k\xea c\xf3 H\u0110 (",i.itemsReport.length,") ")}}function Dt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",27),d.NdJ("click",function(){return d.CHM(n),d.oxw().complete()}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("@slideX",void 0),d.xp6(1),d.hij(" G\u1eedi b\u1ea3ng k\xea (",i.itemsReport.length,")")}}function Ut(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",28),d.NdJ("click",function(){return d.CHM(n),d.oxw().reportNoBill()}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("@slideX",void 0),d.xp6(1),d.hij(" B\u1ea3ng k\xea kh\xf4ng H\u0110 (",i.itemsReportNoBill.length,") ")}}function Jt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",27),d.NdJ("click",function(){return d.CHM(n),d.oxw().completeNoBill()}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("@slideX",void 0),d.xp6(1),d.hij(" G\u1eedi b\u1ea3ng k\xea (",i.itemsReportNoBill.length,")")}}function Mt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",27),d.NdJ("click",function(){return d.CHM(n),d.oxw().reporUnqualified()}),d._uU(1," B\u1ea3ng k\xea ch\u01b0a \u0111\u1ee7 \u0110K"),d.qZA()}2&t&&d.Q6J("@slideX",void 0)}function Ht(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",29),d.NdJ("click",function(){return d.CHM(n),d.oxw().showUnpaid()}),d._uU(1," Ch\u01b0a l\u1eadp BK "),d.qZA()}2&t&&d.Q6J("@slideX",void 0)}function wt(t,e){1&t&&(d.TgZ(0,"h5",30),d._uU(1,"L\u1ed7i d\u1eef li\u1ec7u"),d.qZA())}function Ct(t,e){if(1&t&&(d.TgZ(0,"h5",31),d._uU(1),d.qZA()),2&t){var n=d.oxw();d.xp6(1),d.hij("DANH S\xc1CH THANH TO\xc1N TI\u1ec0N \u0110I\u1ec6N M\u1eb6T TR\u1edcI ",n.bangKe.length," KH")}}function St(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"L\u1ed7i"),d.qZA())}function Bt(t,e){if(1&t&&(d.TgZ(0,"td",37),d._uU(1),d.qZA()),2&t){var n=d.oxw().$implicit;d.xp6(1),d.Oqu(n.err)}}function Yt(t,e){if(1&t&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td",34),d.TgZ(4,"a",35),d._uU(5),d.qZA(),d.qZA(),d.TgZ(6,"td"),d._uU(7),d.qZA(),d.TgZ(8,"td"),d._uU(9),d.qZA(),d.TgZ(10,"td",7),d._uU(11),d.ALo(12,"numberPipe"),d.qZA(),d.TgZ(13,"td",7),d._uU(14),d.ALo(15,"numberPipe"),d.qZA(),d.YNc(16,Bt,2,1,"td",36),d.qZA()),2&t){var n=e.$implicit,i=e.index,a=d.oxw(2);d.xp6(2),d.Oqu(i+1),d.xp6(2),d.s9C("routerLink",n._id),d.xp6(1),d.Oqu(n.MaKhachHang),d.xp6(2),d.Oqu(n.Email),d.xp6(2),d.Oqu(n.KhachHang),d.xp6(2),d.Oqu(d.lcZ(12,8,n.SanLuong)),d.xp6(3),d.Oqu(d.lcZ(15,10,n.TongTien)),d.xp6(2),d.Q6J("ngIf",2==a.step)}}function Qt(t,e){if(1&t&&(d.TgZ(0,"table",32),d.TgZ(1,"thead"),d.TgZ(2,"tr"),d.TgZ(3,"th"),d._uU(4,"TT"),d.qZA(),d.TgZ(5,"th"),d._uU(6,"M\xe3 Kh\xe1ch h\xe0ng"),d.qZA(),d.TgZ(7,"th"),d._uU(8,"Email"),d.qZA(),d.TgZ(9,"th"),d._uU(10,"Kh\xe1ch h\xe0ng"),d.qZA(),d.TgZ(11,"th"),d._uU(12,"S\u1ea3n l\u01b0\u1ee3ng"),d.qZA(),d.TgZ(13,"th"),d._uU(14,"T\u1ed5ng ti\u1ec1n"),d.qZA(),d.YNc(15,St,2,0,"th",12),d.qZA(),d.qZA(),d.TgZ(16,"tbody"),d.YNc(17,Yt,17,12,"tr",33),d.qZA(),d.qZA()),2&t){var n=d.oxw();d.xp6(15),d.Q6J("ngIf",2==n.step),d.xp6(2),d.Q6J("ngForOf",n.errors.length>0?n.errors:n.bangKe)}}function Kt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"mat-icon",40),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).searchText=""}),d._uU(1,"close"),d.qZA()}}function Ft(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"mat-form-field"),d.YNc(1,Kt,2,0,"mat-icon",38),d.TgZ(2,"input",39),d.NdJ("ngModelChange",function(t){return d.CHM(n),d.oxw().searchText=t}),d.qZA(),d.qZA()}if(2&t){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",i.searchText.length>0),d.xp6(1),d.Q6J("ngModel",i.searchText)}}function Ot(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"G\u1eedi mail"),d.qZA())}function Et(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"B\u1ea3ng k\xea"),d.qZA())}function Pt(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"Tr\u1ea1ng th\xe1i h\u1ed3 s\u01a1"),d.qZA())}var Lt=function(t){return{"bg-success text-center":t}};function $t(t,e){if(1&t&&(d.TgZ(0,"td",48),d._uU(1),d.ALo(2,"enum"),d.qZA()),2&t){var n=d.oxw().$implicit;d.Q6J("ngClass",d.VKq(5,Lt,1==n.DaGuiMail)),d.xp6(1),d.Oqu(d.xi3(2,2,n.DaGuiMail,"TrangThaiEmail"))}}function Gt(t,e){if(1&t&&(d.TgZ(0,"td"),d._uU(1),d.qZA()),2&t){var n=d.oxw().$implicit;d.xp6(1),d.Oqu(n.TenBangKe)}}function Rt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"mat-icon",51),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(2).onDelete(t)}),d._uU(1,"delete"),d.qZA()}}var zt=function(t){return{"text-info":t}},Vt=function(t,e,n,i){return{"bg-danger text-center":t,"bg-info text-center":e,"bg-primary text-center":n,"bg-success text-center":i}};function Wt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d.TgZ(2,"mat-checkbox",47),d.NdJ("change",function(t){var e=d.CHM(n).$implicit;return d.oxw(2).checkItem(t,e)}),d.qZA(),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d.TgZ(6,"a",35),d._uU(7),d.qZA(),d.qZA(),d.TgZ(8,"td",48),d._uU(9),d.qZA(),d.TgZ(10,"td"),d._uU(11),d.ALo(12,"number"),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.ALo(15,"number"),d.qZA(),d.YNc(16,$t,3,7,"td",49),d.YNc(17,Gt,2,1,"td",44),d.TgZ(18,"td",48),d._uU(19),d.ALo(20,"enum"),d.qZA(),d.TgZ(21,"td"),d.YNc(22,Rt,2,0,"mat-icon",50),d.qZA(),d.qZA()}if(2&t){var i=e.$implicit,a=e.index,o=d.oxw(2);d.xp6(2),d.Q6J("checked",1==i.TrangThaiHoSo)("disabled",i.TrangThaiHoSo>1),d.xp6(2),d.Oqu(a+1),d.xp6(2),d.s9C("routerLink",i._id),d.xp6(1),d.Oqu(i.MaKhachHang),d.xp6(1),d.Q6J("ngClass",d.VKq(21,zt,0==i.CoHoaDon)),d.xp6(1),d.Oqu(i.KhachHang),d.xp6(2),d.Oqu(d.lcZ(12,14,i.SanLuong)),d.xp6(3),d.Oqu(d.lcZ(15,16,i.TongTien)),d.xp6(2),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("ngClass",d.l5B(23,Vt,0==i.TrangThaiHoSo,1==i.TrangThaiHoSo,3==i.TrangThaiHoSo,4==i.TrangThaiHoSo)),d.xp6(1),d.Oqu(d.xi3(20,18,i.TrangThaiHoSo,"DMTTrangThaiHoSo")),d.xp6(3),d.Q6J("ngIf",o.checkPer(2)&&i.TrangThaiHoSo<2||o.checkPer(7))}}function Xt(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"table",41),d.TgZ(1,"thead",42),d.TgZ(2,"tr"),d.TgZ(3,"th"),d.TgZ(4,"mat-checkbox",43),d.NdJ("change",function(t){return d.CHM(n),d.oxw().checkAll(t)}),d.qZA(),d.qZA(),d.TgZ(5,"th"),d._uU(6,"TT"),d.qZA(),d.TgZ(7,"th"),d._uU(8,"M\xe3 kh\xe1ch h\xe0ng"),d.qZA(),d.TgZ(9,"th"),d._uU(10,"Kh\xe1ch h\xe0ng"),d.qZA(),d.TgZ(11,"th"),d._uU(12,"S\u1ea3n l\u01b0\u1ee3ng"),d.qZA(),d.TgZ(13,"th"),d._uU(14,"T\u1ed5ng ti\u1ec1n"),d.qZA(),d.YNc(15,Ot,2,0,"th",44),d.YNc(16,Et,2,0,"th",44),d.YNc(17,Pt,2,0,"th",44),d.TgZ(18,"th"),d.TgZ(19,"mat-icon",45),d.NdJ("click",function(){return d.CHM(n),d.oxw().reload()}),d._uU(20,"cached"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"tbody"),d.YNc(22,Wt,23,28,"tr",46),d.ALo(23,"filter"),d.qZA(),d._UZ(24,"tfoot"),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("@slideIn",void 0),d.xp6(4),d.Q6J("checked",i.all),d.xp6(11),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(5),d.Q6J("ngForOf",d.xi3(23,7,i.filter.length>0?i.filter:i.items,i.searchText))("ngForTrackBy",i.trackByFn)}}var jt=function(){return[20,50,100,500]};function te(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"mat-paginator",52),d.NdJ("page",function(t){return d.CHM(n),d.oxw().changePage(t)}),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("length",i.items.length)("pageSize",500)("pageSizeOptions",d.DdM(3,jt))}}function ee(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",53),d.NdJ("click",function(){return d.CHM(n),d.oxw().resetDB()}),d._uU(1,"X\xf3a to\xe0n b\u1ed9 d\u1eef li\u1ec7u"),d.qZA()}}function ne(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"app-drop-files",54),d.NdJ("files",function(t){return d.CHM(n),d.oxw().onDropFile(t)})("ondragover",function(){return d.CHM(n),d.oxw().ondragover()}),d.qZA()}2&t&&d.Q6J("label","")}var ie=function(){var e=function(){function e(n,i,a,o,r,u){t(this,e),this.plus=n,this.fb=i,this.rtSv=a,this.excelSv=o,this.docxSv=r,this.nlmtSv=u,this.importForm=this.fb.group({keyWord:[,[]],_id:[,[]],TONG_TIEN:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],MA_DVIQLY:[,[]],TKHOAN_KHANG:[,[]],MA_NHANG:[,[]],TEN_NHANG:[,[]],MA_SOGCS:[,[h.kI.required]],TYLE_THUE:[,[]],DIEN_TTHU:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],SO_TIEN:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],DCHI_KHANG:[,[]],MA_KHANG:[,[h.kI.required]],TIEN_GTGT:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],TEN_KHANG:[,[h.kI.required]],NGAY_GCS:[,[]],DON_GIA:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]]}),this.bangKeForm=this.fb.group({Email:[],MaKhachHang:[,[h.kI.required]],KhachHang:[,[h.kI.required]],DiaChi:[,[h.kI.required]],MaGCS:[,],ChuTaiKhoan:[],SoTaiKhoan:[],NganHang:[,[h.kI.required]],Nam:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],Thang:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],SanLuong:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],DonGia:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],TruocThue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],Thue:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],TongTien:[,[h.kI.required,h.kI.pattern("^[0-9]*$")]],KyHieuHoaDon:[,[]],SoHoaDon:[,[]],NgayHoaDon:[,[]],TrangThai:[,],DaGuiMail:[0],NgayMuaHang:[,[]]}),this.searchText="",this.title="L\u1eadp b\u1ea3ng k\xea",this.global=!0,this.dbName="dien-luc",this.api="dmt-input",this.db=null,this.userId=this.plus.userId,this.usr=this.plus.usr,this.items=[],this.selectedItem=null,this.filter=[],this.chart=[],this.errors=[],this.dataInXls={},this.wordFile=null,this.startDay=new Date,this.bangKe=[],this.readFileDone=!1,this.step=0,this.TongPhatLen=0,this.ThanhTienTruocThue=0,this.Thue=0,this.ThanhTienSauThue=0,this.itemsReport=[],this.itemsReportNoBill=[],this.all=!1}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.plus.setTiTle(this.title),this.plus.IDB_InitDB(this.dbName).subscribe(function(e){return qt(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.db=e,this.plus.updateRealtime(this.db,this.api,this.global),this.getMonth(this.startDay),this.plus.IDB_DB_CleanTrash(e,this.api),this.plus.updateAPi.subscribe(function(t){t&&n.getIDB()});case 1:case"end":return t.stop()}},t,this)}))})}},{key:"getIDB",value:function(){var t=this;this.filter=[],this.items=[],this.plus.IDB_DB_GetAllByIndexKey(this.db,this.api,"KyThanhToan","".concat(this.year,"-").concat(this.month)).subscribe(function(e){t.items=e})}},{key:"ngOnDestroy",value:function(){console.log("Destroy",this.api),this.plus.subs.unsubscribe(),this.rtSv.leaveRoom(this.api)}},{key:"saveList",value:function(){var t=this,e=this.bangKe;console.log(e),this.plus.httpPost(this.api+"/import",e,this.global).subscribe(function(e){t.reload()})}},{key:"convertToList",value:function(){var t=this;console.log("convertToList()");for(var e=this.dataInXls.data,n=Date.now(),i=function(i){var a=e[i];if(t.importForm.patchValue(a),t.importForm.invalid)t.plus.alertError("Ki\u1ec3m tra l\u1ea1i d\u1eef li\u1ec7u file import");else{var o={MaKhachHang:a.MA_KHANG,MaGCS:a.MA_SOGCS,Nam:t.year,Thang:t.month,SanLuong:a.DIEN_TTHU,DonGia:a.DON_GIA,TruocThue:a.SO_TIEN,NgayMuaHang:a.NGAY_GCS,TiLeThue:a.TYLE_THUE,Thue:a.TIEN_GTGT,TongTien:a.TONG_TIEN,KyThanhToan:"".concat(t.year,"-")+t.month,DaGuiMail:0,TrangThaiThanhToan:0,TrangThaiHoSo:-1,dateModify:n+i};t.plus.IDB_DB_GetAllByIndexKey(t.db,"dmt-khach-hang","MaKhachHang",a.MA_KHANG).subscribe(function(n){var i=n[0];if(0==n.length)return t.plus.alertMatSnackBar("B\u1ea1n ch\u01b0a c\xf3 d\u1eef li\u1ec7u kh\xe1ch h\xe0ng ".concat(a.MA_KHANG),5e3);console.log(i,o);var r=Object.assign(i,o);if(delete r.__v,delete r._id,t.bangKeForm.patchValue(r),t.bangKeForm.invalid){console.log("bangKeForm.invalid");var u=t.plus.getErrValidateForm(t.bangKeForm);r.err=u,t.errors.push(r),t.step=2}else{console.log("bangKeForm.valid");for(var c=0;c<t.items.length;c++){var l=t.items[c];l.MaKhachHang==r.MaKhachHang&&(console.log("if (el.MaKhachHang == body.MaKhachHang)"),r.err="".concat(l.MaKhachHang," \u0111\xe3 t\u1ed3n t\u1ea1i!"),t.errors.push(r))}console.log("else {  this.bangKe.push(body)"),t.bangKe.push(r)}e.length==t.bangKe.length&&(t.readFileDone=!0,t.step=t.errors.length>0?2:3,console.log(t.bangKe))})}},a=0;a<e.length;a++)i(a)}},{key:"onDropFile",value:function(t){var e=this;console.log("onDropFile()"),this.reset();for(var n=0;n<t.length;n++)"application/vnd.openxmlformats-officedocument.wordprocessingml.document"==t[n].type?function(){var i=new FileReader;i.readAsArrayBuffer(t[n]),i.onloadend=function(){return e.wordFile=i.result}}():"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==t[n].type?this.excelSv.toJsonArray(t[n]).then(function(t){e.dataInXls=t,e.convertToList()}):this.plus.alertError("File kh\xf4ng h\u1ee3p l\u1ec7")}},{key:"sendMail",value:function(){return qt(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.info("sendMail()"),e=regeneratorRuntime.mark(function t(e){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.itemsReport[e],a=i.items.indexOf(n),!(0==n.DaGuiMail&&n.Email.length>5)){t.next=7;break}return o=i.nlmtSv.geneBodyMail(i.itemsReport[0],i.startDay,1),i.plus.load(),i.plus.httpPost("mail/dien-mat-troi",o).subscribe(function(t){var e=t.index;console.log("Mail sent: ",e,t.email),e>=0&&t.email?(i.plus.loaded(),i.items[a].DaGuiMail=1,i.nlmtSv.statusMail(n)):(i.items[a].DaGuiMail=0,i.plus.alertToasrt(t))}),t.next=7,i.plus.sleep(5e3);case 7:case"end":return t.stop()}},t)}),n=0;case 3:if(!(n<this.itemsReport.length)){t.next=8;break}return t.delegateYield(e(n),"t0",5);case 5:n++,t.next=3;break;case 8:this.getIDB();case 9:case"end":return t.stop()}},t,this)}))}},{key:"report",value:function(){var t=this,e=this.nlmtSv.geneBodyPay(this.itemsReport,this.startDay);this.docxSv.loadFileUrl("https://thuctd.github.io/templates/BangKe.docx").then(function(n){t.docxSv.generateOne(e,n,"BangKeThang".concat(t.month,"-").concat(t.year)).then(function(t){})})}},{key:"reportNoBill",value:function(){var t=this,e=this.nlmtSv.geneBodyPay(this.itemsReportNoBill,this.startDay);this.docxSv.loadFileUrl("https://thuctd.github.io/templates/BangKeNoBill.docx").then(function(n){t.docxSv.generateOne(e,n,"BangKeThang".concat(t.month,"-").concat(t.year)).then(function(t){})})}},{key:"reporUnqualified",value:function(){for(var t=this,e=[],n=0;n<this.items.length;n++){var i=this.items[n];i.TrangThaiHoSo<1&&e.push(i)}var a=this.nlmtSv.geneBodyPay(e,this.startDay);this.docxSv.loadFileUrl("https://thuctd.github.io/templates/BangKeChuaDuDieuKien.docx").then(function(e){t.docxSv.generateOne(a,e,"BangKeThang".concat(t.month,"-").concat(t.year)).then(function(t){})})}},{key:"complete",value:function(){var t=g()(this.startDay).format("YYMMDDHHmm");this.nlmtSv.updateNameBill(this.itemsReport,t)}},{key:"completeNoBill",value:function(){var t=g()(this.startDay).format("YYMMDDHHmm");this.nlmtSv.updateNameBill(this.itemsReportNoBill,t)}},{key:"showUnpaid",value:function(){this.items=this.items.filter(function(t){return t.TrangThaiHoSo<1})}},{key:"checkItem",value:function(t,e){var n=this.itemsReport.indexOf(e),i=this.itemsReportNoBill.indexOf(e);t.checked?(this.isHasBill(e),e.TrangThaiHoSo=1):(this.all=!1,e.TrangThaiHoSo=-1,n>0?this.itemsReport.splice(n,1):this.itemsReportNoBill.splice(i,1))}},{key:"checkAll",value:function(t){if(t.checked){this.all=!0;for(var e=0;e<this.items.length;e++){var n=this.items[e];-1==n.TrangThaiHoSo&&(this.items[e].TrangThaiHoSo=1,this.isHasBill(n))}}else{this.all=!1,this.itemsReport=[],this.itemsReportNoBill=[];for(var i=0;i<this.items.length;i++)1==this.items[i].TrangThaiHoSo&&(this.items[i].TrangThaiHoSo=-1)}}},{key:"isHasBill",value:function(t){0==t.CoHoaDon?this.itemsReportNoBill.push(t):this.itemsReport.push(t)}},{key:"ondragover",value:function(){document.getElementById("dropZone").setAttribute("drop-active","true")}},{key:"getMonth",value:function(t){this.startDay=t,this.itemsReport=[],this.month=g()(t).month()+1,this.year=g()(t).year(),console.log("GetMOnth:  ".concat(this.year).concat(this.month)),this.getIDB()}},{key:"onEdit",value:function(t){}},{key:"onDelete",value:function(t){var e=this;if(confirm("B\u1ea1n mu\u1ed1n x\xf3a?")){if(1==t.TrangThaiHoSo)return this.plus.alertWarning("B\u1ea1n kh\xf4ng th\u1ec3 x\xf3a khi \u0111\xe3 g\u1eedi b\u1ea3ng k\xea");this.plus.load(),this.plus.httpDisable(this.api,t,this.global).then(function(t){e.plus.updateAPi.next(!0)})}}},{key:"search",value:function(t){this.items=t}},{key:"find",value:function(t){this.items=t}},{key:"checkPer",value:function(t){return this.plus.checkPer(this.api,t)}},{key:"reload",value:function(){return this.plus.reload(this.dbName+"/"+this.api)}},{key:"reset",value:function(){console.log("reset()"),this.plus.loaded(),this.filter=[],this.errors=[],this.plus.clickBtn("closeImportButton")}},{key:"changePage",value:function(t){this.filter=this.items.slice(t.pageIndex*t.pageSize,(t.pageIndex+1)*t.pageSize)}},{key:"trackByFn",value:function(t,e){return e}},{key:"resetDB",value:function(){this.plus.resetDB(this.db,this.api),this.reload()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(f.T),d.Y36(h.qu),d.Y36(m.i),d.Y36(kt.x),d.Y36(U.E),d.Y36(M))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-nlmt-input"]],decls:33,vars:18,consts:[[1,"container-fluid"],["id","back-btn","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","py-3",4,"ngIf"],[1,"row"],["color","accent","mat-raised-button","","data-toggle","modal","data-target","#modalImport"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],[1,"text-right"],["class","pull-right","mat-raised-button","","color","warn",3,"click",4,"ngIf"],["class","tit bg-warning",4,"ngIf"],["class","tit",4,"ngIf"],["class","table",4,"ngIf"],[4,"ngIf"],["class","table table-hover",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],["id","modalImport","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],["type","button","id","closeImportButton","data-dismiss","modal","aria-label","Close",1,"close","text-danger"],["aria-hidden","true"],[1,"modal-body"],[1,"drop"],[3,"label","files","ondragover",4,"ngIf"],["id","back-btn","mat-raised-button","","color","primary",3,"click"],[1,"py-3"],[3,"startDay","month"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",1,"pull-right",3,"click"],[1,"tit","bg-warning"],[1,"tit"],[1,"table"],[4,"ngFor","ngForOf"],["scope","row"],[3,"routerLink"],["class","bg-danger",4,"ngIf"],[1,"bg-danger"],["matSuffix","","color","warn",3,"click",4,"ngIf"],["matInput","","id","search-api","placeholder","T\xecm ki\u1ebfm nhanh (F2)","value","value",3,"ngModel","ngModelChange"],["matSuffix","","color","warn",3,"click"],[1,"table","table-hover"],[1,"thead-inverse"],["color","warn",3,"checked","change"],[4,"Device"],["color","primary",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],["color","primary",3,"checked","disabled","change"],[3,"ngClass"],[3,"ngClass",4,"Device"],["color","warn",3,"click",4,"ngIf"],["color","warn",3,"click"],[3,"length","pageSize","pageSizeOptions","page"],["mat-button","","color","warn",3,"click"],[3,"label","files","ondragover"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.YNc(1,yt,3,1,"button",1),d.YNc(2,At,2,1,"section",2),d.TgZ(3,"div",3),d.TgZ(4,"button",4),d.TgZ(5,"mat-icon"),d._uU(6,"control_point"),d.qZA(),d.qZA(),d.YNc(7,It,2,1,"button",5),d.YNc(8,_t,2,1,"button",5),d.YNc(9,Nt,2,2,"button",6),d.YNc(10,Dt,2,2,"button",5),d.YNc(11,Ut,2,2,"button",6),d.YNc(12,Jt,2,2,"button",5),d.YNc(13,Mt,2,1,"button",5),d.TgZ(14,"span",7),d.YNc(15,Ht,2,1,"button",8),d.qZA(),d.qZA(),d.YNc(16,wt,2,0,"h5",9),d.YNc(17,Ct,2,1,"h5",10),d.YNc(18,Qt,18,2,"table",11),d.TgZ(19,"div",3),d.YNc(20,Ft,3,2,"mat-form-field",12),d.YNc(21,Xt,25,10,"table",13),d.YNc(22,te,1,4,"mat-paginator",14),d.qZA(),d.YNc(23,ee,2,0,"button",15),d.qZA(),d.TgZ(24,"div",16),d.TgZ(25,"div",17),d.TgZ(26,"div",18),d.TgZ(27,"button",19),d.TgZ(28,"span",20),d._uU(29,"\xd7"),d.qZA(),d.qZA(),d.TgZ(30,"div",21),d.TgZ(31,"div",22),d.YNc(32,ne,1,1,"app-drop-files",23),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(1),d.Q6J("ngIf",e.step>1),d.xp6(1),d.Q6J("ngIf",0==e.step),d.xp6(5),d.Q6J("ngIf",e.bangKe.length>0&&0==e.errors.length),d.xp6(1),d.Q6J("ngIf",e.itemsReport.length>0),d.xp6(1),d.Q6J("ngIf",e.itemsReport.length>0),d.xp6(1),d.Q6J("ngIf",e.itemsReport.length>0),d.xp6(1),d.Q6J("ngIf",e.itemsReportNoBill.length>0),d.xp6(1),d.Q6J("ngIf",e.itemsReportNoBill.length>0),d.xp6(1),d.Q6J("ngIf",e.items.length>0),d.xp6(2),d.Q6J("ngIf",e.items.length>0),d.xp6(1),d.Q6J("ngIf",2==e.step),d.xp6(1),d.Q6J("ngIf",1==e.step),d.xp6(1),d.Q6J("ngIf",e.step>1),d.xp6(2),d.Q6J("ngIf",e.items.length+e.filter.length>0&&0==e.errors.length),d.xp6(1),d.Q6J("ngIf",e.items.length+e.filter.length>0&&0==e.errors.length),d.xp6(1),d.Q6J("ngIf",e.items.length+e.filter.length>0),d.xp6(1),d.Q6J("ngIf",e.checkPer(6)),d.xp6(9),d.Q6J("ngIf",0==e.bangKe.length||!e.wordFile))},directives:[l.O5,x.lW,q.Hw,tt.k,l.sg,Z.yS,T.KE,v.Nt,h.Fj,h.JJ,h.On,T.R9,bt.oG,H.HP,l.mk,et.NW,xt.k],pipes:[A._2,A.Cf,l.JJ,A.zZ],styles:[""],data:{animation:[s.Ym,s.Mq]}}),e}(),ae=a(46936);function oe(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",10),d.NdJ("click",function(){return d.CHM(n),d.oxw().reload()}),d.TgZ(1,"mat-icon"),d._uU(2,"undo"),d.qZA(),d.qZA()}2&t&&d.Q6J("@slideIn",void 0)}function re(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"app-search-api",11),d.NdJ("data",function(t){return d.CHM(n),d.oxw().find(t)}),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("api",i.api)}}function ue(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"mat-icon",18),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(2).onDelete(t)}),d._uU(1,"delete"),d.qZA()}}function ce(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td",16),d.NdJ("click",function(){var t=d.CHM(n).$implicit;return d.oxw(2).onEdit(t)}),d._uU(2),d.qZA(),d.TgZ(3,"td",16),d.NdJ("click",function(){var t=d.CHM(n).$implicit;return d.oxw(2).onEdit(t)}),d._uU(4),d.qZA(),d.TgZ(5,"td",16),d.NdJ("click",function(){var t=d.CHM(n).$implicit;return d.oxw(2).onEdit(t)}),d._uU(6),d.ALo(7,"date"),d.qZA(),d.TgZ(8,"td",16),d.NdJ("click",function(){var t=d.CHM(n).$implicit;return d.oxw(2).onEdit(t)}),d._uU(9),d.qZA(),d.TgZ(10,"td"),d.YNc(11,ue,2,0,"mat-icon",17),d.qZA(),d.qZA()}if(2&t){var i=e.$implicit,a=d.oxw(2);d.xp6(2),d.Oqu(i.TaiKhoan),d.xp6(2),d.Oqu(i.NoiDung),d.xp6(2),d.Oqu(d.xi3(7,5,i.ThoiGian,"dd/MM/YYYY HH:mm")),d.xp6(3),d.Oqu(i.MaKhachHang),d.xp6(2),d.Q6J("ngIf",a.checkPer(4))}}function le(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"table",12),d.TgZ(1,"thead",13),d.TgZ(2,"tr"),d.TgZ(3,"th"),d._uU(4,"T\xe0i kho\u1ea3n"),d.qZA(),d.TgZ(5,"th"),d._uU(6,"N\u1ed9i dung thay \u0111\u1ed5i"),d.qZA(),d.TgZ(7,"th"),d._uU(8,"Th\u1eddi gian"),d.qZA(),d.TgZ(9,"th"),d._uU(10,"M\xe3 kh\xe1ch h\xe0ng"),d.qZA(),d.TgZ(11,"th"),d.TgZ(12,"mat-icon",14),d.NdJ("click",function(){return d.CHM(n),d.oxw().reload()}),d._uU(13,"cached"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"tbody"),d.YNc(15,ce,12,8,"tr",15),d.qZA(),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("@slideIn",void 0),d.xp6(15),d.Q6J("ngForOf",i.filter.length>0?i.filter:i.items.slice(0,10))("ngForTrackBy",i.trackByFn)}}function se(t,e){if(1&t&&d._UZ(0,"app-export-ecxel",19),2&t){var n=d.oxw();d.Q6J("dataJson",n.items)}}function he(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",20),d.NdJ("click",function(){return d.CHM(n),d.oxw().resetDB()}),d._uU(1,"X\xf3a to\xe0n b\u1ed9 d\u1eef li\u1ec7u"),d.qZA()}}var pe=function(){return[5,10,25,100]},ge=function(){var e=function(){function e(n,i,a){t(this,e),this.plus=n,this.fb=i,this.rtSv=a,this.title="L\u1ecbch s\u1eed c\u1eadp nh\u1eadt",this.dbName="dien-luc",this.api="dmt-history",this.db=null,this.items=[],this.selectedItem=null,this.filter=[],this.chart=[],this.main=this.fb.group({keyWord:[,[]],_id:[,[]],TaiKhoan:[,[h.kI.required]],NoiDung:[,[h.kI.required]],ThoiGian:[,[h.kI.required]],MaKhachHang:[,[h.kI.required]]})}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.plus.setTiTle(this.title),this.plus.IDB_InitDB(this.dbName).subscribe(function(e){return function(t,e,n,i){return new(n||(n=Promise))(function(e,a){function o(t){try{u(i.next(t))}catch(e){a(e)}}function r(t){try{u(i.throw(t))}catch(e){a(e)}}function u(t){t.done?e(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(o,r)}u((i=i.apply(t,[])).next())})}(t,0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.db=e,this.getIDB(),this.plus.updateGlobalLocal(e,this.api),this.plus.updateAPi.subscribe(function(t){t&&n.getIDB()});case 1:case"end":return t.stop()}},t,this)}))})}},{key:"getIDB",value:function(){var t=this;console.log("getIDB"),this.filter=[],this.plus.IDB_DB_GetAll(this.db,this.api).subscribe(function(e){t.items=e,t.plus.updateAPi.next(!1)})}},{key:"ngOnDestroy",value:function(){console.log("Destroy",this.api),this.plus.subs.unsubscribe(),this.rtSv.leaveRoom(this.api)}},{key:"save",value:function(){var t=this;if(!this.main.invalid){var e=this.main.value,n=this.plus.datetoNumObj(this.main.value,["ThoiGian"]);console.log(n),null==e._id?(delete e._id,this.plus.httpPost(this.api,n).subscribe(function(e){e.status&&t.plus.clickBtn("closeModal")})):this.plus.httpPut(this.api,n).subscribe(function(e){e.status&&t.plus.clickBtn("closeModal")})}}},{key:"onEdit",value:function(t){this.selectedItem=t;var e=this.plus.dateToHtmlObj(t,["ThoiGian"]);this.main.patchValue(e),this.plus.clickBtn("openModal")}},{key:"onDelete",value:function(t){!confirm("B\u1ea1n mu\u1ed1n x\xf3a?")||(this.plus.load(),this.plus.httpDisable(this.api,t).then(function(t){console.log(t)}))}},{key:"chooseOpt",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.main.controls[e].setValue(t[n]),i&&this.main.controls[e+"ID"].setValue(t._id)}},{key:"closeModal",value:function(){this.main.reset()}},{key:"search",value:function(t){this.filter=t}},{key:"find",value:function(t){this.items=t}},{key:"checkPer",value:function(t){return this.plus.checkPer(this.api,t)}},{key:"patchForm",value:function(){this.main.reset({_id:" "})}},{key:"reload",value:function(){return this.plus.reload(this.dbName+"/"+this.api)}},{key:"reset",value:function(){this.plus.loaded(),this.filter=[],this.getIDB(),this.main.reset({})}},{key:"changePage",value:function(t){this.filter=this.items.slice(t.pageIndex*t.pageSize,(t.pageIndex+1)*t.pageSize)}},{key:"trackByFn",value:function(t,e){return e}},{key:"resetDB",value:function(){this.plus.resetDB(this.db,this.api)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(f.T),d.Y36(h.qu),d.Y36(m.i))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-nlmt-history"]],decls:12,vars:11,consts:[[1,"container"],["id","add-btn","color","accent","mat-raised-button","","data-toggle","modal","data-target","#modelId",3,"click"],["id","back-btn","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"api","data",4,"ngIf"],[3,"db","api","filter"],[1,"row"],["class","table table-hover",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],[3,"dataJson",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],["id","back-btn","mat-raised-button","","color","primary",3,"click"],[3,"api","data"],[1,"table","table-hover"],[1,"thead-inverse"],["color","primary",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],["color","warn",3,"click",4,"ngIf"],["color","warn",3,"click"],[3,"dataJson"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"button",1),d.NdJ("click",function(){return e.reset()}),d.TgZ(2,"mat-icon"),d._uU(3,"control_point"),d.qZA(),d.qZA(),d.YNc(4,oe,3,1,"button",2),d.YNc(5,re,1,1,"app-search-api",3),d.TgZ(6,"app-search-table",4),d.NdJ("filter",function(t){return e.search(t)}),d.qZA(),d.TgZ(7,"div",5),d.YNc(8,le,16,3,"table",6),d.TgZ(9,"mat-paginator",7),d.NdJ("page",function(t){return e.changePage(t)}),d.qZA(),d.qZA(),d.YNc(10,se,1,1,"app-export-ecxel",8),d.qZA(),d.YNc(11,he,2,0,"button",9)),2&t&&(d.xp6(4),d.Q6J("ngIf",e.filter.length>0),d.xp6(1),d.Q6J("ngIf",e.checkPer(10)),d.xp6(1),d.Q6J("db",e.db)("api",e.api),d.xp6(2),d.Q6J("ngIf",e.items.length+e.filter.length>0),d.xp6(1),d.Q6J("length",e.items.length)("pageSize",10)("pageSizeOptions",d.DdM(10,pe)),d.xp6(1),d.Q6J("ngIf",e.checkPer(4)),d.xp6(1),d.Q6J("ngIf",e.checkPer(5)))},directives:[x.lW,q.Hw,l.O5,ae.D,et.NW,nt.W,l.sg,at.t],pipes:[l.uU],styles:[""],data:{animation:[s.Ym]}}),e}();function de(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",33),d.NdJ("click",function(){return d.CHM(n),d.oxw().reload()}),d.TgZ(1,"mat-icon"),d._uU(2,"undo"),d.qZA(),d.qZA()}2&t&&d.Q6J("@slideIn",void 0)}function fe(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"app-search-api",34),d.NdJ("data",function(t){return d.CHM(n),d.oxw().find(t)}),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("api",i.api)}}function me(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"\u0110\u1ecba ch\u1ec9"),d.qZA())}function Ze(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"M\xe3 G C S"),d.qZA())}function Te(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"Ch\u1ee7 t\xe0i kho\u1ea3n"),d.qZA())}function ve(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"S\u1ed1 t\xe0i kho\u1ea3n"),d.qZA())}function ke(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"Ng\xe2n h\xe0ng"),d.qZA())}function be(t,e){1&t&&(d.TgZ(0,"th"),d._uU(1,"Email"),d.qZA())}function xe(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"td",40),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(2).onEdit(t)}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw().$implicit;d.xp6(1),d.Oqu(i.DiaChi)}}function qe(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"td",40),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(2).onEdit(t)}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw().$implicit;d.xp6(1),d.Oqu(i.MaGCS)}}function ye(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"td",40),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(2).onEdit(t)}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw().$implicit;d.xp6(1),d.Oqu(i.ChuTaiKhoan)}}function Ae(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"td",40),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(2).onEdit(t)}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw().$implicit;d.xp6(1),d.Oqu(i.SoTaiKhoan)}}function Ie(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"td",40),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(2).onEdit(t)}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw().$implicit;d.xp6(1),d.Oqu(i.NganHang)}}function _e(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"td",40),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(2).onEdit(t)}),d._uU(1),d.qZA()}if(2&t){var i=d.oxw().$implicit;d.xp6(1),d.Oqu(i.Email)}}function Ne(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"mat-icon",43),d.NdJ("click",function(){d.CHM(n);var t=d.oxw().$implicit;return d.oxw(2).onDelete(t)}),d._uU(1,"delete"),d.qZA()}}function De(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td",40),d.NdJ("click",function(){var t=d.CHM(n).$implicit;return d.oxw(2).onEdit(t)}),d._uU(2),d.qZA(),d.TgZ(3,"td",40),d.NdJ("click",function(){var t=d.CHM(n).$implicit;return d.oxw(2).onEdit(t)}),d._uU(4),d.qZA(),d.YNc(5,xe,2,1,"td",41),d.YNc(6,qe,2,1,"td",41),d.YNc(7,ye,2,1,"td",41),d.YNc(8,Ae,2,1,"td",41),d.YNc(9,Ie,2,1,"td",41),d.YNc(10,_e,2,1,"td",41),d.TgZ(11,"td"),d.YNc(12,Ne,2,0,"mat-icon",42),d.qZA(),d.qZA()}if(2&t){var i=e.$implicit,a=d.oxw(2);d.xp6(2),d.Oqu(i.MaKhachHang),d.xp6(2),d.Oqu(i.KhachHang),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",2),d.xp6(2),d.Q6J("ngIf",a.checkPer(4))}}function Ue(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"table",35),d.TgZ(1,"thead",36),d.TgZ(2,"tr"),d.TgZ(3,"th"),d._uU(4,"M\xe3 kh\xe1ch h\xe0ng"),d.qZA(),d.TgZ(5,"th"),d._uU(6,"Kh\xe1ch h\xe0ng"),d.qZA(),d.YNc(7,me,2,0,"th",37),d.YNc(8,Ze,2,0,"th",37),d.YNc(9,Te,2,0,"th",37),d.YNc(10,ve,2,0,"th",37),d.YNc(11,ke,2,0,"th",37),d.YNc(12,be,2,0,"th",37),d.TgZ(13,"th"),d.TgZ(14,"mat-icon",38),d.NdJ("click",function(){return d.CHM(n),d.oxw().reload()}),d._uU(15,"cached"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"tbody"),d.YNc(17,De,13,9,"tr",39),d.qZA(),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("@slideIn",void 0),d.xp6(7),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(1),d.Q6J("Device",3),d.xp6(5),d.Q6J("ngForOf",i.filter.length>0?i.filter:i.items.slice(0,10))("ngForTrackBy",i.trackByFn)}}function Je(t,e){if(1&t&&d._UZ(0,"app-import-database",44),2&t){var n=d.oxw();d.Q6J("api",n.api)("global",n.global)("form",n.main)}}function Me(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",45),d.NdJ("click",function(){return d.CHM(n),d.oxw().resetDB()}),d._uU(1,"X\xf3a to\xe0n b\u1ed9 d\u1eef li\u1ec7u"),d.qZA()}}function He(t,e){if(1&t){var n=d.EpF();d.TgZ(0,"button",46),d.NdJ("click",function(){return d.CHM(n),d.oxw().save()}),d.TgZ(1,"mat-icon"),d._uU(2,"save"),d.qZA(),d.qZA()}2&t&&d.Q6J("@slideIn",void 0)}var we=function(){return[5,10,25,100]},Ce=[{path:"",component:function(){var e=function(){function e(){t(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-dlxl"]],decls:2,vars:0,template:function(t,e){1&t&&(d.TgZ(0,"p"),d._uU(1,"dlxl works!"),d.qZA())},styles:[""]}),e}()},{path:"dmt-khach-hang",component:function(){var e=function(){function e(n,i,a){t(this,e),this.plus=n,this.fb=i,this.rtSv=a,this.main=this.fb.group({_id:[,[]],MaKhachHang:[,[h.kI.required,h.kI.minLength(5)]],KhachHang:[,[h.kI.required,h.kI.minLength(5)]],DiaChi:[,[h.kI.required,h.kI.minLength(5)]],MaGCS:[,],ChuTaiKhoan:[,],SoTaiKhoan:[,],NganHang:[,],Email:[,],CoHoaDon:[,[h.kI.required]],CCCD:[,[]]}),this.title="Kh\xe1ch h\xe0ng",this.dbName="dien-luc",this.global=!0,this.api="dmt-khach-hang",this.db=null,this.userId=this.plus.userId,this.usr=this.plus.usr,this.items=[],this.selectedItem=null,this.filter=[],this.chart=[]}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.plus.setTiTle(this.title),this.plus.IDB_InitDB(this.dbName).subscribe(function(e){return function(t,e,n,i){return new(n||(n=Promise))(function(e,a){function o(t){try{u(i.next(t))}catch(e){a(e)}}function r(t){try{u(i.throw(t))}catch(e){a(e)}}function u(t){t.done?e(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(o,r)}u((i=i.apply(t,[])).next())})}(t,0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.db=e,this.plus.updateRealtime(this.db,this.api,this.global),this.plus.IDB_DB_CleanTrash(e,this.api),this.plus.updateAPi.subscribe(function(t){t&&n.getIDB()});case 1:case"end":return t.stop()}},t,this)}))})}},{key:"getIDB",value:function(){var t=this;this.filter=[],this.plus.IDB_DB_GetAll(this.db,this.api).subscribe(function(e){t.items=e})}},{key:"ngOnDestroy",value:function(){console.log("Destroy",this.api),this.plus.subs.unsubscribe(),this.rtSv.leaveRoom(this.api)}},{key:"save",value:function(){var t=this;if(!this.main.invalid){var e=this.main.value;if(null==e._id)delete e._id,this.plus.httpPost(this.api,e,this.global).subscribe(function(e){e.status&&(t.plus.clickBtn("closeModal"),t.plus.updateAPi.next(!0))});else{var n=this.plus.objVs(this.selectedItem,e);if(0===Object.keys(n).length)return this.plus.alertMatSnackBar("Kh\xf4ng c\xf3 n\u1ed9i dung n\xe0o thay \u0111\u1ed5i");this.plus.httpPut(this.api,e,this.global).subscribe(function(e){e.status&&(t.plus.clickBtn("closeModal"),t.addHistory(n),t.plus.updateAPi.next(!0))})}}}},{key:"addHistory",value:function(t){var e=[];for(var n in t)e.push(this.selectedItem[n]+" => "+t[n]);var i={TaiKhoan:this.plus.user.value.fullName,NoiDung:e.join(", "),ThoiGian:Date.now(),MaKhachHang:this.selectedItem.MaKhachHang};0!=e.length&&this.plus.httpPost("dmt-history",i,!0).subscribe(function(t){})}},{key:"onEdit",value:function(t){this.selectedItem=t,this.main.patchValue(t),this.plus.clickBtn("openModal")}},{key:"onDelete",value:function(t){!confirm("B\u1ea1n mu\u1ed1n x\xf3a?")||(this.plus.load(),this.plus.httpDisable(this.api,t,!0).then(function(t){console.log(t)}))}},{key:"chooseOpt",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.main.controls[e].setValue(t[n]),i&&this.main.controls[e+"ID"].setValue(t._id)}},{key:"closeModal",value:function(){this.main.reset()}},{key:"search",value:function(t){this.filter=t}},{key:"find",value:function(t){this.items=t}},{key:"checkPer",value:function(t){return this.plus.checkPer(this.api,t)}},{key:"reload",value:function(){return this.plus.reload(this.dbName+"/"+this.api)}},{key:"reset",value:function(){this.plus.loaded(),this.filter=[],this.getIDB(),this.main.reset({})}},{key:"changePage",value:function(t){this.filter=this.items.slice(t.pageIndex*t.pageSize,(t.pageIndex+1)*t.pageSize)}},{key:"trackByFn",value:function(t,e){return e}},{key:"resetDB",value:function(){this.plus.resetDB(this.db,this.api)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(f.T),d.Y36(h.qu),d.Y36(m.i))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-nlmt-kh"]],decls:76,vars:15,consts:[[1,"container"],["id","add-btn","color","accent","mat-raised-button","","data-toggle","modal","data-target","#modelId",3,"click"],["id","back-btn","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"api","data",4,"ngIf"],[3,"db","api","filter"],[1,"row"],["class","table table-hover",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],[3,"api","global","form",4,"ngIf"],["mat-button","","color","warn",3,"click",4,"ngIf"],[3,"dataJson"],["id","openModal","type","button","data-toggle","modal","data-target","#modelId",1,"d-none"],["id","modelId","data-backdrop","static","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"container-fluid"],[3,"formGroup"],["hidden","","formControlName","_id"],["required","","type","text","autocomplete","off","matInput","","formControlName","MaKhachHang"],["matSuffix",""],["required","","type","text","autocomplete","off","matInput","","formControlName","KhachHang"],["required","","type","text","autocomplete","off","matInput","","formControlName","DiaChi"],["type","text","autocomplete","off","matInput","","formControlName","MaGCS"],["type","text","autocomplete","off","matInput","","formControlName","ChuTaiKhoan"],["type","text","autocomplete","off","matInput","","formControlName","SoTaiKhoan"],["type","text","autocomplete","off","matInput","","formControlName","NganHang"],["type","text","autocomplete","off","matInput","","formControlName","Email"],["type","text","autocomplete","off","matInput","","formControlName","CoHoaDon"],["type","text","autocomplete","off","matInput","","formControlName","CCCD"],[1,"modal-footer"],["id","closeModal","mat-raised-button","","color","primary","data-dismiss","modal",3,"click"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["id","back-btn","mat-raised-button","","color","primary",3,"click"],[3,"api","data"],[1,"table","table-hover"],[1,"thead-inverse"],[4,"Device"],["color","primary",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],[3,"click",4,"Device"],["color","warn",3,"click",4,"ngIf"],["color","warn",3,"click"],[3,"api","global","form"],["mat-button","","color","warn",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"button",1),d.NdJ("click",function(){return e.reset()}),d.TgZ(2,"mat-icon"),d._uU(3,"control_point"),d.qZA(),d.qZA(),d.YNc(4,de,3,1,"button",2),d.YNc(5,fe,1,1,"app-search-api",3),d.TgZ(6,"app-search-table",4),d.NdJ("filter",function(t){return e.search(t)}),d.qZA(),d.TgZ(7,"div",5),d.YNc(8,Ue,18,9,"table",6),d.TgZ(9,"mat-paginator",7),d.NdJ("page",function(t){return e.changePage(t)}),d.qZA(),d.qZA(),d.YNc(10,Je,1,3,"app-import-database",8),d.qZA(),d.YNc(11,Me,2,0,"button",9),d._UZ(12,"app-export-ecxel",10),d._UZ(13,"button",11),d.TgZ(14,"div",12),d.TgZ(15,"div",13),d.TgZ(16,"div",14),d.TgZ(17,"div",15),d.TgZ(18,"div",16),d.TgZ(19,"form",17),d._UZ(20,"input",18),d.TgZ(21,"mat-form-field"),d.TgZ(22,"mat-label"),d._uU(23,"M\xe3 kh\xe1ch h\xe0ng"),d.qZA(),d._UZ(24,"input",19),d._UZ(25,"span",20),d.qZA(),d.TgZ(26,"mat-form-field"),d.TgZ(27,"mat-label"),d._uU(28,"Kh\xe1ch h\xe0ng"),d.qZA(),d._UZ(29,"input",21),d._UZ(30,"span",20),d.qZA(),d.TgZ(31,"mat-form-field"),d.TgZ(32,"mat-label"),d._uU(33,"\u0110\u1ecba ch\u1ec9"),d.qZA(),d._UZ(34,"input",22),d._UZ(35,"span",20),d.qZA(),d.TgZ(36,"mat-form-field"),d.TgZ(37,"mat-label"),d._uU(38,"M\xe3 Ghi ch\u1ec9 s\u1ed1"),d.qZA(),d._UZ(39,"input",23),d._UZ(40,"span",20),d.qZA(),d.TgZ(41,"mat-form-field"),d.TgZ(42,"mat-label"),d._uU(43,"Ch\u1ee7 t\xe0i kho\u1ea3n"),d.qZA(),d._UZ(44,"input",24),d._UZ(45,"span",20),d.qZA(),d.TgZ(46,"mat-form-field"),d.TgZ(47,"mat-label"),d._uU(48,"S\u1ed1 t\xe0i kho\u1ea3n"),d.qZA(),d._UZ(49,"input",25),d._UZ(50,"span",20),d.qZA(),d.TgZ(51,"mat-form-field"),d.TgZ(52,"mat-label"),d._uU(53,"Ng\xe2n h\xe0ng"),d.qZA(),d._UZ(54,"input",26),d._UZ(55,"span",20),d.qZA(),d.TgZ(56,"mat-form-field"),d.TgZ(57,"mat-label"),d._uU(58,"Email"),d.qZA(),d._UZ(59,"input",27),d._UZ(60,"span",20),d.qZA(),d.TgZ(61,"mat-form-field"),d.TgZ(62,"mat-label"),d._uU(63,"C\xf3 h\xf3a \u0111\u01a1n"),d.qZA(),d._UZ(64,"input",28),d._UZ(65,"span",20),d.qZA(),d.TgZ(66,"mat-form-field"),d.TgZ(67,"mat-label"),d._uU(68,"C C C D"),d.qZA(),d._UZ(69,"input",29),d._UZ(70,"span",20),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(71,"div",30),d.TgZ(72,"button",31),d.NdJ("click",function(){return e.closeModal()}),d.TgZ(73,"mat-icon"),d._uU(74,"close"),d.qZA(),d.qZA(),d.YNc(75,He,3,1,"button",32),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(4),d.Q6J("ngIf",e.filter.length>0),d.xp6(1),d.Q6J("ngIf",e.checkPer(10)),d.xp6(1),d.Q6J("db",e.db)("api",e.api),d.xp6(2),d.Q6J("ngIf",e.items.length+e.filter.length>0),d.xp6(1),d.Q6J("length",e.items.length)("pageSize",10)("pageSizeOptions",d.DdM(14,we)),d.xp6(1),d.Q6J("ngIf",e.checkPer(4)),d.xp6(1),d.Q6J("ngIf",e.checkPer(5)),d.xp6(1),d.Q6J("dataJson",e.items),d.xp6(7),d.Q6J("formGroup",e.main),d.xp6(53),d.Q6J("@slideIn",void 0),d.xp6(3),d.Q6J("ngIf",e.checkPer(2)&&e.main.valid))},directives:[x.lW,q.Hw,l.O5,ae.D,et.NW,at.t,h._Y,h.JL,h.sg,h.Fj,h.JJ,h.u,T.KE,T.hX,v.Nt,h.Q7,T.R9,nt.W,H.HP,l.sg,it.y],styles:[""],data:{animation:[s.Ym]}}),e}()},{path:"dmt-history",component:ge},{path:"dmt-input",component:ie},{path:"dmt-input/:id",component:D},{path:"dmt-pay",component:vt},{path:"dmt-pay/:id",component:j}],Se=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[Z.Bz.forChild(Ce)],Z.Bz]}),e}(),Be=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[l.ez,Se,c.ShareModule,u.m,r.D,o.X]]}),e}()}}])}();