"use strict";(self.webpackChunkdlxl=self.webpackChunkdlxl||[]).push([[715],{10715:(k,v,s)=>{s.r(v),s.d(v,{SctxModule:()=>St});var u=s(48387),A=s(24809),h=s(36895),f=s(15861),_=s(15228),c=s(24006),D=s(78372),E=s(49808),t=s(94650),b=s(10875),y=s(94559),M=s(11147),T=s(25555),p=s(54654),r=s(70511),m=s(4859),x=s(97392),C=s(284),Z=s(59549),q=s(31361),S=s(80574),H=s(15439),G=s.n(H),K=s(5383),L=s(55321),Y=s(9116),w=s(51511);function Q(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.reload())}),t._uU(1,"L\xe0m l\u1ea1i"),t.qZA()}}function R(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",9)(1,"app-drop-files",10),t.NdJ("files",function(a){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onDrop(a))}),t.qZA()()}}function W(i,d){if(1&i&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.err||"","")}}function $(i,d){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,W,2,1,"td",14),t.qZA()),2&i){const e=d.$implicit;t.Q6J("@slideIn",void 0),t.xp6(1),t.Q6J("ngIf",e.err)}}function j(i,d){if(1&i&&(t.TgZ(0,"table",11)(1,"h4",12),t._uU(2,"D\u1eee LI\u1ec6U L\u1ed6I"),t.qZA(),t.TgZ(3,"tbody"),t.YNc(4,$,2,2,"tr",13),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.errorData.length>0?e.errorData:e.dataJson)}}function z(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.reload())}),t._uU(1,"L\xe0m l\u1ea1i"),t.qZA()}}function X(i,d){if(1&i&&(t.TgZ(0,"div")(1,"h4",3),t._uU(2,"Import t\u1eeb file excel"),t.qZA(),t.TgZ(3,"a",4)(4,"mat-icon"),t._uU(5,"cloud_download"),t.qZA(),t._uU(6,"M\u1eabu import "),t.qZA(),t._UZ(7,"hr"),t.YNc(8,Q,2,0,"button",5),t.YNc(9,R,2,0,"div",6),t.YNc(10,j,5,1,"table",7),t.YNc(11,z,2,0,"button",5),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.MGl("href","https://github.com/thuctd/FileStore/raw/master/templates/",e.api,".xlsx",t.LSH),t.xp6(5),t.Q6J("ngIf",e.errorData.length>0||e.dataJson.length>0||e.backup.length>0),t.xp6(1),t.Q6J("ngIf",0===e.dataJson.length),t.xp6(1),t.Q6J("ngIf",e.errorData.length>0),t.xp6(1),t.Q6J("ngIf",e.errorData.length>0||e.dataJson.length>0||e.backup.length>0)}}function tt(i,d){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const e=d.$implicit;t.xp6(2),t.Oqu(e.index),t.xp6(2),t.Oqu(e._ThongBaoLoi)}}function et(i,d){if(1&i&&(t.TgZ(0,"table",16)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"D\xf2ng"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"L\u1ed7i"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,tt,5,2,"tr",13),t.qZA()()),2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.errServer)}}let nt=(()=>{class i{constructor(e,n,a,o,l,g){this.plus=e,this.excelSV=n,this.authSV=a,this.router=o,this.loadSV=l,this.httpSV=g,this.jsonArr=new t.vpe,this.dataImport=[],this.dataJson=[],this.errorData=[],this.errServer=[],this.show=!1,this.header=[],this.backup=[]}ngOnInit(){this.dataJson=[],this.dataImport=[]}onDrop(e){const n=e[0];if(console.log(n),this.loadSV.load("onDrop"),"text/plain"!=n.type)if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==n.type||"application/vnd.ms-excel"==n.type)this.excelSV.fileToJsonArray(n).then(a=>{this.validateItems(a)});else{alert("L\u01b0u \xfd:\nB\u1ea1n s\u1ebd m\u1ea5t to\xe0n b\u1ed9 d\u1eef li\u1ec7u c\u0169 tr\u01b0\u1edbc khi import nh\xe9!");const a=new FileReader;a.readAsText(n,"UTF-8"),a.onload=o=>{const l=JSON.parse(o.target.result);this.backup=this.cleanData(l),this.loadSV.loaded("onDrop")},a.onerror=o=>{this.plus.alertError("L\u1ed7i file import"),this.loadSV.loaded("onDrop")}}else this.readFileText(n)}validateItems(e){Date.now();for(let a=1;a<e.length;a++){let o=e[a];this.form.patchValue(o),this.form.valid?(o.keyWord=this.plus.generateKeyWord(o),o.dateModify=Date.now()+a,this.dataJson.push(o)):(o.err=`T\u1ea1i h\xe0ng ${a+2}: ${this.plus.getErrValidateForm(this.form)}`,this.errorData.push(o),this.show=!this.show)}0==this.errorData.length&&this.jsonArr.emit(this.dataJson),console.log(this.checkPer(2),this.errorData.length,this.dataJson)}import(){this.plus.subs.unsubscribe(),this.httpSV.post(this.api+"/import",this.dataJson,this.fileName).subscribe(e=>{e.status?this.plus.goBack():console.log(e)})}importDBFile(){var e=this;return(0,f.Z)(function*(){e.plus.subs.unsubscribe(),e.httpSV.post(e.api+"/import",e.backup,e.fileName).subscribe(n=>{n.status?e.plus.goBack():console.log(n)})})()}checkPer(e){return this.authSV.checkPer(this.api,e)}reload(){var e=this;return(0,f.Z)(function*(){let n=e.router.url;return yield e.router.navigate(["/"]),e.router.navigate([`${n}`])})()}export(e){e.unshift(this.header);const n=S.P6.json_to_sheet(e,{skipHeader:!0}),a=S.P6.book_new();S.P6.book_append_sheet(a,n,"ChuaImport"),S.NC(a,"4la-"+this.api+"-ChuaImport.xlsx")}exportExcel(e){const n=S.P6.json_to_sheet(e),a=S.P6.book_new();S.P6.book_append_sheet(a,n,this.api),S.NC(a,G()(Date.now()).format("YYYYMMDDHHMM")+"-4la-"+this.api+".xlsx")}exportTar(e){let n=JSON.stringify(e),a="data:application/json;charset=utf-8,"+encodeURIComponent(n);console.log(a);let o=`4la-${this.api?this.api:""}`+Date.now()+".tar",l=document.createElement("a");l.setAttribute("href",a),l.setAttribute("download",o),l.click()}cleanData(e){const n=[];for(let a=0;a<e.length;a++){const o=e[a];o.keyWord=this.plus.generateKeyWord(o),o.dateModify=Date.now()+a,delete o._id,delete o.__v,this.form.patchValue(o),console.log(o,this.form.valid),this.form.valid?(o.keyWord=this.plus.generateKeyWord(o),o.dateModify=Date.now()+a,this.dataJson.push(o)):(o.err=`T\u1ea1i h\xe0ng ${a}: ${this.plus.getErrValidateForm(this.form)}`,this.errorData.push(o)),n.push(o)}return n}readFileText(e){const n=e.target,a=new FileReader;a.readAsText(n.files[0]),a.onload=()=>{}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T.T),t.Y36(K.x),t.Y36(L.e),t.Y36(Y.F0),t.Y36(y.b),t.Y36(r.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-import-database"]],inputs:{form:"form",api:"api",fileName:"fileName"},outputs:{jsonArr:"jsonArr"},decls:6,vars:2,consts:[["mat-raised-button","","color","accent",3,"click"],[4,"ngIf"],["class","table",4,"ngIf"],[1,"text-center","text-white","py-2","my-3","bg-primary","rounded-pill","justify-content-center"],["mat-button","","target","_blank",3,"href"],["class","text-center mx-3","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","ix",4,"ngIf"],["class","table table-inverse table-responsive",4,"ngIf"],["mat-raised-button","","color","primary",1,"text-center","mx-3",3,"click"],[1,"ix"],[3,"files"],[1,"table","table-inverse","table-responsive"],[1,"text-center","text-danger","py-3"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"table"]],template:function(e,n){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return n.show=!n.show}),t._uU(1,"Import "),t.TgZ(2,"mat-icon"),t._uU(3,"cloud_upload"),t.qZA()(),t.YNc(4,X,12,5,"div",1),t.YNc(5,et,9,1,"table",2)),2&e&&(t.xp6(4),t.Q6J("ngIf",n.show),t.xp6(1),t.Q6J("ngIf",(null==n.errServer?null:n.errServer.length)>0))},dependencies:[h.sg,h.O5,m.zs,m.lW,x.Hw,w.k],data:{animation:[_.Ym]}}),i})();var F=s(92340),B=s(50727),ot=s(95698),at=s(47977),it=s(20948),rt=s(52075);let st=(()=>{class i{constructor(e,n,a,o,l,g){this.afs=e,this.auth=n,this.fileSV=a,this.idbSV=o,this.loadSV=l,this.plus=g,this.subs=new B.w0}getBackupFile(e,n,a){var o=this;this.fileSV.getFileBackup(e).then(function(){var l=(0,f.Z)(function*(g){o.loadSV.loaded("getBackupFile() loaded"),yield o.idbSV.IDB_DB_ClearCollection(n,a),yield o.idbSV.IDB_DB_Add(n,a,g)});return function(g){return l.apply(this,arguments)}}()).catch(l=>{this.loadSV.loaded("getBackupFile() err loaded")})}setLastModify(e,n,a){var o=this;return(0,f.Z)(function*(){let l=e.replace(/\//g,"-"),g={_id:l,path:e,time:Date.now()+864e5,user:(yield(0,E.n)(o.auth.user)).uid,count:n,lastModify:a};yield o.afs.collection("backup-file").doc(l).set(g)})()}getLastModify(e){return new Promise((n,a)=>{let o=e.replace(/\//g,"-");this.afs.collection("backup-file").doc(o).get().pipe((0,ot.q)(1)).subscribe(l=>{let g=l.data();n(g)})})}backupFileDB(e,n,a){var o=this;this.idbSV.IDB_DB_GetAll(n,a).subscribe(function(){var l=(0,f.Z)(function*(g){let I=g.length,V=yield o.idbSV.IDB_GetMax(n,a);o.getLastModify(e).then(It=>{let U=It;if(!U)return o.fileSV.uploadBackupDB(g,e).then(kt=>{o.setLastModify(e,I,V)});(Date.now()>U?.time&&V>U.time+18e5&&I>U.count||null==U)&&o.fileSV.uploadBackupDB(g,e).then(kt=>{o.setLastModify(e,I,V)})})});return function(g){return l.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(at.ST),t.LFG(it.zQ),t.LFG(rt.O),t.LFG(p.Y),t.LFG(y.b),t.LFG(T.T))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),J=(()=>{class i{constructor(e,n,a,o){this.idbSV=e,this.authSV=n,this.bkSV=a,this.httpSV=o,this.idb=new t.vpe,this.user=new t.vpe,this.congTrinhs=new t.vpe,this.duToans=new t.vpe,this.subs=new B.w0,this.userDir={},this.prod=F.N.production,this.path=`sctx/${this.userDir.unit}/`,this.dbName="sctx"}ngOnDestroy(){this.subs.unsubscribe(),this.subs=new B.w0}ngOnInit(){this.authSV.user.subscribe(e=>{1==e.status&&(this.userDir=e,this.path=`sctx/${e.unit}/`,this.user.emit(e),this.idbSV.IDB_InitDB("sctx").subscribe(n=>{this.idb.emit(n),this.getDuToans(n),this.getCongTrinhs(n)}))})}getCongTrinhs(e){let n="sctx-cong-trinh";this.subs.add(this.httpSV.updateLocalDB(e,n,this.userDir.unit+"-"+n).subscribe(o=>{this.idbSV.IDB_DB_GetAll(e,n).subscribe(l=>{this.congTrinhs.emit(l)})}))}getDuToans(e){let n="sctx-du-toan";this.subs.add(this.httpSV.updateLocalDB(e,n,n).subscribe(a=>{this.idbSV.IDB_DB_GetAll(e,n).subscribe(o=>{this.duToans.emit(o)})}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.Y),t.Y36(b.c1),t.Y36(st),t.Y36(r.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sctx-share"]],inputs:{logs:"logs"},outputs:{idb:"idb",user:"user",congTrinhs:"congTrinhs",duToans:"duToans"},decls:0,vars:0,template:function(e,n){}}),i})();var ut=s(30627);function lt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",33),t._uU(2),t.qZA(),t.TgZ(3,"td",36),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onEdit(o))}),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",37),t._uU(8),t.ALo(9,"numberPipe"),t.qZA(),t.TgZ(10,"td",37),t._uU(11),t.ALo(12,"numberPipe"),t.qZA(),t.TgZ(13,"td",33),t._uU(14),t.qZA()()}if(2&i){const e=d.$implicit;t.xp6(2),t.Oqu(e.MaVatTu),t.xp6(2),t.Oqu(e.TenVatTu),t.xp6(2),t.Oqu(e.DonViTinh),t.xp6(2),t.Oqu(t.lcZ(9,6,e.DonGia)),t.xp6(3),t.Oqu(t.lcZ(12,8,e.TiTrong)),t.xp6(3),t.Oqu(e.DonViQuyDoi)}}function ct(i,d){if(1&i&&(t.TgZ(0,"table",31)(1,"thead",32)(2,"tr",33)(3,"th"),t._uU(4,"M\xe3 v\u1eadt t\u01b0"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"T\xean v\u1eadt t\u01b0"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"\u0110\u01a1n v\u1ecb t\xednh"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"\u0110\u01a1n gi\xe1"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"T\u1ec9 tr\u1ecdng"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"\u0110\u01a1n v\u1ecb quy \u0111\u1ed5i"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,lt,15,10,"tr",34),t.TgZ(17,"tr"),t._UZ(18,"td",35)(19,"td")(20,"td"),t.qZA()()()),2&i){const e=t.oxw();t.Q6J("@slideIn",void 0),t.xp6(16),t.Q6J("ngForOf",e.items)}}let mt=(()=>{class i{constructor(e,n,a,o,l,g){this.authSV=e,this.loadSV=n,this.formSV=a,this.plus=o,this.idbSV=l,this.httpSV=g,this.searchForm=this.formSV.fb.group({input:["",[c.kI.required,c.kI.minLength(4)]]}),this.main=this.formSV.fb.group({_id:[],MaVatTu:["",[c.kI.required]],TenVatTu:["",[c.kI.required,c.kI.minLength(3),c.kI.maxLength(255)]],DonViTinh:["",[c.kI.minLength(1),c.kI.maxLength(255)]],DonViQuyDoi:["",[]],DonGia:[0,[c.kI.required]],TiTrong:[0,[]],MaERP:["",[]],status:1}),this.api="sctx-du-toan",this.user={},this.items=[],this.allItems=[],this.db=null,this.perPageItems=100,this.allowLoadmore=!0}ngOnInit(){this.plus.setTiTle("Qu\u1ea3n l\xfd v\u1eadt t\u01b0"),this.search()}getDuToans(e){this.allItems=e,this.items=e.slice(0,100)}getUser(e){this.user=e,this.path=`sctx/${e.unit}/du-toan`}save(){if(this.main.invalid)return this.authSV._toastWarn("Vui l\xf2ng nh\u1eadp bi\u1ec3u m\u1eabu");let e=this.main.value;e.keyWord=this.httpSV.geneKeyWord(e.TenVatTu,e.MaVatTu),e._id?this.update(e):(e._id=e.MaVatTu,this.add(e))}add(e){this.httpSV.post(this.api,e,this.api).subscribe(n=>{console.log(n),this.reset()})}update(e){this.httpSV.put(this.api,e,this.api).subscribe(n=>{console.log(n),this.reset()})}onEdit(e){console.log(e),this.main.patchValue(e),this.plus.clickBtn("modalsctxdt")}checkPer(e,n){return this.authSV.checkPer(e,n)}pushData(e){if(e&&this.allowLoadmore){let n=this.items.length,a=this.allItems.slice(n,n+this.perPageItems);this.items=this.items.concat(a)}}search(){this.searchForm.valueChanges.pipe((0,D.b)(1e3)).subscribe(e=>{if(this.searchForm.valid){this.loadSV.load("search",e.input),console.log(e);const n=[];this.allowLoadmore=!1;const a=this.plus.removeAccents(e.input);for(let o=0;o<this.allItems.length;o++){const l=this.allItems[o];this.plus.removeAccents(JSON.stringify(l)).includes(a)&&n.push(l)}this.items=n,0==n.length&&this.plus.alertMatSnackBar("Kh\xf4ng c\xf2n k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p"),this.loadSV.loaded("search",e.input)}})}reset(){this.plus.clickBtn("closeModal"),this.main.reset()}reload(){return this.plus.reload()}import(e){var n=this;return(0,f.Z)(function*(){let a=e.length;if(a>2e5)return alert("Vui l\xf2ng th\u1ef1c hi\u1ec7n kh\xf4ng qu\xe1 2000 d\xf2ng!");if(confirm(`B\u1ea1n c\xf3 mu\u1ed1n l\u01b0u ${a} d\xf2ng d\u1eef li\u1ec7u?`))for(let l=0;l<a;l+=5){let g=e.slice(l,l+5),I=yield(0,E.n)(n.httpSV.post(n.api+"/import",g,n.api));console.log(I)}})()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.c1),t.Y36(y.b),t.Y36(M.o),t.Y36(T.T),t.Y36(p.Y),t.Y36(r.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sctx-du-toan"]],decls:65,vars:10,consts:[[1,"container"],[3,"api","fileName","form","jsonArr"],["id","back-btn","mat-raised-button","","color","primary",3,"click"],["id","add-btn","color","accent","mat-raised-button","","data-bs-toggle","modal","data-bs-target","#sctxdt"],["color","warn","id","save-btn","mat-raised-button","",3,"hidden","click"],[1,"row"],[1,"col-12"],[3,"formGroup"],["matInput","","id","search-api","formControlName","input","placeholder","T\xecm ki\u1ebfm (F2)"],["class","table table-hover table-bordered table-responsive",4,"ngIf"],[3,"user","idb","duToans"],[3,"percentLoad","emit"],["hidden","","id","modalsctxdt","type","button","data-bs-toggle","modal","data-bs-target","#sctxdt",1,"btn","btn-primary"],["id","sctxdt","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"formGroup"],["appearance","outline"],["required","","type","text","placeholder","Ch\u1ec9 08 k\xfd t\u1ef1 \u0111\u1ea7u. VD: 38088376","autocomplete","off","matInput","","formControlName","MaVatTu"],["matSuffix",""],["required","","type","text","autocomplete","off","matInput","","formControlName","TenVatTu"],["required","","type","text","autocomplete","off","matInput","","formControlName","DonViTinh"],["required","","type","number","autocomplete","off","matInput","","formControlName","DonGia"],["type","text","placeholder","VD: kg/m, m/kg, km/kg ...","autocomplete","off","matInput","","formControlName","DonViQuyDoi"],["type","number","autocomplete","off","matInput","","formControlName","TiTrong"],[1,"modal-footer"],["id","closeModal","color","primary","mat-raised-button","","data-bs-dismiss","modal","aria-label","Close"],["color","warn","mat-raised-button","",3,"disabled","click"],[1,"table","table-hover","table-bordered","table-responsive"],[1,"thead-inverse"],[1,"text-center"],[4,"ngFor","ngForOf"],["scope","row"],[3,"click"],[1,"text-end"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"app-import-database",1),t.NdJ("jsonArr",function(o){return n.import(o)}),t.qZA(),t.TgZ(2,"button",2),t.NdJ("click",function(){return n.reload()}),t.TgZ(3,"mat-icon"),t._uU(4,"undo"),t.qZA()(),t.TgZ(5,"button",3)(6,"mat-icon"),t._uU(7,"control_point"),t.qZA()(),t.TgZ(8,"button",4),t.NdJ("click",function(){return n.save()}),t.TgZ(9,"mat-icon"),t._uU(10,"save"),t.qZA()(),t.TgZ(11,"div",5)(12,"div",6)(13,"mat-form-field",7),t._UZ(14,"input",8),t.qZA(),t.YNc(15,ct,21,2,"table",9),t.qZA()()(),t.TgZ(16,"app-sctx-share",10),t.NdJ("user",function(o){return n.getUser(o)})("idb",function(o){return n.db=o})("duToans",function(o){return n.getDuToans(o)}),t.qZA(),t.TgZ(17,"app-loadmore",11),t.NdJ("emit",function(o){return n.pushData(o)}),t.qZA(),t.TgZ(18,"button",12),t._uU(19," Launch static backdrop modal "),t.qZA(),t.TgZ(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"h5",17),t._uU(25,"V\u1eadt t\u01b0"),t.qZA(),t._UZ(26,"button",18),t.qZA(),t.TgZ(27,"div",19)(28,"mat-form-field",20)(29,"mat-label"),t._uU(30,"M\xe3 v\u1eadt t\u01b0"),t.qZA(),t._UZ(31,"input",21)(32,"span",22),t.qZA(),t.TgZ(33,"mat-form-field",20)(34,"mat-label"),t._uU(35,"T\xean v\u1eadt t\u01b0"),t.qZA(),t._UZ(36,"input",23)(37,"span",22),t.qZA(),t.TgZ(38,"mat-form-field",20)(39,"mat-label"),t._uU(40,"\u0110\u01a1n v\u1ecb t\xednh"),t.qZA(),t._UZ(41,"input",24)(42,"span",22),t.qZA(),t.TgZ(43,"mat-form-field",20)(44,"mat-label"),t._uU(45,"\u0110\u01a1n gi\xe1"),t.qZA(),t._UZ(46,"input",25)(47,"span",22),t.qZA(),t.TgZ(48,"mat-form-field",20)(49,"mat-label"),t._uU(50,"\u0110\u01a1n v\u1ecb quy \u0111\u1ed5i"),t.qZA(),t._UZ(51,"input",26)(52,"span",22),t.qZA(),t.TgZ(53,"mat-form-field",20)(54,"mat-label"),t._uU(55,"T\u1ec9 tr\u1ecdng"),t.qZA(),t._UZ(56,"input",27)(57,"span",22),t.qZA()(),t.TgZ(58,"div",28)(59,"button",29)(60,"mat-icon"),t._uU(61,"close"),t.qZA()(),t.TgZ(62,"button",30),t.NdJ("click",function(){return n.save()}),t.TgZ(63,"mat-icon"),t._uU(64,"save"),t.qZA()()()()()()),2&e&&(t.xp6(1),t.Q6J("api",n.api)("fileName",n.api)("form",n.main),t.xp6(1),t.Q6J("@slideIn",void 0),t.xp6(6),t.Q6J("hidden",n.main.invalid),t.xp6(5),t.Q6J("formGroup",n.searchForm),t.xp6(2),t.Q6J("ngIf",n.items.length>0),t.xp6(2),t.Q6J("percentLoad",70),t.xp6(10),t.Q6J("formGroup",n.main),t.xp6(35),t.Q6J("disabled",n.main.invalid))},dependencies:[h.sg,h.O5,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.sg,c.u,m.lW,x.Hw,C.Nt,Z.KE,Z.hX,Z.R9,q.w,nt,J,ut._2],data:{animation:[_.Ym]}}),i})();var dt=s(28986),N=s(41206);let pt=(()=>{class i{constructor(e){this.authSV=e,this.tdhs=[{Nhom:"TienDoHoSo",NoiDung:"\u0110ang l\u1eadp d\u1ef1 to\xe1n",GiaTri:0},{Nhom:"TienDoHoSo",NoiDung:"\u0110\xe3 duy\u1ec7t d\u1ef1 to\xe1n",GiaTri:1},{Nhom:"TienDoHoSo",NoiDung:"Ch\u01b0a kh\u1edfi c\xf4ng",GiaTri:2},{Nhom:"TienDoHoSo",NoiDung:"\u0110\xe3 kh\u1edfi c\xf4ng",GiaTri:3},{Nhom:"TienDoHoSo",NoiDung:"\u0110\xe3 xu\u1ea5t v\u1eadt t\u01b0 \u0111ang thi c\xf4ng",GiaTri:4},{Nhom:"TienDoHoSo",NoiDung:"\u0110\xe3 thi c\xf4ng xong ch\u1edd nghi\u1ec7m thu,",GiaTri:5},{Nhom:"TienDoHoSo",NoiDung:"\u0110\xe3 nghi\u1ec7m thu \u0111ang l\u1eadp HS ho\xe0n c\xf4ng",GiaTri:6},{Nhom:"TienDoHoSo",NoiDung:"\u0110\xe3 chuy\u1ec3n HS ph\xf2ng KHKT",GiaTri:7},{Nhom:"TienDoHoSo",NoiDung:"Ph\xf2ng KH-KT \u0111\xe3 chuy\u1ec3n \u0110VTC",GiaTri:8},{Nhom:"TienDoHoSo",NoiDung:"HS ho\xe0n c\xf4ng \u0111\xe3 chuy\u1ec3n ph\xf2ng TCKT",GiaTri:9},{Nhom:"TienDoHoSo",NoiDung:"\u0110\xe3 quy\u1ebft to\xe1n",GiaTri:10}]}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(L.e))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ht=s(39349),P=s(47957),_t=s(3238),Tt=s(84385),O=s(49652),gt=s(1208),ft=s(99433);function Dt(i,d){if(1&i&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header"),t._uU(2," Logs "),t.qZA(),t.TgZ(3,"div",1)(4,"pre"),t._uU(5),t.ALo(6,"json"),t._UZ(7,"hr"),t._uU(8),t.ALo(9,"json"),t._UZ(10,"hr"),t._uU(11),t.ALo(12,"json"),t._UZ(13,"hr"),t._uU(14,"\n  "),t.qZA()()()),2&i){const e=t.oxw();t.xp6(5),t.hij("    ",t.lcZ(6,3,e.logs)," "),t.xp6(3),t.hij("\n    ",t.lcZ(9,5,e.logs3),""),t.xp6(3),t.hij("\n    ",t.lcZ(12,7,e.logs2),"")}}let Ct=(()=>{class i{constructor(){this.prod=F.N.production}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-share"]],inputs:{logs:"logs",logs2:"logs2",logs3:"logs3"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"]],template:function(e,n){1&e&&t.YNc(0,Dt,15,9,"mat-expansion-panel",0),2&e&&t.Q6J("ngIf",!n.prod)},dependencies:[h.O5,O.ib,O.yz,h.Ts]}),i})();function xt(i,d){if(1&i&&(t.TgZ(0,"mat-option",47),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.Q6J("value",e.GiaTri),t.xp6(1),t.hij("",e.NoiDung," ")}}function Mt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"tr",48)(1,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEditBangDuToan(o))}),t._uU(2),t.qZA(),t.TgZ(3,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEditBangDuToan(o))}),t._uU(4),t.qZA(),t.TgZ(5,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEditBangDuToan(o))}),t._uU(6),t.qZA(),t.TgZ(7,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEditBangDuToan(o))}),t._uU(8),t.qZA()()}if(2&i){const e=d.$implicit;t.xp6(2),t.Oqu(null==e?null:e.MaVatTu),t.xp6(2),t.Oqu(null==e?null:e.TenVatTu),t.xp6(2),t.Oqu(null==e?null:e.DonViTinh),t.xp6(2),t.Oqu(null==e?null:e.SoLuongDuToan)}}function At(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",50),t.NdJ("onSelectionChange",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selectSearchDuToan(o))})("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selectSearchDuToan(o))}),t._uU(1),t.qZA()}if(2&i){const e=d.$implicit;t.Q6J("value",e.TenVatTu),t.xp6(1),t.hij(" ",e.TenVatTu," ")}}function Zt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"tr",48)(1,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEditBangThuHoi(o))}),t._uU(2),t.qZA(),t.TgZ(3,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEditBangThuHoi(o))}),t._uU(4),t.qZA(),t.TgZ(5,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEditBangThuHoi(o))}),t._uU(6),t.qZA(),t.TgZ(7,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEditBangThuHoi(o))}),t._uU(8),t.qZA()()}if(2&i){const e=d.$implicit;t.xp6(2),t.Oqu(null==e?null:e.MaVatTu),t.xp6(2),t.Oqu(null==e?null:e.TenVatTu),t.xp6(2),t.Oqu(null==e?null:e.DonViTinh),t.xp6(2),t.Oqu(null==e?null:e.SoLuongDuToan)}}function vt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",50),t.NdJ("onSelectionChange",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selectSearchDuToan(o))})("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selectSearchDuToan(o))}),t._uU(1),t.qZA()}if(2&i){const e=d.$implicit;t.Q6J("value",e.TenVatTu),t.xp6(1),t.hij(" ",e.TenVatTu," ")}}function Et(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEdit(o))}),t._uU(2),t.qZA(),t.TgZ(3,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEdit(o))}),t._uU(4),t.qZA(),t.TgZ(5,"td",49),t.NdJ("click",function(){const o=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onEdit(o))}),t._uU(6),t.qZA()()}if(2&i){const e=d.$implicit;t.xp6(2),t.Oqu(e.MSCT),t.xp6(2),t.Oqu(e.TenCongTrinh),t.xp6(2),t.Oqu(e.DiaDiem)}}const yt=[{path:"",component:(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sctx"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"sctx works!"),t.qZA())}}),i})()},{path:"cong-trinh",component:(()=>{class i{constructor(e,n,a,o,l,g,I){this.plus=e,this.loadSV=n,this.formSV=a,this.idbSV=o,this.sctxSV=l,this.authSV=g,this.httpSV=I,this.title="Qu\u1ea3n l\xfd c\xf4ng tr\xecnh SCTX",this.dbName="sctx",this.api="sctx-cong-trinh",this.db=null,this.user={},this.filter=[],this.items=[],this.allItems=[],this.itemsDuToans=[],this.itemsDuToan=[],this.readOnly=!1,this.year=(new Date).getFullYear(),this.tdhs=this.sctxSV.tdhs,this.path=`sctx/${this.user.unit}/sctx-cong-trinh`,this.showExpanel=!1,this.allowLoadmore=!0,this.BangDuToan=[],this.BangThuHoi=[],this.BangQuyetToan=[],this.main=this.formSV.fb.group({userId:[this.user._id,[c.kI.required]],Nam:[(new Date).getFullYear(),[c.kI.min(2e3),c.kI.max(2030),c.kI.required]],_id:["",[]],MSCT:["",[c.kI.required]],TenCongTrinh:["",[c.kI.required]],DiaDiem:["\u0110\u1ed3ng Nai",[c.kI.required]],NgayKSHT:["",[c.kI.required]],HienTrang:["",[]],KhiemKhuyet:["",[]],SuCanThiet:["",[]],QuyMo:["",[]],GiaiPhapDuongDay:["",[]],GiaiPhapThietBi:["",[]],ThoiGianThiCong:["",[c.kI.required]],ThoiGianQuyetToan:["",[c.kI.required]],DonViThiCong:["",[c.kI.required]],TienDoHoSo:[0,[]],NgayKhoiCong:["",[]],NguoiLap:[this.user.fullName,[c.kI.required]],TrangThaiHoSo:[0,[]],GiaTriDuToan:[0],GiaTriQuyetToan:[0]}),this.formDuToan=this.formSV.fb.group({MaVatTu:["",[c.kI.required]],TenVatTu:["",[c.kI.required,c.kI.minLength(3),c.kI.maxLength(255)]],DonViTinh:["",[c.kI.required,c.kI.minLength(1),c.kI.maxLength(255)]],SoLuongDuToan:[0,[]]})}ngOnInit(){this.plus.setTiTle(this.title),this.logErr(),this.searchDuToan()}save(){if(this.main.invalid)return this.authSV._toastWarn("Vui l\xf2ng nh\u1eadp bi\u1ec3u m\u1eabu");let e=this.main.value;e.keyWord=this.httpSV.geneKeyWord(e.TenCongTrinh,e.DiaDiem,e.MSCT),e.BangDuToan=this.BangDuToan,e.BangThuHoi=this.BangThuHoi,e.BangQuyetToan=this.BangQuyetToan,e._id?this.update(e):(e._id=(0,dt.h)(25),this.add(e))}add(e){this.httpSV.post(this.api,e,this.fileName).subscribe(n=>{console.log(n),this.reset()})}onEdit(e){this.main.patchValue(e),this.BangDuToan=e.BangDuToan,this.BangQuyetToan=e.BangQuyetToan,this.BangThuHoi=e.BangThuHoi,this.showExpanel=!0}openPanel(){}update(e){this.httpSV.put(this.api,e,this.fileName).subscribe(n=>{console.log(n),this.reset()})}onEditBangDuToan(e){}onEditBangThuHoi(e){}addXinMoi(){this.formDuToan.invalid||(this.BangDuToan.push(this.formDuToan.value),this.formDuToan.reset(),document.getElementById("TenVatTuMoi").focus())}addThuHoi(){this.formDuToan.invalid||(this.BangThuHoi.push(this.formDuToan.value),this.formDuToan.reset(),document.getElementById("TenVatTuThuHoi").focus())}dropXinMoi(e){(0,N.bA)(this.BangDuToan,e.previousIndex,e.currentIndex)}dropThuHoi(e){(0,N.bA)(this.BangDuToan,e.previousIndex,e.currentIndex)}xoaXinMoi(e,n){}searchDuToan(){this.formDuToan.get("TenVatTu").valueChanges.pipe((0,D.b)(1e3)).subscribe(e=>{e&&(console.log(e),this.idbSV.IDB_DB_Search(this.db,"sctx-du-toan",e,30).subscribe(a=>{console.log(a),this.itemsDuToan=a}))})}selectSearchDuToan(e){this.formDuToan.patchValue(e)}patch(){this.main.patchValue({userId:"oBsZRFWM8HhAmXUhFC0PBiUlhK42",Nam:2023,MSCT:"11111111111111111",TenCongTrinh:"TenCongTrinh 00000000000001",DiaDiem:"DiaDiem",NgayKSHT:"25/01/2023",HienTrang:"HienTrang1\nHienTrang2\nHienTrang3\nHienTrang4",KhiemKhuyet:"KhiemKhuyet1\nKhiemKhuyet2\nKhiemKhuyet3",SuCanThiet:"SuCanThiet1\nSuCanThiet2\nSuCanThiet3",QuyMo:"QuyMo",GiaiPhapDuongDay:"GiaiPhapDuongDay 1.\nGiaiPhapDuongDay 2.\nGiaiPhapDuongDay 3.",GiaiPhapThietBi:"GiaiPhapThietBi1\nGiaiPhapThietBi2\nGiaiPhapThietBi3\nGiaiPhapThietBi4",ThoiGianThiCong:"03/2023",ThoiGianQuyetToan:"12/2023",DonViThiCong:"DonViThiCong",TienDoHoSo:0,NguoiLap:"Th\u1ee9c dev",NgayKhoiCong:"28/01/2023"})}getUser(e){this.user=e,this.sctxSV.path=`sctx/${e.unit}`,this.path=`sctx/${e.unit}/${this.year}`,this.sctxSV.user=e,this.fileName=`${e.unit}-${this.api}`,this.main.controls.NguoiLap.setValue(e.fullName),this.main.controls.userId.setValue(e._id)}getMonth(e,n){this.main.controls[n].setValue(e)}pushData(e){if(console.log(e),e&&this.allowLoadmore){let n=this.filter.length,a=this.items.slice(n,n+30);this.filter=this.filter.concat(a)}}reset(){}reload(){this.authSV.reload()}logErr(){this.main.valueChanges.subscribe(e=>{this.logsForm=this.formSV.getErrValidateForm(this.main)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T.T),t.Y36(y.b),t.Y36(M.o),t.Y36(p.Y),t.Y36(pt),t.Y36(b.c1),t.Y36(r.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-sctx-cong-trinh"]],decls:192,vars:34,consts:[[1,"container-fluid"],["mat-raised-button","",3,"click"],["color","warn","id","save-btn","mat-raised-button","",3,"hidden","click"],[1,"row",3,"formGroup"],[1,"col-12"],[3,"expanded"],[1,"tit"],[1,"row",2,"margin","3px"],["appearance","outline"],["matInput","","formControlName","TenCongTrinh","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","50"],["autosize","cdkTextareaAutosize"],[1,"row"],[1,"col-md-3"],["required","","type","text","autocomplete","off","matInput","","formControlName","MSCT"],["required","","type","text","autocomplete","off","matInput","","formControlName","DiaDiem"],["formControlName","TienDoHoSo"],[3,"value",4,"ngFor","ngForOf"],["readonly","","required","","type","text","autocomplete","off","matInput","","formControlName","NguoiLap"],[3,"readOnly","startDay","label","format","month"],["matInput","","formControlName","QuyMo","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","10"],["matInput","","formControlName","HienTrang","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","50"],["matInput","","formControlName","KhiemKhuyet","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","50"],["matInput","","formControlName","SuCanThiet","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","50"],["matInput","","formControlName","GiaiPhapDuongDay","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","50"],["matInput","","formControlName","GiaiPhapThietBi","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","50"],[1,"table","table-hover","table-responsive"],[1,"thead-inverse"],["cdkDropList","",3,"cdkDropListDropped"],["class","text-primary","cdkDrag","",4,"ngFor","ngForOf"],[3,"formGroup"],["readonly","true","required","","type","text","autocomplete","off","matInput","","formControlName","MaVatTu"],["matSuffix",""],["matInput","","id","TenVatTuMoi","formControlName","TenVatTu",3,"matAutocomplete"],["autoActiveFirstOption",""],["autoTenVatTu","matAutocomplete"],[3,"value","onSelectionChange","click",4,"ngFor","ngForOf"],["required","","readonly","true","type","text","autocomplete","off","matInput","","formControlName","DonViTinh"],["type","number","autocomplete","off","matInput","","formControlName","SoLuongDuToan",3,"keydown.enter"],["color","accent","mat-raised-button","",3,"click"],["cdkDrag","","class","text-primary",4,"ngFor","ngForOf"],["matInput","","id","TenVatTuThuHoi","formControlName","TenVatTu",3,"matAutocomplete"],[1,"col-12","text-center"],[1,"table","table-hover","table-inverse","table-responsive"],[4,"ngFor","ngForOf"],[3,"percentLoad","emit"],[3,"user","idb","duToans","congTrinhs"],[3,"logs"],[3,"value"],["cdkDrag","",1,"text-primary"],[3,"click"],[3,"value","onSelectionChange","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.patch()}),t._uU(2,"patch"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.save()}),t.TgZ(4,"mat-icon"),t._uU(5,"save"),t.qZA()(),t.TgZ(6,"div",3)(7,"div",4)(8,"mat-expansion-panel",5)(9,"mat-expansion-panel-header")(10,"b",6),t._uU(11,"Th\xeam m\u1edbi c\xf4ng tr\xecnh"),t.qZA()(),t.TgZ(12,"div",7)(13,"mat-form-field",8)(14,"mat-label"),t._uU(15,"T\xean c\xf4ng tr\xecnh"),t.qZA(),t._UZ(16,"textarea",9,10),t.qZA()(),t._UZ(18,"div",11),t.TgZ(19,"div",11)(20,"div",12)(21,"mat-form-field",8)(22,"mat-label"),t._uU(23,"MSCT"),t.qZA(),t._UZ(24,"input",13),t.qZA()(),t.TgZ(25,"div",12)(26,"mat-form-field",8)(27,"mat-label"),t._uU(28,"\u0110\u1ecba \u0111i\u1ec3m"),t.qZA(),t._UZ(29,"input",14),t.qZA()(),t.TgZ(30,"div",12)(31,"mat-form-field",8)(32,"mat-label"),t._uU(33,"Ti\u1ebfn \u0111\u1ed9 h\u1ed3 s\u01a1"),t.qZA(),t.TgZ(34,"mat-select",15),t.YNc(35,xt,2,2,"mat-option",16),t.qZA()()(),t.TgZ(36,"div",12)(37,"mat-form-field",8)(38,"mat-label"),t._uU(39,"Ng\u01b0\u1eddi l\u1eadp"),t.qZA(),t._UZ(40,"input",17),t.qZA()()(),t.TgZ(41,"div",11)(42,"div",12)(43,"app-date-picker",18),t.NdJ("month",function(o){return n.getMonth(o,"NgayKSHT")}),t.qZA()(),t.TgZ(44,"div",12)(45,"app-month-year",18),t.NdJ("month",function(o){return n.getMonth(o,"ThoiGianThiCong")}),t.qZA()(),t.TgZ(46,"div",12)(47,"app-date-picker",18),t.NdJ("month",function(o){return n.getMonth(o,"NgayKhoiCong")}),t.qZA()(),t.TgZ(48,"div",12)(49,"app-month-year",18),t.NdJ("month",function(o){return n.getMonth(o,"ThoiGianQuyetToan")}),t.qZA()()(),t.TgZ(50,"div",11)(51,"mat-form-field",8)(52,"mat-label"),t._uU(53,"Quy m\xf4"),t.qZA(),t._UZ(54,"textarea",19,10),t.qZA(),t.TgZ(56,"mat-form-field",8)(57,"mat-label"),t._uU(58,"Hi\u1ec7n tr\u1ea1ng"),t.qZA(),t._UZ(59,"textarea",20,10),t.qZA(),t.TgZ(61,"mat-form-field",8)(62,"mat-label"),t._uU(63,"Khi\u1ebfm khuy\u1ebft"),t.qZA(),t._UZ(64,"textarea",21,10),t.qZA(),t.TgZ(66,"mat-form-field",8)(67,"mat-label"),t._uU(68,"S\u1ef1 c\u1ea7n thi\u1ebft"),t.qZA(),t._UZ(69,"textarea",22,10),t.qZA(),t.TgZ(71,"mat-form-field",8)(72,"mat-label"),t._uU(73,"Gi\u1ea3i ph\xe1p \u0111\u01b0\u1eddng d\xe2y"),t.qZA(),t._UZ(74,"textarea",23,10),t.qZA(),t.TgZ(76,"mat-form-field",8)(77,"mat-label"),t._uU(78,"Gi\u1ea3i ph\xe1p thi\u1ebft b\u1ecb"),t.qZA(),t._UZ(79,"textarea",24,10),t.qZA()(),t.TgZ(81,"div",11)(82,"h6",6),t._uU(83,"B\u1ea2NG V\u1eacT T\u01af XIN M\u1edaI"),t.qZA(),t.TgZ(84,"table",25)(85,"thead",26)(86,"tr")(87,"th"),t._uU(88,"M\xe3 v\u1eadt t\u01b0"),t.qZA(),t.TgZ(89,"th"),t._uU(90,"T\xean v\u1eadt t\u01b0"),t.qZA(),t.TgZ(91,"th"),t._uU(92,"\u0110\u01a1n v\u1ecb t\xednh"),t.qZA(),t.TgZ(93,"th"),t._uU(94,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA()()(),t.TgZ(95,"tbody",27),t.NdJ("cdkDropListDropped",function(o){return n.dropXinMoi(o)}),t.YNc(96,Mt,9,4,"tr",28),t.qZA(),t.TgZ(97,"tr",29)(98,"td")(99,"mat-form-field",8)(100,"mat-label"),t._uU(101,"M\xe3 v\u1eadt t\u01b0"),t.qZA(),t._UZ(102,"input",30)(103,"span",31),t.qZA()(),t.TgZ(104,"td")(105,"mat-form-field",8)(106,"mat-label"),t._uU(107,"T\xean v\u1eadt t\u01b0"),t.qZA(),t._UZ(108,"input",32),t.TgZ(109,"mat-autocomplete",33,34),t.YNc(111,At,2,2,"mat-option",35),t.qZA()()(),t.TgZ(112,"td")(113,"mat-form-field",8)(114,"mat-label"),t._uU(115,"\u0110\u01a1n v\u1ecb t\xednh"),t.qZA(),t._UZ(116,"input",36),t.qZA()(),t.TgZ(117,"td")(118,"mat-form-field",8)(119,"mat-label"),t._uU(120,"S\u1ed1 l\u01b0\u1ee3ng d\u1ef1 to\xe1n"),t.qZA(),t.TgZ(121,"input",37),t.NdJ("keydown.enter",function(){return n.addXinMoi()}),t.qZA()()(),t.TgZ(122,"td")(123,"button",38),t.NdJ("click",function(){return n.addXinMoi()}),t.TgZ(124,"mat-icon"),t._uU(125,"add"),t.qZA()()()()()(),t.TgZ(126,"div",11)(127,"h6",6),t._uU(128,"B\u1ea2NG V\u1eacT T\u01af THU H\u1ed2I"),t.qZA(),t.TgZ(129,"table",25)(130,"thead",26)(131,"tr")(132,"th"),t._uU(133,"M\xe3 v\u1eadt t\u01b0"),t.qZA(),t.TgZ(134,"th"),t._uU(135,"T\xean v\u1eadt t\u01b0"),t.qZA(),t.TgZ(136,"th"),t._uU(137,"\u0110\u01a1n v\u1ecb t\xednh"),t.qZA(),t.TgZ(138,"th"),t._uU(139,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA()()(),t.TgZ(140,"tbody",27),t.NdJ("cdkDropListDropped",function(o){return n.dropThuHoi(o)}),t.YNc(141,Zt,9,4,"tr",39),t.qZA(),t.TgZ(142,"tr",29)(143,"td")(144,"mat-form-field",8)(145,"mat-label"),t._uU(146,"M\xe3 v\u1eadt t\u01b0"),t.qZA(),t._UZ(147,"input",30)(148,"span",31),t.qZA()(),t.TgZ(149,"td")(150,"mat-form-field",8)(151,"mat-label"),t._uU(152,"T\xean v\u1eadt t\u01b0"),t.qZA(),t._UZ(153,"input",40),t.TgZ(154,"mat-autocomplete",33,34),t.YNc(156,vt,2,2,"mat-option",35),t.qZA()()(),t.TgZ(157,"td")(158,"mat-form-field",8)(159,"mat-label"),t._uU(160,"\u0110\u01a1n v\u1ecb t\xednh"),t.qZA(),t._UZ(161,"input",36),t.qZA()(),t.TgZ(162,"td")(163,"mat-form-field",8)(164,"mat-label"),t._uU(165,"S\u1ed1 l\u01b0\u1ee3ng d\u1ef1 to\xe1n"),t.qZA(),t.TgZ(166,"input",37),t.NdJ("keydown.enter",function(){return n.addThuHoi()}),t.qZA()()(),t.TgZ(167,"td")(168,"button",38),t.NdJ("click",function(){return n.addThuHoi()}),t.TgZ(169,"mat-icon"),t._uU(170,"add"),t.qZA()()()()()(),t.TgZ(171,"div",11),t._UZ(172,"div",41),t.qZA()()()(),t.TgZ(173,"div",11),t._UZ(174,"div",4),t.qZA(),t.TgZ(175,"div",11)(176,"div",4)(177,"table",42)(178,"thead",26)(179,"tr")(180,"th"),t._uU(181,"MSCT"),t.qZA(),t.TgZ(182,"th"),t._uU(183,"T\xean c\xf4ng tr\xecnh"),t.qZA(),t.TgZ(184,"th"),t._uU(185,"\u0110\u1ecba \u0111i\u1ec3m"),t.qZA()()(),t.TgZ(186,"tbody"),t.YNc(187,Et,7,3,"tr",43),t.qZA()()()()(),t.TgZ(188,"app-loadmore",44),t.NdJ("emit",function(o){return n.pushData(o)}),t.qZA(),t.TgZ(189,"app-sctx-share",45),t.NdJ("user",function(o){return n.getUser(o)})("idb",function(o){return n.db=o})("duToans",function(o){return n.itemsDuToans=o})("congTrinhs",function(o){return n.items=o}),t.qZA(),t._UZ(190,"app-share",46)(191,"app-share",46)),2&e){const a=t.MAs(110);t.xp6(3),t.Q6J("hidden",n.main.invalid),t.xp6(3),t.Q6J("formGroup",n.main),t.xp6(2),t.Q6J("expanded",n.showExpanel),t.xp6(4),t.ekj("readOnlyDiv",n.readOnly),t.xp6(23),t.Q6J("ngForOf",n.tdhs),t.xp6(8),t.Q6J("readOnly",!0)("startDay",n.main.controls.NgayKSHT.value)("label","Ng\xe0y KSHT")("format","DD/MM/YYYY"),t.xp6(2),t.Q6J("readOnly",!0)("startDay",n.main.controls.ThoiGianThiCong.value)("label","Th\u1eddi gian thi c\xf4ng")("format","MM/YYYY"),t.xp6(2),t.Q6J("readOnly",!0)("startDay",n.main.controls.NgayKhoiCong.value)("label","Ng\xe0y kh\u1edfi c\xf4ng")("format","DD/MM/YYYY"),t.xp6(2),t.Q6J("readOnly",!0)("startDay",n.main.controls.ThoiGianQuyetToan.value)("label","Th\u1eddi gian quy\u1ebft to\xe1n")("format","MM/YYYY"),t.xp6(47),t.Q6J("ngForOf",n.BangDuToan),t.xp6(1),t.Q6J("formGroup",n.formDuToan),t.xp6(11),t.Q6J("matAutocomplete",a),t.xp6(3),t.Q6J("ngForOf",n.itemsDuToan),t.xp6(30),t.Q6J("ngForOf",n.BangThuHoi),t.xp6(1),t.Q6J("formGroup",n.formDuToan),t.xp6(11),t.Q6J("matAutocomplete",a),t.xp6(3),t.Q6J("ngForOf",n.itemsDuToan),t.xp6(31),t.Q6J("ngForOf",n.items),t.xp6(1),t.Q6J("percentLoad",90),t.xp6(2),t.Q6J("logs",n.BangDuToan),t.xp6(1),t.Q6J("logs",n.logsForm)}},dependencies:[h.sg,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.sg,c.u,m.lW,x.Hw,C.Nt,Z.KE,Z.hX,Z.R9,ht.IC,P.XC,_t.ey,P.ZL,Tt.gD,O.ib,O.yz,gt.k,ft.L,N.Wj,N.Zt,q.w,Ct,J],data:{animation:[_.Ym,_.Mq]}}),i})()},{path:"du-toan",component:mt}];let bt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[Y.Bz.forChild(yt),Y.Bz]}),i})(),St=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,A.ShareModule,bt,u.D]}),i})()},48387:(k,v,s)=>{s.d(v,{D:()=>c});var u=s(17721),A=s(36895),h=s(24006),f=s(5923),_=s(94650);let c=(()=>{class D{}return D.\u0275fac=function(t){return new(t||D)},D.\u0275mod=_.oAB({type:D}),D.\u0275inj=_.cJS({imports:[A.ez,h.u5,u.q,f.X]}),D})()},31361:(k,v,s)=>{s.d(v,{w:()=>A});var u=s(94650);let A=(()=>{class h{constructor(){this.emit=new u.vpe(!1),this.percentLoad=80,this.emitted=!1}onScrollEvent(){Math.round((window.scrollY+window.innerHeight)/document.body.offsetHeight*100)>this.percentLoad&&0==this.emitted?(this.emit.next(!0),this.emitted=!0):this.emitted=!1}ngOnInit(){}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275cmp=u.Xpm({type:h,selectors:[["app-loadmore"]],hostBindings:function(_,c){1&_&&u.NdJ("scroll",function(E){return c.onScrollEvent(E)},!1,u.Jf7)},inputs:{percentLoad:"percentLoad"},outputs:{emit:"emit"},decls:0,vars:0,template:function(_,c){}}),h})()},99433:(k,v,s)=>{s.d(v,{L:()=>y});var u=s(94650),A=s(15439),h=s.n(A),f=s(8277),_=s(3238),c=s(24006),D=s(99602),E=s(284),t=s(59549);const b={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"YYYY",dateA11yLabel:"DD/MM/YYYY",monthYearA11yLabel:"YYYY"}};let y=(()=>{class M{constructor(p){this.fb=p,this.month=new u.vpe,this.label="",this.format="DD/MM/YYYY",this.type="outline",this.readOnly=!1,this.openOnFocus=!0,this.main=this.fb.group({inputDate:[new Date,[]]})}ngOnInit(){this.main.controls.inputDate.setValue(h()(this.startDay,this.format).toDate())}ngOnChanges(){this.main.controls.inputDate.setValue(h()(this.startDay,this.format).toDate())}chosenMonthHandler(){this.month.emit(h()(this.main.value.inputDate).format(this.format))}}return M.\u0275fac=function(p){return new(p||M)(u.Y36(c.qu))},M.\u0275cmp=u.Xpm({type:M,selectors:[["app-date-picker"]],inputs:{startDay:"startDay",label:"label",format:"format",type:"type",readOnly:"readOnly",openOnFocus:"openOnFocus"},outputs:{month:"month"},features:[u._Bn([{provide:_._A,useClass:f.t7,deps:[_.Ad]},{provide:_.sG,useValue:b}]),u.TTD],decls:8,vars:7,consts:[[3,"formGroup"],[3,"appearance"],["matInput","","formControlName","inputDate",3,"matDatepicker","readonly","placeholder","focus","dateChange"],["matIconSuffix","",3,"for"],["dp3",""]],template:function(p,r){if(1&p){const m=u.EpF();u.TgZ(0,"span",0)(1,"mat-form-field",1)(2,"mat-label"),u._uU(3),u.qZA(),u.TgZ(4,"input",2),u.NdJ("focus",function(){u.CHM(m);const C=u.MAs(7);return u.KtG(r.openOnFocus?C.open():null)})("dateChange",function(){return r.chosenMonthHandler()}),u.qZA(),u._UZ(5,"mat-datepicker-toggle",3)(6,"mat-datepicker",null,4),u.qZA()()}if(2&p){const m=u.MAs(7);u.Q6J("formGroup",r.main),u.xp6(1),u.Q6J("appearance",r.type),u.xp6(2),u.Oqu(r.label),u.xp6(1),u.Q6J("matDatepicker",m)("readonly",r.readOnly)("placeholder",r.format),u.xp6(1),u.Q6J("for",m)}},dependencies:[D.Mq,D.hl,D.nW,E.Nt,t.KE,t.hX,t.R9,c.Fj,c.JJ,c.JL,c.sg,c.u],changeDetection:0}),M})()},1208:(k,v,s)=>{s.d(v,{k:()=>y});var u=s(94650),A=s(15439),h=s.n(A),f=s(3238),_=s(8277),c=s(24006),D=s(99602),E=s(284),t=s(59549);const b={parse:{dateInput:"MM/YYYY"},display:{dateInput:"MM/YYYY",monthYearLabel:"MM/YYYY",dateA11yLabel:"MM/YYYY",monthYearA11yLabel:"MM/YYYY"}};let y=(()=>{class M{constructor(p){this.fb=p,this.month=new u.vpe,this.startDay="",this.label="Th\xe1ng & N\u0103m",this.format="MM/YYYY",this.type="outline",this.readOnly=!1,this.main=this.fb.group({inputDate:[h()(this.startDay,this.format).toDate(),[]]})}ngOnInit(){this.main.controls.inputDate.setValue(h()(this.startDay,"MM/YYYY").toDate()),this.month.emit(h()(this.startDay).format(this.format))}ngOnChanges(p){this.main.controls.inputDate.setValue(h()(this.startDay,"MM/YYYY").toDate())}chosenMonthHandler(p,r){this.startDay=p,console.log(h()(p).format(this.format)),this.month.emit(h()(p).format(this.format)),this.main.controls.inputDate.setValue(h()(p,"MM/YYYY").toDate()),r.close()}}return M.\u0275fac=function(p){return new(p||M)(u.Y36(c.qu))},M.\u0275cmp=u.Xpm({type:M,selectors:[["app-month-year"]],inputs:{startDay:"startDay",label:"label",format:"format",type:"type",readOnly:"readOnly"},outputs:{month:"month"},features:[u._Bn([{provide:f._A,useClass:_.t7,deps:[f.Ad,_.o8]},{provide:f.sG,useValue:b}]),u.TTD],decls:8,vars:6,consts:[[3,"formGroup"],[3,"appearance"],["formControlName","inputDate","matInput","",3,"matDatepicker","readonly","focus","dateChange"],["matSuffix","",3,"for"],["startView","multi-year","panelClass","example-month-picker",3,"monthSelected","dateChange"],["dp",""]],template:function(p,r){if(1&p){const m=u.EpF();u.TgZ(0,"span",0)(1,"mat-form-field",1)(2,"mat-label"),u._uU(3),u.qZA(),u.TgZ(4,"input",2),u.NdJ("focus",function(){u.CHM(m);const C=u.MAs(7);return u.KtG(C.open())})("dateChange",function(C){u.CHM(m);const Z=u.MAs(7);return u.KtG(r.chosenMonthHandler(C,Z))}),u.qZA(),u._UZ(5,"mat-datepicker-toggle",3),u.TgZ(6,"mat-datepicker",4,5),u.NdJ("monthSelected",function(C){u.CHM(m);const Z=u.MAs(7);return u.KtG(r.chosenMonthHandler(C,Z))})("dateChange",function(C){u.CHM(m);const Z=u.MAs(7);return u.KtG(r.chosenMonthHandler(C,Z))}),u.qZA()()()}if(2&p){const m=u.MAs(7);u.Q6J("formGroup",r.main),u.xp6(1),u.Q6J("appearance",r.type),u.xp6(2),u.Oqu(r.label),u.xp6(1),u.Q6J("matDatepicker",m)("readonly",r.readOnly),u.xp6(1),u.Q6J("for",m)}},dependencies:[D.Mq,D.hl,D.nW,E.Nt,t.KE,t.hX,t.R9,c.Fj,c.JJ,c.JL,c.sg,c.u]}),M})()},8277:(k,v,s)=>{var u;s.d(v,{o8:()=>c,t7:()=>t});var A=s(94650),h=s(3238),f=s(15439);const _=f||u||(u=s.t(f,2)),c=new A.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function D(){return{useUtc:!1}}});function E(T,p){const r=Array(T);for(let m=0;m<T;m++)r[m]=p(m);return r}let t=(()=>{class T extends h._A{constructor(r,m){super(),this._options=m,this.setLocale(r||_.locale())}setLocale(r){super.setLocale(r);let m=_.localeData(r);this._localeData={firstDayOfWeek:m.firstDayOfWeek(),longMonths:m.months(),shortMonths:m.monthsShort(),dates:E(31,x=>this.createDate(2017,0,x+1).format("D")),longDaysOfWeek:m.weekdays(),shortDaysOfWeek:m.weekdaysShort(),narrowDaysOfWeek:m.weekdaysMin()}}getYear(r){return this.clone(r).year()}getMonth(r){return this.clone(r).month()}getDate(r){return this.clone(r).date()}getDayOfWeek(r){return this.clone(r).day()}getMonthNames(r){return"long"==r?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(r){return"long"==r?this._localeData.longDaysOfWeek:"short"==r?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(r){return this.clone(r).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(r){return this.clone(r).daysInMonth()}clone(r){return r.clone().locale(this.locale)}createDate(r,m,x){const C=this._createMoment({year:r,month:m,date:x}).locale(this.locale);return C.isValid(),C}today(){return this._createMoment().locale(this.locale)}parse(r,m){return r&&"string"==typeof r?this._createMoment(r,m,this.locale):r?this._createMoment(r).locale(this.locale):null}format(r,m){return r=this.clone(r),this.isValid(r),r.format(m)}addCalendarYears(r,m){return this.clone(r).add({years:m})}addCalendarMonths(r,m){return this.clone(r).add({months:m})}addCalendarDays(r,m){return this.clone(r).add({days:m})}toIso8601(r){return this.clone(r).format()}deserialize(r){let m;if(r instanceof Date)m=this._createMoment(r).locale(this.locale);else if(this.isDateInstance(r))return this.clone(r);if("string"==typeof r){if(!r)return null;m=this._createMoment(r,_.ISO_8601).locale(this.locale)}return m&&this.isValid(m)?this._createMoment(m).locale(this.locale):super.deserialize(r)}isDateInstance(r){return _.isMoment(r)}isValid(r){return this.clone(r).isValid()}invalid(){return _.invalid()}_createMoment(r,m,x){const{strict:C,useUtc:Z}=this._options||{};return Z?_.utc(r,m,x,C):_(r,m,x,C)}}return T.\u0275fac=function(r){return new(r||T)(A.LFG(h.Ad,8),A.LFG(c,8))},T.\u0275prov=A.Yz7({token:T,factory:T.\u0275fac}),T})()}}]);