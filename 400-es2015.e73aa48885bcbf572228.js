"use strict";(self.webpackChunk_4la=self.webpackChunk_4la||[]).push([[400],{48284:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var o=n(93576);e.EMPTY=new o.Observable(function(t){return t.complete()}),e.empty=function(t){return t?function(t){return new o.Observable(function(e){return t.schedule(function(){return e.complete()})})}(t):e.EMPTY}},71056:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(67241),a=n(72974),s=n(48284);e.take=function(t){return function(e){return 0===t?s.empty():e.lift(new c(t))}};var c=function(){function t(t){if(this.total=t,this.total<0)throw new a.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.total))},t}(),l=function(t){function e(e,n){var o=t.call(this,e)||this;return o.total=n,o.count=0,o}return i(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(r.Subscriber)},72974:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();e.ArgumentOutOfRangeError=n},2400:function(t,e,n){n.r(e),n.d(e,{LoginModule:function(){return K}});var o=n(88817),i=n(13397),r=n(92340),a=n(12057),s=n(58497),c=n(74788),l=n(33982),u=n(57922);let g=(()=>{class t{constructor(t,e){this.plus=t,this.router=e,this.api="user"}login(t){if(localStorage.setItem("avatar",t.photoUrl),t.provider)switch(t.provider){case"FACEBOOK":this.plus.httpPost(this.api+"/loginFacebook",t,!0).subscribe(t=>{this.setToken(t)});break;case"GOOGLE":this.plus.httpPost(this.api+"/loginGoogle",t,!0).subscribe(t=>{this.setToken(t)})}}setToken(t){this.plus.loaded(),console.log(t);const e=this.plus.Crypt_DecryptRest(t,t._id);this.plus.alertToasrt(t),(0==e.status||1==e.lock)&&this.plus.alertError("T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n \u0111\xe3 h\u1ebft h\u1ea1n!"),localStorage.clear(),sessionStorage.clear(),this.plus.user.next(e);const n=this.plus.Crypt_Encrypt(e);this.plus.FBS_SetData("login",e._id,{dateModify:e.dateModify}),sessionStorage.setItem(e._id,n),localStorage.setItem("refeshToken",t.refeshToken),localStorage.setItem("user",n),localStorage.setItem("userId",e._id),this.router.navigate(["/taikhoan"]).then(t=>{window.location.reload()}),this.plus.reload("/taikhoan")}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(u.T),c.LFG(l.F0))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t{constructor(t,e,n,o){this.route=t,this.plus=e,this.loginSV=n,this.http=o}ngOnInit(){this.getParams()}getParams(){this.route.queryParams.subscribe(t=>{console.log(t),void 0!==t.code?this.plus.httpPost("user/loginZalo",{code:t.code}).subscribe(t=>{this.loginSV.setToken(t)}):this.plus.reload("/taikhoan")})}getToken(){this.route.queryParams.subscribe(t=>{if(console.log(t),void 0!==t.code){const e={headers:new s.WM({"Content-Type":"application/x-www-form-urlencoded",secret_key:"XIJqtH2H13WD3B67FwaN"})};this.http.post("https://oauth.zaloapp.com/v4/access_token",{code:t.code,app_id:"2779128174828680737",grant_type:"authorization_code"},e).subscribe(t=>{console.log(t)})}else this.plus.reload("/taikhoan")})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.gz),c.Y36(u.T),c.Y36(g),c.Y36(s.eN))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-zalo"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})();var p=n(15228),d=n(24751),m=n(46833),f=n(46113),Z=n(12895),_=n(25862),b=n(2895),T=n(49356);function v(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",18),c.NdJ("click",function(){return c.CHM(t),c.oxw().save()}),c.TgZ(1,"mat-icon"),c._uU(2,"save"),c.qZA(),c.qZA()}}function O(t,e){1&t&&(c.TgZ(0,"button",19),c._uU(1," Kh\u1edfi t\u1ea1o d\u1eef li\u1ec7u m\u1eabu"),c.qZA())}function y(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"mat-icon",30),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).addNhomBan()}),c._uU(1,"save"),c.qZA()}}function A(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td",31),c.NdJ("click",function(){const e=c.CHM(t),n=e.$implicit,o=e.index;return c.oxw(2).editNhomBan(n,o)}),c._uU(2),c.qZA(),c.TgZ(3,"td",31),c.NdJ("click",function(){const e=c.CHM(t),n=e.$implicit,o=e.index;return c.oxw(2).editNhomBan(n,o)}),c._uU(4),c.qZA(),c.TgZ(5,"td",31),c.NdJ("click",function(){const e=c.CHM(t),n=e.$implicit,o=e.index;return c.oxw(2).editNhomBan(n,o)}),c._uU(6),c.qZA(),c.TgZ(7,"td"),c.TgZ(8,"i",32),c.NdJ("click",function(){const e=c.CHM(t).index;return c.oxw(2).delNhomBan(e)}),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=e.$implicit;c.xp6(2),c.Oqu(t.NoiDung),c.xp6(2),c.Oqu(t.SoLuong),c.xp6(2),c.Oqu(t.ThuTu)}}function N(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"mat-icon",30),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).addNhomHang()}),c._uU(1,"save"),c.qZA()}}function x(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td",31),c.NdJ("click",function(){const e=c.CHM(t),n=e.$implicit,o=e.index;return c.oxw(2).editNhomHang(n,o)}),c._uU(2),c.qZA(),c.TgZ(3,"td",31),c.NdJ("click",function(){const e=c.CHM(t),n=e.$implicit,o=e.index;return c.oxw(2).editNhomHang(n,o)}),c._uU(4),c.qZA(),c.TgZ(5,"td"),c.TgZ(6,"i",32),c.NdJ("click",function(){const e=c.CHM(t).index;return c.oxw(2).delNhomHang(e)}),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=e.$implicit;c.xp6(2),c.Oqu(t.NoiDung),c.xp6(2),c.Oqu(t.ThuTu)}}function q(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",3),c.TgZ(1,"div",20),c.TgZ(2,"h5",21),c._uU(3,"Nh\xf3m b\xe0n"),c.qZA(),c.TgZ(4,"table",22),c.TgZ(5,"thead",23),c.TgZ(6,"tr"),c.TgZ(7,"th"),c._uU(8,"T\xean nh\xf3m b\xe0n"),c.qZA(),c.TgZ(9,"th"),c._uU(10,"S\u1ed1 l\u01b0\u1ee3ng b\xe0n"),c.qZA(),c.TgZ(11,"th"),c._uU(12,"Th\u1ee9 t\u1ef1 hi\u1ec3n th\u1ecb"),c.qZA(),c._UZ(13,"th"),c.qZA(),c.qZA(),c.TgZ(14,"tbody"),c.TgZ(15,"tr",5),c.TgZ(16,"td"),c._UZ(17,"input",24),c.qZA(),c.TgZ(18,"td"),c._UZ(19,"input",25),c.qZA(),c.TgZ(20,"td"),c.TgZ(21,"input",26),c.NdJ("keyup.enter",function(){return c.CHM(t),c.oxw().addNhomBan()}),c.qZA(),c.qZA(),c.TgZ(22,"td",1),c.YNc(23,y,2,0,"mat-icon",27),c.qZA(),c.qZA(),c.YNc(24,A,9,3,"tr",28),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"div",20),c.TgZ(26,"h5",29),c._uU(27,"Nh\xf3m h\xe0ng h\xf3a "),c.qZA(),c.TgZ(28,"table",22),c.TgZ(29,"thead",23),c.TgZ(30,"tr"),c.TgZ(31,"th"),c._uU(32,"T\xean nh\xf3m h\xe0ng"),c.qZA(),c.TgZ(33,"th"),c._uU(34,"Th\u1ee9 t\u1ef1 hi\u1ec3n th\u1ecb"),c.qZA(),c._UZ(35,"th"),c.qZA(),c.qZA(),c.TgZ(36,"tbody"),c.TgZ(37,"tr",5),c.TgZ(38,"td"),c._UZ(39,"input",24),c.qZA(),c.TgZ(40,"td"),c.TgZ(41,"input",26),c.NdJ("keyup.enter",function(){return c.CHM(t),c.oxw().addNhomHang()}),c.qZA(),c.qZA(),c.TgZ(42,"td",1),c.YNc(43,N,2,0,"mat-icon",27),c.qZA(),c.qZA(),c.YNc(44,x,7,2,"tr",28),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(15),c.Q6J("formGroup",t.nhomban),c.xp6(8),c.Q6J("ngIf",t.nhomban.valid),c.xp6(1),c.Q6J("ngForOf",t.NhomBan),c.xp6(13),c.Q6J("formGroup",t.nhomhang),c.xp6(6),c.Q6J("ngIf",t.nhomhang.valid),c.xp6(1),c.Q6J("ngForOf",t.NhomHang)}}let w=(()=>{class t{constructor(t,e){this.plus=t,this.fb=e,this.title="C\xe0i \u0111\u1eb7t",this.api="user/update",this.show=!1,this.user=this.plus.user.getValue(),this.readonly=!1,this.NhomBan=[],this.NhomHang=[],this.main=this.fb.group({_id:[,[]],email:[,[d.kI.required,d.kI.email]],phoneNumber:[,[]],title:[,[]],unit:[,[]],fullName:[,[d.kI.min(3),d.kI.max(100)]],birthday:[,[]]}),this.nhomban=this.fb.group({NoiDung:[,[d.kI.required]],SoLuong:[,[d.kI.required,d.kI.min(0)]],ThuTu:[,[d.kI.required,d.kI.min(0)]]}),this.nhomhang=this.fb.group({NoiDung:[,[d.kI.required]],ThuTu:[,[d.kI.required,d.kI.min(0)]]})}ngOnInit(){this.plus.setTiTle(this.title),this.readConfig()}ngOnDestroy(){}readConfig(){const t=this.user;t.birthday=this.plus.datexlsToHtml(t.birthday),this.main.patchValue(t),void 0!==this.user.NhomBan&&(this.NhomBan=this.user.NhomBan),void 0!==this.user.NhomHang&&(this.NhomHang=this.user.NhomHang)}save(){const t=this.main.value;console.log(t.birthday),t.birthday=this.plus.dateHtmlToXls(t.birthday);const e=Object.assign(t,{NhomBan:this.NhomBan,NhomHang:this.NhomHang});console.log(e),this.plus.httpPut("user/update",e).subscribe(e=>{this.plus.FBS_SetData("login",this.user._id,{dateModify:t.dateModify})})}checkPer(t,e){return this.plus.checkPer(t,e)}delNhomBan(t){this.NhomBan.splice(t,1),this.nhomban.reset()}editNhomBan(t,e){this.nhomban.patchValue(t),this.NhomBan.splice(e,1)}addNhomBan(){this.NhomBan.push(this.nhomban.value),this.nhomban.reset()}delNhomHang(t){this.NhomHang.splice(t,1),this.nhomhang.reset()}editNhomHang(t,e){this.NhomHang.splice(e,1),this.nhomhang.patchValue(t)}addNhomHang(){this.NhomHang.push(this.nhomhang.value),this.nhomhang.reset()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(u.T),c.Y36(d.qu))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-cau-hinh"]],decls:40,vars:8,consts:[[1,"container"],[1,"text-center"],["id","saveButton","mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"row"],[1,"col-md","card"],[3,"formGroup"],["type","text","hidden","","formControlName","_id",1,"form-control"],[1,"col-md-6"],["type","text","autocomplete","off","matInput","","formControlName","fullName"],["matInput","","formControlName","birthday",3,"matDatepicker"],["matSuffix","",3,"for"],["birthday",""],["type","text","autocomplete","off","matInput","","formControlName","phoneNumber"],["type","email","autocomplete","off","matInput","","formControlName","email"],["type","text","autocomplete","off","matInput","","formControlName","title"],["type","text","autocomplete","off","matInput","","formControlName","unit"],["mat-raised-button","","color","primary",4,"Write"],["class","row",4,"ngIf"],["id","saveButton","mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary"],[1,"col-6"],[1,"text-center","text-white","py-2","my-3","bg-info","rounded-pill","justify-content-center"],[1,"table","table-hover"],[1,"thead-inverse"],["type","text","formControlName","NoiDung",1,"form-control"],["type","number","formControlName","SoLuong",1,"form-control"],["type","number","formControlName","ThuTu",1,"form-control",3,"keyup.enter"],["color","primary",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-center","text-white","py-2","my-3","bg-success","rounded-pill","justify-content-center"],["color","primary",3,"click"],[3,"click"],["aria-hidden","true",1,"fa","fa-trash","text-danger",3,"click"]],template:function(t,e){if(1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.YNc(2,v,3,0,"button",2),c.qZA(),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"form",5),c._UZ(6,"input",6),c.TgZ(7,"div",3),c.TgZ(8,"div",7),c.TgZ(9,"mat-form-field"),c.TgZ(10,"mat-label"),c._uU(11,"T\xean qu\u1ea3n l\xfd"),c.qZA(),c._UZ(12,"input",8),c.qZA(),c.TgZ(13,"mat-form-field"),c.TgZ(14,"mat-label"),c._uU(15,"Sinh nh\u1eadt"),c.qZA(),c._UZ(16,"input",9),c._UZ(17,"mat-datepicker-toggle",10),c._UZ(18,"mat-datepicker",null,11),c.qZA(),c.TgZ(20,"mat-form-field"),c.TgZ(21,"mat-label"),c._uU(22,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),c.qZA(),c._UZ(23,"input",12),c.qZA(),c.qZA(),c.TgZ(24,"div",7),c.TgZ(25,"mat-form-field"),c.TgZ(26,"mat-label"),c._uU(27,"Email"),c.qZA(),c._UZ(28,"input",13),c.qZA(),c.TgZ(29,"mat-form-field"),c.TgZ(30,"mat-label"),c._uU(31,"T\xean c\u1eeda h\xe0ng"),c.qZA(),c._UZ(32,"input",14),c.qZA(),c.TgZ(33,"mat-form-field"),c.TgZ(34,"mat-label"),c._uU(35,"Ti\xeau \u0111\u1ec1 email"),c.qZA(),c._UZ(36,"input",15),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"div",3),c.YNc(38,O,2,0,"button",16),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(39,q,45,6,"div",17),c.qZA()),2&t){const t=c.MAs(19);c.xp6(2),c.Q6J("ngIf",e.main.valid),c.xp6(3),c.Q6J("formGroup",e.main),c.xp6(3),c.Q6J("@slideX",void 0),c.xp6(8),c.Q6J("matDatepicker",t),c.xp6(1),c.Q6J("for",t),c.xp6(7),c.Q6J("@slideIn",void 0),c.xp6(14),c.Q6J("Write","hang-hoa"),c.xp6(1),c.Q6J("ngIf",e.checkPer("hang-hoa",2))}},directives:[a.O5,d._Y,d.JL,d.sg,d.Fj,d.JJ,d.u,m.KE,m.hX,f.Nt,Z.hl,Z.nW,m.R9,Z.Mq,_.gs,b.lW,T.Hw,d.wV,a.sg],styles:["#saveButton[_ngcontent-%COMP%]{position:fixed;top:60px;right:10px;z-index:99;border:none;outline:none;background-color:#ee4705;color:#fff;cursor:pointer;border-radius:8px}"],data:{animation:[p.Ym,p.Mq]}}),t})();var k=n(23970),I=n(88229),P=n(68660);class C{constructor(){}loadScript(t,e,n,o=null){if("undefined"!=typeof document&&!document.getElementById(t)){let t=document.createElement("script");t.async=!0,t.src=e,t.onload=n,o||(o=document.head),o.appendChild(t)}}}class U{}let M=(()=>{class t extends C{constructor(t,e={scope:"email"}){super(),this.clientId=t,this.initOptions=e}initialize(){return new Promise((e,n)=>{try{this.loadScript(t.PROVIDER_ID,"https://apis.google.com/js/platform.js",()=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init(Object.assign(Object.assign({},this.initOptions),{client_id:this.clientId})),this.auth2.then(()=>{e()}).catch(t=>{n(t)})})})}catch(o){n(o)}})}getLoginStatus(e){const n=Object.assign(Object.assign({},this.initOptions),e);return new Promise((e,o)=>{if(this.auth2.isSignedIn.get()){let t=new U;const o=this.auth2.currentUser.get().getBasicProfile(),i=this.auth2.currentUser.get().getAuthResponse(!0);t.id=o.getId(),t.name=o.getName(),t.email=o.getEmail(),t.photoUrl=o.getImageUrl(),t.firstName=o.getGivenName(),t.lastName=o.getFamilyName(),t.response=i;const r=n=>{t.authToken=n.access_token,t.idToken=n.id_token,e(t)};n.refreshToken?this.auth2.currentUser.get().reloadAuthResponse().then(r):r(this.auth2.currentUser.get().getAuthResponse(!0))}else o(`No user is currently logged in with ${t.PROVIDER_ID}`)})}signIn(t){const e=Object.assign(Object.assign({},this.initOptions),t);return new Promise((n,o)=>{(e&&e.offline_access?this.auth2.grantOfflineAccess(t):this.auth2.signIn(t)).then(t=>{let e=new U;if(t&&t.code)e.authorizationCode=t.code;else{let t=this.auth2.currentUser.get().getBasicProfile(),n=this.auth2.currentUser.get().getAuthResponse(!0),o=n.access_token,i=n.id_token;e.id=t.getId(),e.name=t.getName(),e.email=t.getEmail(),e.photoUrl=t.getImageUrl(),e.firstName=t.getGivenName(),e.lastName=t.getFamilyName(),e.authToken=o,e.idToken=i,e.response=n}n(e)},t=>{o(t)}).catch(t=>{o(t)})})}signOut(t){return new Promise((e,n)=>{let o;o=t?this.auth2.disconnect():this.auth2.signOut(),o.then(t=>{t?n(t):e()}).catch(t=>{n(t)})})}}return t.PROVIDER_ID="GOOGLE",t})(),E=(()=>{class t{constructor(t){this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new I.t(1),this.initialized=!1,this._initState=new P.c,t instanceof Promise?t.then(t=>{this.initialize(t)}):this.initialize(t)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:e=console.error}=t;t.providers.forEach(t=>{this.providers.set(t.id,t.provider)}),Promise.all(Array.from(this.providers.values()).map(t=>t.initialize())).then(()=>{if(this.autoLogin){const t=[];let e=!1;this.providers.forEach((n,o)=>{let i=n.getLoginStatus();t.push(i),i.then(t=>{t.provider=o,this._user=t,this._authState.next(t),e=!0}).catch(console.debug)}),Promise.all(t).catch(()=>{e||(this._user=null,this._authState.next(null))})}}).catch(t=>{e(t)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}refreshAuthToken(e){return new Promise((n,o)=>{if(this.initialized)if(e!==M.PROVIDER_ID)o(t.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const i=this.providers.get(e);i?i.getLoginStatus({refreshToken:!0}).then(t=>{t.provider=e,this._user=t,this._authState.next(t),n()}).catch(t=>{o(t)}):o(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(t.ERR_NOT_INITIALIZED)})}signIn(e,n){return new Promise((o,i)=>{if(this.initialized){let r=this.providers.get(e);r?r.signIn(n).then(t=>{t.provider=e,o(t),this._user=t,this._authState.next(t)}).catch(t=>{i(t)}):i(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(t.ERR_NOT_INITIALIZED)})}signOut(e=!1){return new Promise((n,o)=>{if(this.initialized)if(this._user){let i=this.providers.get(this._user.provider);i?i.signOut(e).then(()=>{n(),this._user=null,this._authState.next(null)}).catch(t=>{o(t)}):o(t.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(t.ERR_NOT_LOGGED_IN);else o(t.ERR_NOT_INITIALIZED)})}}return t.\u0275fac=function(e){return new(e||t)(c.LFG("SocialAuthServiceConfig"))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",t.ERR_NOT_LOGGED_IN="Not logged in",t.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",t.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",t})(),S=(()=>{class t{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(e){return{ngModule:t,providers:[E,{provide:"SocialAuthServiceConfig",useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(t,12))},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[E],imports:[[a.ez]]}),t})(),R=(()=>{class t extends C{constructor(t,e={scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v4.0"}){super(),this.clientId=t,this.initOptions=e}initialize(){return new Promise((e,n)=>{try{this.loadScript(t.PROVIDER_ID,`//connect.facebook.net/${this.initOptions.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.initOptions.version}),e()})}catch(o){n(o)}})}getLoginStatus(){return new Promise((e,n)=>{FB.getLoginStatus(o=>{if("connected"===o.status){let t=o.authResponse;FB.api(`/me?fields=${this.initOptions.fields}`,n=>{let o=new U;o.id=n.id,o.name=n.name,o.email=n.email,o.photoUrl="https://graph.facebook.com/"+n.id+"/picture?type=normal&access_token="+t.accessToken,o.firstName=n.first_name,o.lastName=n.last_name,o.authToken=t.accessToken,o.response=n,e(o)})}else n(`No user is currently logged in with ${t.PROVIDER_ID}`)})})}signIn(t){const e=Object.assign(Object.assign({},this.initOptions),t);return new Promise((t,n)=>{FB.login(o=>{if(o.authResponse){let n=o.authResponse;FB.api(`/me?fields=${e.fields}`,e=>{let o=new U;o.id=e.id,o.name=e.name,o.email=e.email,o.photoUrl="https://graph.facebook.com/"+e.id+"/picture?type=normal",o.firstName=e.first_name,o.lastName=e.last_name,o.authToken=n.accessToken,o.response=e,t(o)})}else n("User cancelled login or did not fully authorize.")},e)})}signOut(){return new Promise((t,e)=>{FB.logout(e=>{t()})})}}return t.PROVIDER_ID="FACEBOOK",t})();var D=n(71056);let H=(()=>{class t{constructor(){this.year=(new Date).getFullYear(),this.version=r.N.appVersion,this.showTop=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-footer"]],decls:42,vars:2,consts:[[1,"container-fluid","bg-dark","text-warning","py-3"],[1,"page-footer","font-small","blue","pt-4"],[1,"container-fluid","text-center","text-lg-left"],[1,"row"],[1,"col-lg-6","mt-lg-0","mt-3"],[1,"container-fluid","bg-grey"],[1,"text-uppercase","text-center"],[1,"clearfix","w-100","d-lg-none","pb-3"],[1,"col-lg-3","mb-lg-0","mb-3"],[1,"text-uppercase","text-warning"],[1,"list-unstyled"],["href","./"],["href","tel:+84968647647","title","0968647647"],[1,"footer-copyright","text-center","py-3"],["href","mailto:thucspc@gmail.com"],["href","https://chat.zalo.me/?phone=84968647647","target","_blank","title","0968.647.647"]],template:function(t,e){1&t&&(c._UZ(0,"hr"),c.TgZ(1,"div",0),c.TgZ(2,"footer",1),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"h5",6),c._uU(8,"C\u1ecf 4 l\xe1"),c.qZA(),c.TgZ(9,"p"),c._uU(10,"M\u1ed7i l\xe1 c\xf3 nh\u1eefng \xfd ngh\u0129a ri\xeang, l\xe1 \u0111\u1ea7u ti\xean \u0111\u1ea1i di\u1ec7n cho ni\u1ec1m tin, l\xe1 th\u1ee9 hai l\xe0 s\u1ef1 hy v\u1ecdng, l\xe1 th\u1ee9 ba \u0111\u1ea1i di\u1ec7n cho t\xecnh y\xeau v\xe0 l\xe1 th\u1ee9 t\u01b0 l\xe0 s\u1ef1 may m\u1eafn."),c.qZA(),c.TgZ(11,"p"),c._uU(12,"Ng\u01b0\u1eddi ta \u01b0\u1edbc t\xednh r\u1eb1ng c\u1ee9 kho\u1ea3ng 10.000 c\xe2y c\u1ecf ba l\xe1 th\xec c\xf3 m\u1ed9t c\xe2y b\u1ed1n l\xe1 v\xe0 ng\u01b0\u1eddi ta c\u0169ng tin r\u1eb1ng c\u1ecf b\u1ed1n l\xe1 \u0111em l\u1ea1i may m\u1eafn cho nh\u1eefng ai t\xecnh c\u1edd t\xecm th\u1ea5y ch\xfang."),c.qZA(),c.TgZ(13,"p"),c._uU(14,"Ch\xfac b\u1ea1n may m\u1eafn!"),c.qZA(),c.qZA(),c.qZA(),c._UZ(15,"hr",7),c.TgZ(16,"div",8),c.TgZ(17,"h5",9),c._uU(18,"Li\xean h\u1ec7"),c.qZA(),c.TgZ(19,"ul",10),c.TgZ(20,"li"),c.TgZ(21,"a",11),c._uU(22,"\u0110\u1ecba ch\u1ec9: Huy\u1ec7n Xu\xe2n L\u1ed9c - T\u1ec9nh \u0110\u1ed3ng Nai."),c.qZA(),c.qZA(),c.TgZ(23,"li"),c.TgZ(24,"p"),c._uU(25,"Hotline: "),c.TgZ(26,"a",12),c._uU(27,"0968.647.647"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(28,"div",8),c.qZA(),c.qZA(),c._UZ(29,"hr"),c.TgZ(30,"div",13),c._uU(31),c.qZA(),c._uU(32),c.TgZ(33,"a",14),c._uU(34,"thucspc@gmail.com"),c.qZA(),c.TgZ(35,"p"),c._uU(36,"Hotline: "),c.TgZ(37,"a",12),c._uU(38,"0968.647.647"),c.qZA(),c._uU(39," - Zalo: "),c.TgZ(40,"a",15),c._uU(41,"0968.647.647"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(31),c.hij("\xa9 ",e.year," Copyright: C\u1ecf 4 l\xe1 "),c.xp6(1),c.hij(" Version: ",e.version," - Developed by "))},styles:[""]}),t})();var F=n(64855),z=n(67194);function B(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",16),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).signInWithFB()}),c._UZ(1,"i",17),c._uU(2," Facebook "),c.qZA()}}function L(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",18),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).loginZalo()}),c.TgZ(1,"b",19),c._uU(2,"Z"),c.qZA(),c._uU(3," Zalo "),c.qZA()}}function J(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",2),c.TgZ(1,"div",5),c.TgZ(2,"div",6),c.TgZ(3,"div",7),c.TgZ(4,"h5",8),c._uU(5,"\u0110\u0103ng nh\u1eadp"),c.qZA(),c.TgZ(6,"div",9),c._UZ(7,"hr",10),c.TgZ(8,"div",11),c.TgZ(9,"button",12),c.NdJ("click",function(){return c.CHM(t),c.oxw().signInWithGoogle()}),c._UZ(10,"i",13),c._uU(11," Google "),c.qZA(),c.YNc(12,B,3,0,"button",14),c.YNc(13,L,4,0,"button",15),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.Q6J("@slideIn",void 0),c.xp6(12),c.Q6J("ngIf",t.showbtnlogin),c.xp6(1),c.Q6J("ngIf",t.showbtnlogin)}}function j(t,e){if(1&t&&(c.TgZ(0,"b",25),c._uU(1),c.qZA()),2&t){const t=c.oxw(2).$implicit;c.s9C("matTooltip",t.label),c.xp6(1),c.hij(" ",t.label," ")}}function Y(t,e){if(1&t&&(c.TgZ(0,"span",22),c._UZ(1,"img",23),c.YNc(2,j,2,2,"ng-template",null,24,c.W1O),c.qZA()),2&t){const t=c.oxw().$implicit;c.MGl("routerLink","/",t.link,""),c.xp6(1),c.MGl("src","/assets/img/",t.api,".png",c.LSH),c.s9C("alt",t.label),c.s9C("matTooltip",t.label)}}function V(t,e){if(1&t&&(c.TgZ(0,"div",20),c.YNc(1,Y,4,4,"span",21),c.qZA()),2&t){const t=e.$implicit,n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.checkPer(t.api,1)&&t.label.length>0)}}function G(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",26),c.TgZ(1,"div",27),c.TgZ(2,"div",28),c.TgZ(3,"table"),c.TgZ(4,"tr"),c.TgZ(5,"td"),c._UZ(6,"ngx-kjua",29),c.qZA(),c.TgZ(7,"td"),c._UZ(8,"img",30),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"ul",31),c.TgZ(10,"li",32),c._uU(11,"H\u1ecd v\xe0 t\xean: "),c.TgZ(12,"b"),c._uU(13),c.qZA(),c.qZA(),c.TgZ(14,"li",32),c._uU(15,"Social: "),c.TgZ(16,"b"),c._uU(17),c.qZA(),c.qZA(),c.TgZ(18,"li",32),c._uU(19,"\u0110\u01a1n v\u1ecb:"),c.TgZ(20,"b"),c._uU(21),c.qZA(),c.qZA(),c.TgZ(22,"li",32),c._uU(23,"\u0110i\u1ec7n tho\u1ea1i: "),c.TgZ(24,"b"),c._uU(25),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"div",33),c.TgZ(27,"button",34),c.NdJ("click",function(){return c.CHM(t),c.oxw().signOut()}),c.TgZ(28,"mat-icon",35),c._uU(29,"power_settings_new"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(6),c.Q6J("size",150)("text",t.user._id)("label","4la.vn"),c.xp6(2),c.s9C("src",t.user.photoUrl,c.LSH),c.s9C("alt",t.user.fullName),c.xp6(5),c.hij(" ",t.user.fullName||"",""),c.xp6(4),c.hij(" ",t.user.social||"",""),c.xp6(4),c.hij(" ",t.user.unit||"",""),c.xp6(4),c.hij(" ",t.user.phoneNumber||"","")}}let Q=(()=>{class t{constructor(t,e,n){this.plus=t,this.authService=e,this.loginSV=n,this.api="user",this.tittle="T\xe0i kho\u1ea3n",this.user=null,this.navUser=[],this.photoUrl=localStorage.getItem("avatar"),this.showbtnlogin=!0}ngOnDestroy(){const t=document.getElementById("fb-customer-chat"),e=document.getElementById("fb-root");t&&t.remove(),e&&e.remove()}ngOnInit(){this.plus.setTiTle(this.tittle),this.init(),this.checkDomain(),this.autoLogin()}checkDomain(){"4la.vn"==window.location.hostname&&(this.showbtnlogin=!0)}init(){const t=localStorage.getItem("user");null==t||null==t?(sessionStorage.setItem("login",this.plus.Crypt_Encrypt(0)),this.autoLogin()):(this.user=this.plus.Crypt_Decrypt(t),sessionStorage.setItem(this.user._id,this.plus.Crypt_Encrypt(this.user.dateModify)),this.InitNav(),this.plus.FBS_GetByUser("login",this.user._id).pipe((0,D.take)(1)).subscribe(t=>{if(null==t)return;const e=+this.plus.Crypt_Decrypt(sessionStorage.getItem(this.user._id));t.dateModify>e&&this.autoLogin()}))}InitNav(){if(this.navUser=[],null!==this.user){const t=Object.keys(this.user.opt);k.w.forEach(e=>{e.sub.forEach(e=>{(t.includes(e.api)||e.guest)&&this.navUser.push(e)})})}this.navUser=this.plus.removeDupArr(this.navUser)}autoLogin(){this.authService.initState.subscribe(t=>{console.log(t)})}signInWithGoogle(){this.plus.alertToasrt({war:"Vui l\xf2ng ch\u1edd trong gi\xe2y l\xe1t!"}),this.plus.load(),this.authService.signIn(M.PROVIDER_ID).then(t=>{this.loginSV.login(t)})}signInWithFB(){this.plus.alertToasrt({war:"Vui l\xf2ng ch\u1edd trong gi\xe2y l\xe1t!"}),this.plus.load(),this.authService.signIn(R.PROVIDER_ID).then(t=>{this.loginSV.login(t)})}signOut(){localStorage.clear(),sessionStorage.clear(),this.authService.signOut(),window.location.reload(),this.plus.IDB_DB_DeleteDB("user").then(t=>{console.log(t)})}checkPer(t,e){return this.plus.checkPer(t,e)}loginZalo(){const t=`https://oauth.zaloapp.com/v4/permission?app_id=2779128174828680737&redirect_uri=${window.location.href}/zalo&state=${Date.now()}`;Date.now(),window.location.href=t}getTokenZalo(){}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(u.T),c.Y36(E),c.Y36(g))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-login"]],decls:6,vars:4,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],["class","div",4,"ngFor","ngForOf"],["class","row my-5 justify-content-center",4,"ngIf"],[1,"col-md-6","mx-auto"],[1,"card","card-signin"],[1,"card-body"],[1,"card-title","text-center"],[1,"form-signin"],[1,"my-4"],[1,"lg-btn"],[1,"btn","btn-lg","btn-google","btn-block","text-uppercase",3,"click"],[1,"fa","fa-google-plus",2,"font-size","24px"],["class","btn btn-lg btn-facebook btn-block text-uppercase",3,"click",4,"ngIf"],["class","btn btn-lg btn-zalo btn-block text-uppercase",3,"click",4,"ngIf"],[1,"btn","btn-lg","btn-facebook","btn-block","text-uppercase",3,"click"],[1,"fa","fa-facebook-f",2,"font-size","24px","color","white"],[1,"btn","btn-lg","btn-zalo","btn-block","text-uppercase",3,"click"],[2,"font-size","30px","margin","5px"],[1,"div"],["class","card hangHoa",3,"routerLink",4,"ngIf"],[1,"card","hangHoa",3,"routerLink"],[1,"img",3,"src","alt","matTooltip"],["label",""],[1,"labelIcon",3,"matTooltip"],[1,"row","my-5","justify-content-center"],[1,"col-md-8"],[1,"card"],[3,"size","text","label"],[1,"justify-content-center",3,"src","alt"],[1,"list-group"],[1,"list-group-item"],[1,"text-center"],["mat-raised-button","","color","warn",3,"click"],["fontSet","material-icons-round"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.YNc(1,J,14,3,"div",1),c.TgZ(2,"div",2),c.YNc(3,V,2,1,"div",3),c.qZA(),c.YNc(4,G,30,9,"div",4),c.qZA(),c._UZ(5,"app-footer")),2&t&&(c.xp6(1),c.Q6J("ngIf",null==e.user),c.xp6(1),c.Q6J("@slideX",void 0),c.xp6(1),c.Q6J("ngForOf",e.navUser),c.xp6(1),c.Q6J("ngIf",e.user))},directives:[a.O5,a.sg,H,l.rH,F.gM,z.w5,b.lW,T.Hw],styles:['.menubtn[_ngcontent-%COMP%]{position:fixed;top:5px;right:9px;z-index:99;color:#00f}[_ngcontent-%COMP%]:root{--input-padding-x: 1.5rem;--input-padding-y: .75rem}.element.style[_ngcontent-%COMP%]{height:46px;width:267px}body[_ngcontent-%COMP%]{background:#007bff;background:linear-gradient(to right,#0062E6,#33AEFF)}.card-signin[_ngcontent-%COMP%]{border:0;border-radius:1rem;box-shadow:0 .5rem 1rem #0000001a}.card-signin[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-bottom:2rem;font-weight:300;font-size:1.5rem}.card-signin[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem}.form-signin[_ngcontent-%COMP%]{width:100%}.form-signin[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:80%;border-radius:5rem;letter-spacing:.1rem;font-weight:bold;padding:1rem;transition:all .2s}.form-label-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem;padding:2rem}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:auto;border-radius:2rem}.form-label-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:.75rem 1.5rem;padding:var(--input-padding-y) var(--input-padding-x)}.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:block;width:100%;margin-bottom:0;line-height:1.5;color:#495057;border:1px solid transparent;border-radius:.25rem;transition:all .1s ease-in-out}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:transparent}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:transparent}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding-top:calc(.75rem + .75rem * (2 / 3));padding-top:calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));padding-bottom:calc(.75rem / 3);padding-bottom:calc(var(--input-padding-y) / 3)}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding-top:calc(.75rem + .75rem * (2 / 3));padding-top:calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));padding-bottom:calc(.75rem / 3);padding-bottom:calc(var(--input-padding-y) / 3)}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) ~ label[_ngcontent-%COMP%]{padding-top:calc(.75rem / 3);padding-top:calc(var(--input-padding-y) / 3);padding-bottom:calc(.75rem / 3);padding-bottom:calc(var(--input-padding-y) / 3);font-size:12px;color:#777}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{padding-top:calc(.75rem / 3);padding-top:calc(var(--input-padding-y) / 3);padding-bottom:calc(.75rem / 3);padding-bottom:calc(var(--input-padding-y) / 3);font-size:12px;color:#777}.btn-google[_ngcontent-%COMP%]{color:#fff;background-color:#d15050}.btn-facebook[_ngcontent-%COMP%]{color:#fff;background-color:#3838a8;border:1px}.btn-zalo[_ngcontent-%COMP%]{color:#00f;padding:8px!important;background-color:#99b3c9;border:1px;font-size:larger}@supports (-ms-ime-align: auto){.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:none}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#777}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:none}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}}.img[_ngcontent-%COMP%]{width:60px;height:60px;z-index:1;position:relative}.labelIcon[_ngcontent-%COMP%]{position:static;z-index:3}.hangHoa[_ngcontent-%COMP%]{height:5rem;width:5rem;border-radius:1rem;margin:.6rem;padding:.5rem;border-width:.1rem;border-color:#00f;align-items:center;justify-content:center;color:tomato;background-color:#fff}.hangHoa[_ngcontent-%COMP%]:hover{border-width:.3rem;border-color:#00f;transform:scale(1.1)}img[_ngcontent-%COMP%]{font-family:"Helvetica";font-weight:300;line-height:2;text-align:center;width:100%;height:auto;display:block;position:relative}img[_ngcontent-%COMP%]:after{content:attr(alt);font-family:Roboto;color:tomato;font-weight:bold;align-items:center;justify-content:center;display:block;position:absolute;z-index:2;top:0;left:0;width:100%;height:100%;background-color:#fff}.containerx[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;padding-top:56.25%}.responsive-iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%}'],data:{animation:[p.Ym,p.Mq]}}),t})(),$=(()=>{class t{constructor(t){this.plus=t}canActivate(){return this.plus.checkPer("cau-hinh")}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(u.T))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();const W=[{path:"",component:Q},{path:"zalo",component:h},{path:"cau-hinh",component:w,canActivate:[$]}];let X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[$],imports:[[l.Bz.forChild(W)],l.Bz]}),t})(),K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!0,providers:[{id:M.PROVIDER_ID,provider:new M(r.N.googleLogin)},{id:R.PROVIDER_ID,provider:new R(r.N.facebookLogin)}]}}],imports:[[a.ez,X,S,i.qX,o.ShareModule,z.hh]]}),t})()}}]);