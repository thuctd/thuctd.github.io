"use strict";(self.webpackChunkdlxl=self.webpackChunkdlxl||[]).push([[254],{21254:(ht,x,u)=>{u.r(x),u.d(x,{LoginModule:()=>ct});var w=u(34291),M=u(51372),b=u(92340),d=u(69808),t=u(5e3),g=u(99826),m=u(45230);let P=(()=>{class o{constructor(e,n){this.plus=e,this.router=n,this.api="user"}login(e){if(localStorage.setItem("avatar",e.photoUrl),e.provider)switch(e.provider){case"FACEBOOK":this.plus.httpPost(this.api+"/loginFacebook",e,!0).subscribe(n=>{this.setToken(n)});break;case"GOOGLE":this.plus.httpPost(this.api+"/loginGoogle",e,!0).subscribe(n=>{this.setToken(n)})}}setToken(e){this.plus.loaded(),console.log(e);const n=this.plus.Crypt_DecryptRest(e,e._id);this.plus.alertToasrt(e),(0==n.status||1==n.lock)&&this.plus.alertError("T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n \u0111\xe3 h\u1ebft h\u1ea1n!"),localStorage.clear(),sessionStorage.clear(),this.plus.user.next(n);const i=this.plus.Crypt_Encrypt(n);this.plus.FBS_SetData("login",n._id,{dateModify:n.dateModify}),sessionStorage.setItem(n._id,i),localStorage.setItem("refeshToken",e.refeshToken),localStorage.setItem("user",i),localStorage.setItem("userId",n._id),this.router.navigate(["/taikhoan"]).then(s=>{window.location.reload()}),this.plus.reload("/taikhoan")}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(m.T),t.LFG(g.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var L=u(40520);let D=(()=>{class o{constructor(e,n,i,s){this.route=e,this.plus=n,this.loginSV=i,this.http=s}ngOnInit(){this.getParams()}getParams(){this.route.queryParams.subscribe(e=>{console.log(e),void 0!==e.code?this.plus.httpPost("user/loginZalo",{code:e.code}).subscribe(n=>{this.loginSV.setToken(n)},n=>{console.log(n),this.plus.reload("/taikhoan")}):this.plus.reload("/taikhoan")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.gz),t.Y36(m.T),t.Y36(P),t.Y36(L.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-zalo"]],decls:0,vars:0,template:function(e,n){},styles:[""]}),o})();var _=u(15228),h=u(93075),Z=u(47423),k=u(25245),O=u(67322),U=u(77531),T=u(86856),S=u(25862);function F(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().save()}),t.TgZ(1,"mat-icon"),t._uU(2,"save"),t.qZA()()}}function q(o,r){1&o&&(t.TgZ(0,"button",19),t._uU(1," Kh\u1edfi t\u1ea1o d\u1eef li\u1ec7u m\u1eabu"),t.qZA())}function z(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",30),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addNhomBan()}),t._uU(1,"save"),t.qZA()}}function H(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",31),t.NdJ("click",function(){const i=t.CHM(e),s=i.$implicit,a=i.index;return t.oxw(2).editNhomBan(s,a)}),t._uU(2),t.qZA(),t.TgZ(3,"td",31),t.NdJ("click",function(){const i=t.CHM(e),s=i.$implicit,a=i.index;return t.oxw(2).editNhomBan(s,a)}),t._uU(4),t.qZA(),t.TgZ(5,"td",31),t.NdJ("click",function(){const i=t.CHM(e),s=i.$implicit,a=i.index;return t.oxw(2).editNhomBan(s,a)}),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"i",32),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).delNhomBan(s)}),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.NoiDung),t.xp6(2),t.Oqu(e.SoLuong),t.xp6(2),t.Oqu(e.ThuTu)}}function j(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-icon",30),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addNhomHang()}),t._uU(1,"save"),t.qZA()}}function B(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",31),t.NdJ("click",function(){const i=t.CHM(e),s=i.$implicit,a=i.index;return t.oxw(2).editNhomHang(s,a)}),t._uU(2),t.qZA(),t.TgZ(3,"td",31),t.NdJ("click",function(){const i=t.CHM(e),s=i.$implicit,a=i.index;return t.oxw(2).editNhomHang(s,a)}),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"i",32),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).delNhomHang(s)}),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.NoiDung),t.xp6(2),t.Oqu(e.ThuTu)}}function V(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",20)(2,"h5",21),t._uU(3,"Nh\xf3m b\xe0n"),t.qZA(),t.TgZ(4,"table",22)(5,"thead",23)(6,"tr")(7,"th"),t._uU(8,"T\xean nh\xf3m b\xe0n"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"S\u1ed1 l\u01b0\u1ee3ng b\xe0n"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Th\u1ee9 t\u1ef1 hi\u1ec3n th\u1ecb"),t.qZA(),t._UZ(13,"th"),t.qZA()(),t.TgZ(14,"tbody")(15,"tr",5)(16,"td"),t._UZ(17,"input",24),t.qZA(),t.TgZ(18,"td"),t._UZ(19,"input",25),t.qZA(),t.TgZ(20,"td")(21,"input",26),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().addNhomBan()}),t.qZA()(),t.TgZ(22,"td",1),t.YNc(23,z,2,0,"mat-icon",27),t.qZA()(),t.YNc(24,H,9,3,"tr",28),t.qZA()()(),t.TgZ(25,"div",20)(26,"h5",29),t._uU(27,"Nh\xf3m h\xe0ng h\xf3a "),t.qZA(),t.TgZ(28,"table",22)(29,"thead",23)(30,"tr")(31,"th"),t._uU(32,"T\xean nh\xf3m h\xe0ng"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Th\u1ee9 t\u1ef1 hi\u1ec3n th\u1ecb"),t.qZA(),t._UZ(35,"th"),t.qZA()(),t.TgZ(36,"tbody")(37,"tr",5)(38,"td"),t._UZ(39,"input",24),t.qZA(),t.TgZ(40,"td")(41,"input",26),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().addNhomHang()}),t.qZA()(),t.TgZ(42,"td",1),t.YNc(43,j,2,0,"mat-icon",27),t.qZA()(),t.YNc(44,B,7,2,"tr",28),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(15),t.Q6J("formGroup",e.nhomban),t.xp6(8),t.Q6J("ngIf",e.nhomban.valid),t.xp6(1),t.Q6J("ngForOf",e.NhomBan),t.xp6(13),t.Q6J("formGroup",e.nhomhang),t.xp6(6),t.Q6J("ngIf",e.nhomhang.valid),t.xp6(1),t.Q6J("ngForOf",e.NhomHang)}}let J=(()=>{class o{constructor(e,n){this.plus=e,this.fb=n,this.title="C\xe0i \u0111\u1eb7t",this.api="user/update",this.show=!1,this.user=this.plus.user.getValue(),this.readonly=!1,this.NhomBan=[],this.NhomHang=[],this.main=this.fb.group({_id:[,[]],email:[,[h.kI.required,h.kI.email]],phoneNumber:[,[]],title:[,[]],unit:[,[]],fullName:[,[h.kI.min(3),h.kI.max(100)]],birthday:[,[]]}),this.nhomban=this.fb.group({NoiDung:[,[h.kI.required]],SoLuong:[,[h.kI.required,h.kI.min(0)]],ThuTu:[,[h.kI.required,h.kI.min(0)]]}),this.nhomhang=this.fb.group({NoiDung:[,[h.kI.required]],ThuTu:[,[h.kI.required,h.kI.min(0)]]})}ngOnInit(){this.plus.setTiTle(this.title),this.readConfig()}ngOnDestroy(){}readConfig(){const e=this.user;e.birthday=this.plus.datexlsToHtml(e.birthday),this.main.patchValue(e),void 0!==this.user.NhomBan&&(this.NhomBan=this.user.NhomBan),void 0!==this.user.NhomHang&&(this.NhomHang=this.user.NhomHang)}save(){const e=this.main.value;console.log(e.birthday),e.birthday=this.plus.dateHtmlToXls(e.birthday);const i=Object.assign(e,{NhomBan:this.NhomBan,NhomHang:this.NhomHang});console.log(i),this.plus.httpPut("user/update",i).subscribe(s=>{this.plus.FBS_SetData("login",this.user._id,{dateModify:e.dateModify})})}checkPer(e,n){return this.plus.checkPer(e,n)}delNhomBan(e){this.NhomBan.splice(e,1),this.nhomban.reset()}editNhomBan(e,n){this.nhomban.patchValue(e),this.NhomBan.splice(n,1)}addNhomBan(){this.NhomBan.push(this.nhomban.value),this.nhomban.reset()}delNhomHang(e){this.NhomHang.splice(e,1),this.nhomhang.reset()}editNhomHang(e,n){this.NhomHang.splice(n,1),this.nhomhang.patchValue(e)}addNhomHang(){this.NhomHang.push(this.nhomhang.value),this.nhomhang.reset()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.T),t.Y36(h.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cau-hinh"]],decls:40,vars:8,consts:[[1,"container"],[1,"text-center"],["id","saveButton","mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"row"],[1,"col-md","card"],[3,"formGroup"],["type","text","hidden","","formControlName","_id",1,"form-control"],[1,"col-md-6"],["type","text","autocomplete","off","matInput","","formControlName","fullName"],["matInput","","formControlName","birthday",3,"matDatepicker"],["matSuffix","",3,"for"],["birthday",""],["type","text","autocomplete","off","matInput","","formControlName","phoneNumber"],["type","email","autocomplete","off","matInput","","formControlName","email"],["type","text","autocomplete","off","matInput","","formControlName","title"],["type","text","autocomplete","off","matInput","","formControlName","unit"],["mat-raised-button","","color","primary",4,"Write"],["class","row",4,"ngIf"],["id","saveButton","mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary"],[1,"col-6"],[1,"text-center","text-white","py-2","my-3","bg-info","rounded-pill","justify-content-center"],[1,"table","table-hover"],[1,"thead-inverse"],["type","text","formControlName","NoiDung",1,"form-control"],["type","number","formControlName","SoLuong",1,"form-control"],["type","number","formControlName","ThuTu",1,"form-control",3,"keyup.enter"],["color","primary",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-center","text-white","py-2","my-3","bg-success","rounded-pill","justify-content-center"],["color","primary",3,"click"],[3,"click"],["aria-hidden","true",1,"fa","fa-trash","text-danger",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,F,3,0,"button",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"form",5),t._UZ(6,"input",6),t.TgZ(7,"div",3)(8,"div",7)(9,"mat-form-field")(10,"mat-label"),t._uU(11,"T\xean qu\u1ea3n l\xfd"),t.qZA(),t._UZ(12,"input",8),t.qZA(),t.TgZ(13,"mat-form-field")(14,"mat-label"),t._uU(15,"Sinh nh\u1eadt"),t.qZA(),t._UZ(16,"input",9)(17,"mat-datepicker-toggle",10)(18,"mat-datepicker",null,11),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t._UZ(23,"input",12),t.qZA()(),t.TgZ(24,"div",7)(25,"mat-form-field")(26,"mat-label"),t._uU(27,"Email"),t.qZA(),t._UZ(28,"input",13),t.qZA(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"T\xean c\u1eeda h\xe0ng"),t.qZA(),t._UZ(32,"input",14),t.qZA(),t.TgZ(33,"mat-form-field")(34,"mat-label"),t._uU(35,"Ti\xeau \u0111\u1ec1 email"),t.qZA(),t._UZ(36,"input",15),t.qZA()()(),t.TgZ(37,"div",3),t.YNc(38,q,2,0,"button",16),t.qZA()()()(),t.YNc(39,V,45,6,"div",17),t.qZA()),2&e){const i=t.MAs(19);t.xp6(2),t.Q6J("ngIf",n.main.valid),t.xp6(3),t.Q6J("formGroup",n.main),t.xp6(3),t.Q6J("@slideX",void 0),t.xp6(8),t.Q6J("matDatepicker",i),t.xp6(1),t.Q6J("for",i),t.xp6(7),t.Q6J("@slideIn",void 0),t.xp6(14),t.Q6J("Write","hang-hoa"),t.xp6(1),t.Q6J("ngIf",n.checkPer("hang-hoa",2))}},directives:[d.O5,Z.lW,k.Hw,h._Y,h.JL,h.sg,h.Fj,h.JJ,h.u,O.KE,O.hX,U.Nt,T.hl,T.nW,O.R9,T.Mq,S.gs,h.wV,d.sg],styles:["#saveButton[_ngcontent-%COMP%]{position:fixed;top:60px;right:10px;z-index:99;border:none;outline:none;background-color:#ee4705;color:#fff;cursor:pointer;border-radius:8px}"],data:{animation:[_.Ym,_.Mq]}}),o})();u(4147),u(43883);var G=u(23970),A=u(77579),$=u(26063);class K extends A.x{constructor(r=1/0,e=1/0,n=$.l){super(),this._bufferSize=r,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,e)}next(r){const{isStopped:e,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:a}=this;e||(n.push(r),!i&&n.push(s.now()+a)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(r),{_infiniteTimeWindow:n,_buffer:i}=this,s=i.slice();for(let a=0;a<s.length&&!r.closed;a+=n?1:2)r.next(s[a]);return this._checkFinalizedStatuses(r),e}_trimBuffer(){const{_bufferSize:r,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:i}=this,s=(i?1:2)*r;if(r<1/0&&s<n.length&&n.splice(0,n.length-s),!i){const a=e.now();let l=0;for(let c=1;c<n.length&&n[c]<=a;c+=2)l=c;l&&n.splice(0,l+1)}}}class Q extends A.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(r){const{hasError:e,_hasValue:n,_value:i,thrownError:s,isStopped:a,_isComplete:l}=this;e?r.error(s):(a||l)&&(n&&r.next(i),r.complete())}next(r){this.isStopped||(this._value=r,this._hasValue=!0)}complete(){const{_hasValue:r,_value:e,_isComplete:n}=this;n||(this._isComplete=!0,r&&super.next(e),super.complete())}}class R{constructor(){}loadScript(r,e,n,i=null){if("undefined"!=typeof document&&!document.getElementById(r)){let s=document.createElement("script");s.async=!0,s.src=e,s.onload=n,i||(i=document.head),i.appendChild(s)}}}class f{}let v=(()=>{class o extends R{constructor(e,n={scope:"email"}){super(),this.clientId=e,this.initOptions=n}initialize(){return new Promise((e,n)=>{try{this.loadScript(o.PROVIDER_ID,"https://apis.google.com/js/api.js",()=>{gapi.load("client:auth2",()=>{gapi.client.init(Object.assign(Object.assign({},this.initOptions),{client_id:this.clientId})).then(()=>{this.auth2=gapi.auth2.getAuthInstance(),e()}).catch(i=>{n(i)})})})}catch(i){n(i)}})}getLoginStatus(e){const n=Object.assign(Object.assign({},this.initOptions),e);return new Promise((i,s)=>{if(this.auth2.isSignedIn.get()){const a=new f,l=this.auth2.currentUser.get().getBasicProfile(),c=this.auth2.currentUser.get().getAuthResponse(!0);this.setUserProfile(a,l),a.response=c;const p=C=>{a.authToken=C.access_token,a.idToken=C.id_token,i(a)};n.refreshToken?this.auth2.currentUser.get().reloadAuthResponse().then(p):p(c)}else s(`No user is currently logged in with ${o.PROVIDER_ID}`)})}signIn(e){const n=Object.assign(Object.assign({},this.initOptions),e);return new Promise((i,s)=>{(n&&n.offline_access?this.auth2.grantOfflineAccess(e):this.auth2.signIn(e)).then(c=>{const p=new f;if(c&&c.code)p.authorizationCode=c.code;else{const C=this.auth2.currentUser.get().getBasicProfile(),I=this.auth2.currentUser.get().getAuthResponse(!0),ut=I.access_token,pt=I.id_token;this.setUserProfile(p,C),p.authToken=ut,p.idToken=pt,p.response=I}i(p)},c=>{s(c)}).catch(c=>{s(c)})})}signOut(e){return new Promise((n,i)=>{let s;s=e?this.auth2.disconnect():this.auth2.signOut(),s.then(a=>{a?i(a):n()}).catch(a=>{i(a)})})}setUserProfile(e,n){e.id=n.getId(),e.name=n.getName(),e.email=n.getEmail(),e.photoUrl=n.getImageUrl(),e.firstName=n.getGivenName(),e.lastName=n.getFamilyName()}}return o.PROVIDER_ID="GOOGLE",o})(),E=(()=>{class o{constructor(e){this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new K(1),this.initialized=!1,this._initState=new Q,e instanceof Promise?e.then(n=>{this.initialize(n)}):this.initialize(e)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(e){this.autoLogin=void 0!==e.autoLogin&&e.autoLogin;const{onError:n=console.error}=e;e.providers.forEach(i=>{this.providers.set(i.id,i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize())).then(()=>{if(this.autoLogin){const i=[];let s=!1;this.providers.forEach((a,l)=>{let c=a.getLoginStatus();i.push(c),c.then(p=>{p.provider=l,this._user=p,this._authState.next(p),s=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{s||(this._user=null,this._authState.next(null))})}}).catch(i=>{n(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}refreshAuthToken(e){return new Promise((n,i)=>{if(this.initialized)if(e!==v.PROVIDER_ID)i(o.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const s=this.providers.get(e);s?s.getLoginStatus({refreshToken:!0}).then(a=>{a.provider=e,this._user=a,this._authState.next(a),n()}).catch(a=>{i(a)}):i(o.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(o.ERR_NOT_INITIALIZED)})}signIn(e,n){return new Promise((i,s)=>{if(this.initialized){let a=this.providers.get(e);a?a.signIn(n).then(l=>{l.provider=e,i(l),this._user=l,this._authState.next(l)}).catch(l=>{s(l)}):s(o.ERR_LOGIN_PROVIDER_NOT_FOUND)}else s(o.ERR_NOT_INITIALIZED)})}signOut(e=!1){return new Promise((n,i)=>{if(this.initialized)if(this._user){let a=this.providers.get(this._user.provider);a?a.signOut(e).then(()=>{n(),this._user=null,this._authState.next(null)}).catch(l=>{i(l)}):i(o.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(o.ERR_NOT_LOGGED_IN);else i(o.ERR_NOT_INITIALIZED)})}}return o.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",o.ERR_NOT_LOGGED_IN="Not logged in",o.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",o.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",o.\u0275fac=function(e){return new(e||o)(t.LFG("SocialAuthServiceConfig"))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),W=(()=>{class o{constructor(e){if(e)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(e){return{ngModule:o,providers:[E,{provide:"SocialAuthServiceConfig",useValue:e}]}}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(o,12))},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[E],imports:[[d.ez]]}),o})(),y=(()=>{class o extends R{constructor(e,n={}){super(),this.clientId=e,this.requestOptions={scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v10.0"},this.requestOptions=Object.assign(Object.assign({},this.requestOptions),n)}initialize(){return new Promise((e,n)=>{try{this.loadScript(o.PROVIDER_ID,`//connect.facebook.net/${this.requestOptions.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.requestOptions.version}),e()})}catch(i){n(i)}})}getLoginStatus(){return new Promise((e,n)=>{FB.getLoginStatus(i=>{if("connected"===i.status){let s=i.authResponse;FB.api(`/me?fields=${this.requestOptions.fields}`,a=>{let l=new f;l.id=a.id,l.name=a.name,l.email=a.email,l.photoUrl="https://graph.facebook.com/"+a.id+"/picture?type=normal&access_token="+s.accessToken,l.firstName=a.first_name,l.lastName=a.last_name,l.authToken=s.accessToken,l.response=a,e(l)})}else n(`No user is currently logged in with ${o.PROVIDER_ID}`)})})}signIn(e){const n=Object.assign(Object.assign({},this.requestOptions),e);return new Promise((i,s)=>{FB.login(a=>{if(a.authResponse){let l=a.authResponse;FB.api(`/me?fields=${n.fields}`,c=>{let p=new f;p.id=c.id,p.name=c.name,p.email=c.email,p.photoUrl="https://graph.facebook.com/"+c.id+"/picture?type=normal",p.firstName=c.first_name,p.lastName=c.last_name,p.authToken=l.accessToken,p.response=c,i(p)})}else s("User cancelled login or did not fully authorize.")},n)})}signOut(){return new Promise((e,n)=>{FB.logout(i=>{e()})})}}return o.PROVIDER_ID="FACEBOOK",o})();var X=u(87238);let tt=(()=>{class o{constructor(){this.year=(new Date).getFullYear(),this.version=b.N.appVersion,this.showTop=!1}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-footer"]],decls:42,vars:2,consts:[[1,"container-fluid","bg-dark","text-warning","py-3"],[1,"page-footer","font-small","blue","pt-4"],[1,"container-fluid","text-center","text-lg-left"],[1,"row"],[1,"col-lg-6","mt-lg-0","mt-3"],[1,"container-fluid","bg-grey"],[1,"text-uppercase","text-center"],[1,"clearfix","w-100","d-lg-none","pb-3"],[1,"col-lg-3","mb-lg-0","mb-3"],[1,"text-uppercase","text-warning"],[1,"list-unstyled"],["href","./"],["href","tel:+84968647647","title","0968647647"],[1,"footer-copyright","text-center","py-3"],["href","mailto:thucspc@gmail.com"],["href","https://chat.zalo.me/?phone=84968647647","target","_blank","title","0968.647.647"]],template:function(e,n){1&e&&(t._UZ(0,"hr"),t.TgZ(1,"div",0)(2,"footer",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5",6),t._uU(8,"C\u1ecf 4 l\xe1"),t.qZA(),t.TgZ(9,"p"),t._uU(10,"M\u1ed7i l\xe1 c\xf3 nh\u1eefng \xfd ngh\u0129a ri\xeang, l\xe1 \u0111\u1ea7u ti\xean \u0111\u1ea1i di\u1ec7n cho ni\u1ec1m tin, l\xe1 th\u1ee9 hai l\xe0 s\u1ef1 hy v\u1ecdng, l\xe1 th\u1ee9 ba \u0111\u1ea1i di\u1ec7n cho t\xecnh y\xeau v\xe0 l\xe1 th\u1ee9 t\u01b0 l\xe0 s\u1ef1 may m\u1eafn."),t.qZA(),t.TgZ(11,"p"),t._uU(12,"Ng\u01b0\u1eddi ta \u01b0\u1edbc t\xednh r\u1eb1ng c\u1ee9 kho\u1ea3ng 10.000 c\xe2y c\u1ecf ba l\xe1 th\xec c\xf3 m\u1ed9t c\xe2y b\u1ed1n l\xe1 v\xe0 ng\u01b0\u1eddi ta c\u0169ng tin r\u1eb1ng c\u1ecf b\u1ed1n l\xe1 \u0111em l\u1ea1i may m\u1eafn cho nh\u1eefng ai t\xecnh c\u1edd t\xecm th\u1ea5y ch\xfang."),t.qZA(),t.TgZ(13,"p"),t._uU(14,"Ch\xfac b\u1ea1n may m\u1eafn!"),t.qZA()()(),t._UZ(15,"hr",7),t.TgZ(16,"div",8)(17,"h5",9),t._uU(18,"Li\xean h\u1ec7"),t.qZA(),t.TgZ(19,"ul",10)(20,"li")(21,"a",11),t._uU(22,"\u0110\u1ecba ch\u1ec9: Huy\u1ec7n Xu\xe2n L\u1ed9c - T\u1ec9nh \u0110\u1ed3ng Nai."),t.qZA()(),t.TgZ(23,"li")(24,"p"),t._uU(25,"Hotline: "),t.TgZ(26,"a",12),t._uU(27,"0968.647.647"),t.qZA()()()()(),t._UZ(28,"div",8),t.qZA()(),t._UZ(29,"hr"),t.TgZ(30,"div",13),t._uU(31),t.qZA(),t._uU(32),t.TgZ(33,"a",14),t._uU(34,"thucspc@gmail.com"),t.qZA(),t.TgZ(35,"p"),t._uU(36,"Hotline: "),t.TgZ(37,"a",12),t._uU(38,"0968.647.647"),t.qZA(),t._uU(39," - Zalo: "),t.TgZ(40,"a",15),t._uU(41,"0968.647.647"),t.qZA()()()()),2&e&&(t.xp6(31),t.hij("\xa9 ",n.year," Copyright: C\u1ecf 4 l\xe1 "),t.xp6(1),t.hij(" Version: ",n.version," - Developed by "))},styles:[""]}),o})();function et(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h5",8),t._uU(5,"\u0110\u0103ng nh\u1eadp"),t.qZA(),t.TgZ(6,"div",9),t._UZ(7,"hr",10),t.TgZ(8,"div",11)(9,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().signInWithGoogle()}),t._UZ(10,"i",13),t._uU(11," Google "),t.qZA(),t.TgZ(12,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().signInWithFB()}),t._UZ(13,"i",15),t._uU(14," Facebook "),t.qZA(),t.TgZ(15,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().loginZalo()}),t.TgZ(16,"b",17),t._uU(17,"Z"),t.qZA(),t._uU(18," Zalo "),t.qZA()()()()()()()}2&o&&t.Q6J("@slideIn",void 0)}function nt(o,r){if(1&o&&(t.TgZ(0,"b",23),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.s9C("matTooltip",e.label),t.xp6(1),t.hij(" ",e.label," ")}}function ot(o,r){if(1&o&&(t.TgZ(0,"span",20),t._UZ(1,"img",21),t.YNc(2,nt,2,2,"ng-template",null,22,t.W1O),t.qZA()),2&o){const e=t.oxw().$implicit;t.MGl("routerLink","/",e.link,""),t.xp6(1),t.MGl("src","/assets/img/",e.api,".png",t.LSH),t.s9C("alt",e.label),t.s9C("matTooltip",e.label)}}function it(o,r){if(1&o&&(t.TgZ(0,"div",18),t.YNc(1,ot,4,4,"span",19),t.qZA()),2&o){const e=r.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.checkPer(e.api,1)&&e.label.length>0)}}function st(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"span",28),t._UZ(5,"img",29),t.qZA()(),t.TgZ(6,"ul",30)(7,"li",31),t._uU(8," H\u1ecd v\xe0 t\xean: "),t.TgZ(9,"b"),t._uU(10),t.qZA()(),t.TgZ(11,"li",31),t._uU(12,"Social: "),t.TgZ(13,"b"),t._uU(14),t.qZA()(),t.TgZ(15,"li",31),t._uU(16,"\u0110\u01a1n v\u1ecb:"),t.TgZ(17,"b"),t._uU(18),t.qZA()(),t.TgZ(19,"li",31),t._uU(20,"\u0110i\u1ec7n tho\u1ea1i: "),t.TgZ(21,"b"),t._uU(22),t.qZA()()(),t.TgZ(23,"div",32)(24,"button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().signOut()}),t.TgZ(25,"mat-icon",34),t._uU(26,"power_settings_new"),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.s9C("src",e.user.photoUrl,t.LSH),t.s9C("matTooltip",e.user.fullName),t.xp6(5),t.hij(" ",e.user.fullName||"",""),t.xp6(4),t.hij(" ",e.user.social||"",""),t.xp6(4),t.hij(" ",e.user.unit||"",""),t.xp6(4),t.hij(" ",e.user.phoneNumber||"","")}}let rt=(()=>{class o{constructor(e,n,i){this.plus=e,this.authService=n,this.loginSV=i,this.api="user",this.tittle="T\xe0i kho\u1ea3n",this.user=null,this.navUser=[],this.photoUrl=localStorage.getItem("avatar"),this.showbtnlogin=true}ngOnDestroy(){const e=document.getElementById("fb-customer-chat"),n=document.getElementById("fb-root");e&&e.remove(),n&&n.remove()}ngOnInit(){this.plus.setTiTle(this.tittle),this.init(),this.checkDomain(),this.autoLogin()}checkDomain(){"4la.vn"==window.location.hostname&&(this.showbtnlogin=!0)}init(){const e=localStorage.getItem("user");null==e||null==e?(sessionStorage.setItem("login",this.plus.Crypt_Encrypt(0)),this.autoLogin()):(this.user=this.plus.Crypt_Decrypt(e),sessionStorage.setItem(this.user._id,this.plus.Crypt_Encrypt(this.user.dateModify)),this.InitNav())}InitNav(){if(this.navUser=[],null!==this.user){const e=Object.keys(this.user.opt);G.w.forEach(n=>{n.sub.forEach(i=>{(e.includes(i.api)||i.guest)&&this.navUser.push(i)})})}this.navUser=this.plus.removeDupArr(this.navUser)}autoLogin(){this.authService.initState.subscribe(e=>{console.log(e)})}signInWithGoogle(){this.plus.alertToasrt({war:"Vui l\xf2ng ch\u1edd trong gi\xe2y l\xe1t!"}),this.plus.load(),this.authService.signIn(v.PROVIDER_ID).then(e=>{this.loginSV.login(e)})}signInWithFB(){this.plus.alertToasrt({war:"Vui l\xf2ng ch\u1edd trong gi\xe2y l\xe1t!"}),this.plus.load(),this.authService.signIn(y.PROVIDER_ID).then(e=>{this.loginSV.login(e)})}signOut(){localStorage.clear(),sessionStorage.clear(),this.authService.signOut(),window.location.reload(),this.plus.IDB_DB_DeleteDB("user").then(e=>{console.log(e)})}checkPer(e,n){return this.plus.checkPer(e,n)}loginZalo(){const n=`https://oauth.zaloapp.com/v4/permission?app_id=2779128174828680737&redirect_uri=${window.location.href}/zalo&state=${Date.now()}`;Date.now(),window.location.href=n}getTokenZalo(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.T),t.Y36(E),t.Y36(P))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:6,vars:4,consts:[[1,"container"],["class","row",4,"ngIf"],[1,"row"],["class","div",4,"ngFor","ngForOf"],["class","row my-5 justify-content-center",4,"ngIf"],[1,"col-md-6","mx-auto"],[1,"card","card-signin"],[1,"card-body"],[1,"card-title","text-center"],[1,"form-signin"],[1,"my-4"],[1,"lg-btn"],[1,"btn","btn-lg","btn-google","btn-block","text-uppercase",3,"click"],[1,"fa","fa-google-plus",2,"font-size","24px"],[1,"btn","btn-lg","btn-facebook","btn-block","text-uppercase",3,"click"],[1,"fa","fa-facebook-f",2,"font-size","24px","color","white"],[1,"btn","btn-lg","btn-zalo","btn-block","text-uppercase",3,"click"],[2,"font-size","30px","margin","5px"],[1,"div"],["class","card hangHoa",3,"routerLink",4,"ngIf"],[1,"card","hangHoa",3,"routerLink"],[1,"img",3,"src","alt","matTooltip"],["label",""],[1,"labelIcon",3,"matTooltip"],[1,"row","my-5","justify-content-center"],[1,"col-md-8"],[1,"card"],[1,"text-right"],["routerLink","/taikhoan",1,"card","hangHoa"],["height","100px","width","100px",1,"justify-content-center",3,"src","matTooltip"],[1,"list-group"],[1,"list-group-item"],[1,"text-center"],["mat-raised-button","","color","warn",3,"click"],["fontSet","material-icons-round"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,et,19,1,"div",1),t.TgZ(2,"div",2),t.YNc(3,it,2,1,"div",3),t.qZA(),t.YNc(4,st,27,6,"div",4),t.qZA(),t._UZ(5,"app-footer")),2&e&&(t.xp6(1),t.Q6J("ngIf",!n.user),t.xp6(1),t.Q6J("@slideX",void 0),t.xp6(1),t.Q6J("ngForOf",n.navUser),t.xp6(1),t.Q6J("ngIf",n.user))},directives:[d.O5,d.sg,g.rH,X.gM,Z.lW,k.Hw,tt],styles:[".menubtn[_ngcontent-%COMP%]{position:fixed;top:5px;right:9px;z-index:99;color:#00f}[_ngcontent-%COMP%]:root{--input-padding-x: 1.5rem;--input-padding-y: .75rem}.element.style[_ngcontent-%COMP%]{height:46px;width:267px}body[_ngcontent-%COMP%]{background:#007bff;background:linear-gradient(to right,#0062E6,#33AEFF)}.card-signin[_ngcontent-%COMP%]{border:0;border-radius:1rem;box-shadow:0 .5rem 1rem #0000001a}.card-signin[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-bottom:2rem;font-weight:300;font-size:1.5rem}.card-signin[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem}.form-signin[_ngcontent-%COMP%]{width:100%}.form-signin[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:80%;border-radius:5rem;letter-spacing:.1rem;font-weight:700;padding:1rem;transition:all .2s}.form-label-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem;padding:2rem}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:auto;border-radius:2rem}.form-label-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding:.75rem 1.5rem;padding:var(--input-padding-y) var(--input-padding-x)}.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:block;width:100%;margin-bottom:0;line-height:1.5;color:#495057;border:1px solid transparent;border-radius:.25rem;transition:all .1s ease-in-out}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:transparent}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:transparent}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown){padding-top:1.25rem;padding-top:calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));padding-bottom:.25rem;padding-bottom:calc(var(--input-padding-y) / 3)}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding-top:1.25rem;padding-top:calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));padding-bottom:.25rem;padding-bottom:calc(var(--input-padding-y) / 3)}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:-moz-placeholder-shown) ~ label[_ngcontent-%COMP%]{padding-top:.25rem;padding-top:calc(var(--input-padding-y) / 3);padding-bottom:.25rem;padding-bottom:calc(var(--input-padding-y) / 3);font-size:12px;color:#777}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{padding-top:.25rem;padding-top:calc(var(--input-padding-y) / 3);padding-bottom:.25rem;padding-bottom:calc(var(--input-padding-y) / 3);font-size:12px;color:#777}.btn-google[_ngcontent-%COMP%]{color:#fff;background-color:#d15050}.btn-facebook[_ngcontent-%COMP%]{color:#fff;background-color:#3838a8;border:1px}.btn-zalo[_ngcontent-%COMP%]{color:#00f;padding:8px!important;background-color:#99b3c9;border:1px;font-size:larger}@supports (-ms-ime-align: auto){.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:none}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#777}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.form-label-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:none}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}}.img[_ngcontent-%COMP%]{width:60px;height:60px;z-index:1;position:relative}.labelIcon[_ngcontent-%COMP%]{position:static;z-index:3}.hangHoa[_ngcontent-%COMP%]{height:5rem;width:5rem;border-radius:1rem;margin:.6rem;padding:.5rem;border-width:.1rem;border-color:#00f;align-items:center;justify-content:center;color:tomato;background-color:#fff}.hangHoa[_ngcontent-%COMP%]:hover{border-width:.3rem;border-color:#00f;transform:scale(1.1)}img[_ngcontent-%COMP%]{font-family:Helvetica;font-weight:300;line-height:2;text-align:center;width:100%;height:auto;display:block;position:relative}img[_ngcontent-%COMP%]:after{content:attr(alt);font-family:Roboto;color:tomato;font-weight:700;align-items:center;justify-content:center;display:block;position:absolute;z-index:2;top:0;left:0;width:100%;height:100%;background-color:#fff}.containerx[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;padding-top:56.25%}.responsive-iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%}"],data:{animation:[_.Ym,_.Mq]}}),o})(),N=(()=>{class o{constructor(e){this.plus=e}canActivate(){return this.plus.checkPer("cau-hinh")}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(m.T))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();const at=[{path:"",component:rt},{path:"zalo",component:D},{path:"cau-hinh",component:J,canActivate:[N]}];let lt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[N],imports:[[g.Bz.forChild(at)],g.Bz]}),o})(),ct=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!0,providers:[{id:v.PROVIDER_ID,provider:new v(b.N.googleLogin)},{id:y.PROVIDER_ID,provider:new y(b.N.facebookLogin)}]}}],imports:[[d.ez,lt,W,M.qX,w.ShareModule]]}),o})()}}]);