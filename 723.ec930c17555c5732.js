"use strict";(self.webpackChunkdlxl=self.webpackChunkdlxl||[]).push([[723],{61723:(ut,T,p)=>{p.r(T),p.d(T,{PersonModule:()=>ct});var Z=p(51372),A=p(48387),x=p(99826),t=p(5e3),l=p(93075),C=p(45230);let b=(()=>{class e{constructor(o,n){this.fb=o,this.plus=n,this.db=null,this.dbName="person",this.api="person"}ngOnInit(){this.plus.IDB_InitDB(this.dbName).subscribe(o=>{this.db=o})}getDashborad(){this.plus.httpGet(this.api+"dashboard").subscribe(o=>{console.log(o)})}onFocus(o,n){console.log("focus",n),document.getElementById(o).style.background="yellow"}onBlur(o,n){console.log("Blur",n.target.textContent),document.getElementById(o).style.background=""}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.qu),t.Y36(C.T))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-person"]],decls:0,vars:0,template:function(o,n){},styles:["section[_ngcontent-%COMP%]{padding:20px 0}section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center;color:#007b5e;margin-bottom:30px;text-transform:uppercase}#tabs[_ngcontent-%COMP%]{background:#007b5e;color:#eee}#tabs[_ngcontent-%COMP%]   h6.section-title[_ngcontent-%COMP%]{color:#eee}#tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#f3f3f3;background-color:transparent;border-color:transparent transparent #f3f3f3;border-bottom:4px solid!important;font-size:20px;font-weight:700}#tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;color:#eee;font-size:20px}"]}),e})();var v=p(15228),M=p(47423),J=p(25245),m=p(69808),I=p(68042),q=p(46936),O=p(87654),k=p(97012),_=p(67322),E=p(77531),N=p(91079),H=p(90508),h=p(86856),y=p(30627);function U(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){return t.CHM(o),t.oxw().reload()}),t.TgZ(1,"mat-icon"),t._uU(2,"undo"),t.qZA()()}2&e&&t.Q6J("@slideIn",void 0)}function Q(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"app-search-api",44),t.NdJ("data",function(c){return t.CHM(o),t.oxw().find(c)}),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("api",o.api)}}function F(e,a){1&e&&(t.TgZ(0,"th"),t._uU(1,"_id"),t.qZA())}function P(e,a){1&e&&(t.TgZ(0,"th"),t._uU(1,"M\u1ee9c HTNV"),t.qZA())}function B(e,a){1&e&&(t.TgZ(0,"th"),t._uU(1,"S\u1ed1 ng\u01b0\u1eddi gi\u1ea3m tr\u1eeb"),t.qZA())}function S(e,a){1&e&&(t.TgZ(0,"th"),t._uU(1,"Thu\u1ebf t\u1ea1m \u0111\xf3ng"),t.qZA())}function Y(e,a){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(o._id)}}function L(e,a){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.MucHtnv))}}function w(e,a){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.SoNguoiGiamTru))}}function $(e,a){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.ThueTamDong))}}function R(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-icon",51),t.NdJ("click",function(){t.CHM(o);const c=t.oxw().$implicit;return t.oxw(2).onDelete(c)}),t._uU(1,"delete"),t.qZA()}}function G(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"tr",49),t.NdJ("click",function(){const i=t.CHM(o).$implicit;return t.oxw(2).onEdit(i)}),t.YNc(1,Y,2,1,"td",47),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"excelDay"),t.qZA(),t.YNc(10,L,3,3,"td",47),t.YNc(11,w,3,3,"td",47),t.YNc(12,$,3,3,"td",47),t.TgZ(13,"td"),t.YNc(14,R,2,0,"mat-icon",50),t.qZA()()}if(2&e){const o=a.$implicit,n=t.oxw(2);t.Q6J("@slideIn",void 0),t.xp6(1),t.Q6J("ngIf",n.device),t.xp6(2),t.Oqu(o.HoTen),t.xp6(2),t.Oqu(t.lcZ(6,9,o.ThucLanh)),t.xp6(3),t.Oqu(t.lcZ(9,11,o.NgayNhanLuong)),t.xp6(2),t.Q6J("ngIf",n.device),t.xp6(1),t.Q6J("ngIf",n.device),t.xp6(1),t.Q6J("ngIf",n.device),t.xp6(2),t.Q6J("ngIf",n.checkPer(4))}}function j(e,a){if(1&e&&(t.TgZ(0,"table",45)(1,"thead",46)(2,"tr"),t.YNc(3,F,2,0,"th",47),t.TgZ(4,"th"),t._uU(5,"H\u1ecd t\xean"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Th\u1ef1c l\xe3nh"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Ng\xe0y nh\u1eadn l\u01b0\u01a1ng"),t.qZA(),t.YNc(10,P,2,0,"th",47),t.YNc(11,B,2,0,"th",47),t.YNc(12,S,2,0,"th",47),t._UZ(13,"th"),t.qZA()(),t.TgZ(14,"tbody"),t.YNc(15,G,15,13,"tr",48),t.qZA()()),2&e){const o=t.oxw();t.xp6(3),t.Q6J("ngIf",o.device),t.xp6(7),t.Q6J("ngIf",o.device),t.xp6(1),t.Q6J("ngIf",o.device),t.xp6(1),t.Q6J("ngIf",o.device),t.xp6(3),t.Q6J("ngForOf",o.filter.length>0?o.filter:o.items.slice(0,20))}}function X(e,a){if(1&e&&t._UZ(0,"app-import-database",52),2&e){const o=t.oxw();t.Q6J("api",o.api)("form",o.importForm)("global",!0)}}function V(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",53),t.NdJ("onSelectionChange",function(){const i=t.CHM(o).$implicit;return t.oxw().chooseOpt(i,"HoTen","")})("click",function(){const i=t.CHM(o).$implicit;return t.oxw().chooseOpt(i,"HoTen","")}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.Q6J("value",o[""]),t.xp6(1),t.hij(" ",o[""]," ")}}function z(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",53),t.NdJ("onSelectionChange",function(){const i=t.CHM(o).$implicit;return t.oxw().chooseOpt(i,"ThucLanh","")})("click",function(){const i=t.CHM(o).$implicit;return t.oxw().chooseOpt(i,"ThucLanh","")}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.Q6J("value",o[""]),t.xp6(1),t.hij(" ",o[""]," ")}}function W(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",53),t.NdJ("onSelectionChange",function(){const i=t.CHM(o).$implicit;return t.oxw().chooseOpt(i,"MucHtnv","")})("click",function(){const i=t.CHM(o).$implicit;return t.oxw().chooseOpt(i,"MucHtnv","")}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.Q6J("value",o[""]),t.xp6(1),t.hij(" ",o[""]," ")}}function K(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",53),t.NdJ("onSelectionChange",function(){const i=t.CHM(o).$implicit;return t.oxw().chooseOpt(i,"SoNguoiGiamTru","")})("click",function(){const i=t.CHM(o).$implicit;return t.oxw().chooseOpt(i,"SoNguoiGiamTru","")}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.Q6J("value",o[""]),t.xp6(1),t.hij(" ",o[""]," ")}}function tt(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"mat-option",53),t.NdJ("onSelectionChange",function(){const i=t.CHM(o).$implicit;return t.oxw().chooseOpt(i,"ThueTamDong","")})("click",function(){const i=t.CHM(o).$implicit;return t.oxw().chooseOpt(i,"ThueTamDong","")}),t._uU(1),t.qZA()}if(2&e){const o=a.$implicit;t.Q6J("value",o[""]),t.xp6(1),t.hij(" ",o[""]," ")}}function ot(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){return t.CHM(o),t.oxw().save()}),t.TgZ(1,"mat-icon"),t._uU(2,"save"),t.qZA()()}2&e&&t.Q6J("@slideIn",void 0)}const et=[{path:"",component:b},{path:"tien-luong",component:(()=>{class e{constructor(o,n){this.plus=o,this.fb=n,this.device=window.innerWidth>1200,this.chart=[],this.title="Ti\u1ec1n l\u01b0\u01a1ng",this.dbName="nhansu",this.api="tien-luong",this.db=null,this.items=[],this.selectedItem=null,this.filter=[],this.itemsAuto=[],this.main=this.fb.group({_id:[,[]],HoTen:[,[l.kI.required]],ThucLanh:[,[l.kI.required]],NgayNhanLuong:[,[l.kI.required,l.kI.min(1)]],MucHtnv:[,[]],SoNguoiGiamTru:[,[]],ThueTamDong:[,[]]}),this.importForm=this.fb.group({_id:[,[]],HoTen:[,[l.kI.required]],ThucLanh:[,[l.kI.required]],NgayNhanLuong:[,[l.kI.required]],MucHtnv:[,[]],SoNguoiGiamTru:[,[]],ThueTamDong:[,[]]})}ngOnInit(){this.plus.setTiTle(this.title),this.plus.IDB_InitDB(this.dbName).subscribe(o=>function(e,a,o,n){return new(o||(o=Promise))(function(i,u){function d(r){try{s(n.next(r))}catch(g){u(g)}}function f(r){try{s(n.throw(r))}catch(g){u(g)}}function s(r){r.done?i(r.value):function c(i){return i instanceof o?i:new o(function(u){u(i)})}(r.value).then(d,f)}s((n=n.apply(e,a||[])).next())})}(this,void 0,void 0,function*(){this.db=o,this.getIDB(),this.plus.updateUserLocal(o,this.api),this.plus.updateAPi.subscribe(n=>{n&&this.getIDB()})}))}changeDate(o,n){this.main.patchValue({[n]:this.plus.dateHtmlToXls(o.value)}),console.log(o)}getIDB(){console.log("getIDB"),this.filter=[],this.plus.IDB_DB_GetAll(this.db,this.api).subscribe(o=>{this.items=o,this.plus.updateAPi.next(!1)})}ngOnDestroy(){console.log("Destroy",this.api),this.plus.subs.unsubscribe()}save(){if(this.main.invalid)return;const o=this.main.value,n=this.plus.datetoNumObj(this.main.value,["NgayNhanLuong"]);console.log(n),null==o._id?(delete o._id,this.plus.httpPost(this.api,n).subscribe(c=>{c.status&&this.plus.clickBtn("closeModal")})):this.plus.httpPut(this.api,n).subscribe(c=>{c.status&&this.plus.clickBtn("closeModal")})}onEdit(o){this.selectedItem=o;const n=this.plus.dateToHtmlObj(o,["NgayNhanLuong"]);this.main.patchValue(n),this.plus.clickBtn("openModal")}onDelete(o){!confirm("B\u1ea1n mu\u1ed1n x\xf3a?")||(this.plus.load(),this.plus.httpDisable(this.api,o).then(c=>{console.log(c)}))}selectMat(o){}getAuto(o,n){!this.db||n.length<2||(this.itemsAuto=[],this.plus.IDB_DB_Search(this.db,o,n,4).subscribe(c=>{this.itemsAuto=c}))}chooseOpt(o,n,c,i=!1){this.main.controls[n].setValue(o[c]),i&&this.main.controls[n+"ID"].setValue(o._id)}closeModal(){this.main.reset()}search(o){this.filter=o}find(o){this.items=o}checkPer(o){return this.plus.checkPer(this.api,o)}selectedFile(o){console.log(o)}reload(){return this.plus.reload("nhan-su/tien-luong")}reset(){this.plus.loaded(),this.filter=[],this.getIDB()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(C.T),t.Y36(l.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-thu-nhap"]],decls:77,vars:22,consts:[[1,"container"],["id","add-btn","color","accent","mat-raised-button","","data-toggle","modal","data-target","#modelId",3,"click"],["id","back-btn","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"api","data",4,"ngIf"],[3,"db","api","filter"],[1,"row"],["class","table table-hover",4,"ngIf"],[3,"api","form","global",4,"ngIf"],[3,"dataJson"],["id","openModal","type","button","data-toggle","modal","data-target","#modelId",1,"d-none"],["id","modelId","data-backdrop","static","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"container-fluid"],[3,"formGroup"],["formControlName","_id"],["required","","value","HoTenRef.value","type","text","autocomplete","off","matInput","","formControlName","HoTen",3,"matAutocomplete","input"],["HoTenRef",""],["autoActiveFirstOption",""],["HoTenAuto","matAutocomplete"],[3,"value","onSelectionChange","click",4,"ngFor","ngForOf"],["matSuffix",""],["required","","value","ThucLanhRef.value","type","text","autocomplete","off","matInput","","formControlName","ThucLanh",3,"matAutocomplete","input"],["ThucLanhRef",""],["ThucLanhAuto","matAutocomplete"],["matInput","","formControlName","NgayNhanLuong","readonly","","autocomplete","off",3,"matDatepicker","focus"],["NgayNhanLuong",""],["touchUi",""],["NgayNhanLuongRef",""],["matSuffix","",3,"for"],["required","","value","MucHtnvRef.value","type","text","autocomplete","off","matInput","","formControlName","MucHtnv",3,"matAutocomplete","input"],["MucHtnvRef",""],["MucHtnvAuto","matAutocomplete"],["required","","value","SoNguoiGiamTruRef.value","type","text","autocomplete","off","matInput","","formControlName","SoNguoiGiamTru",3,"matAutocomplete","input"],["SoNguoiGiamTruRef",""],["SoNguoiGiamTruAuto","matAutocomplete"],["required","","value","ThueTamDongRef.value","type","text","autocomplete","off","matInput","","formControlName","ThueTamDong",3,"matAutocomplete","input"],["ThueTamDongRef",""],["ThueTamDongAuto","matAutocomplete"],[1,"modal-footer"],["id","closeModal","mat-raised-button","","color","primary","data-dismiss","modal",3,"click"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["id","back-btn","mat-raised-button","","color","primary",3,"click"],[3,"api","data"],[1,"table","table-hover"],[1,"thead-inverse"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["color","warn",3,"click",4,"ngIf"],["color","warn",3,"click"],[3,"api","form","global"],[3,"value","onSelectionChange","click"],["mat-raised-button","","color","warn",3,"click"]],template:function(o,n){if(1&o){const c=t.EpF();t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.reset()}),t.TgZ(2,"mat-icon"),t._uU(3,"control_point"),t.qZA()(),t.YNc(4,U,3,1,"button",2),t.YNc(5,Q,1,1,"app-search-api",3),t.TgZ(6,"app-search-table",4),t.NdJ("filter",function(u){return n.search(u)}),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,j,16,5,"table",6),t.qZA(),t.YNc(9,X,1,3,"app-import-database",7),t._UZ(10,"app-export-ecxel",8),t.qZA(),t._UZ(11,"button",9),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"form",15),t._UZ(18,"input",16),t.TgZ(19,"mat-form-field")(20,"mat-label"),t._uU(21,"H\u1ecd t\xean"),t.qZA(),t.TgZ(22,"input",17,18),t.NdJ("input",function(){t.CHM(c);const u=t.MAs(23);return n.getAuto(n.api,u.value)}),t.qZA(),t.TgZ(24,"mat-autocomplete",19,20),t.YNc(26,V,2,2,"mat-option",21),t.qZA(),t._UZ(27,"span",22),t.qZA(),t.TgZ(28,"mat-form-field")(29,"mat-label"),t._uU(30,"Th\u1ef1c l\xe3nh"),t.qZA(),t.TgZ(31,"input",23,24),t.NdJ("input",function(){t.CHM(c);const u=t.MAs(32);return n.getAuto(n.api,u.value)}),t.qZA(),t.TgZ(33,"mat-autocomplete",19,25),t.YNc(35,z,2,2,"mat-option",21),t.qZA(),t._UZ(36,"span",22),t.qZA(),t.TgZ(37,"mat-form-field")(38,"mat-label"),t._uU(39,"Ng\xe0y nh\u1eadn l\u01b0\u01a1ng"),t.qZA(),t.TgZ(40,"input",26,27),t.NdJ("focus",function(){return t.CHM(c),t.MAs(43).open()}),t.qZA(),t._UZ(42,"mat-datepicker",28,29)(44,"mat-datepicker-toggle",30),t.qZA(),t.TgZ(45,"mat-form-field")(46,"mat-label"),t._uU(47,"M\u1ee9c HTNV"),t.qZA(),t.TgZ(48,"input",31,32),t.NdJ("input",function(){t.CHM(c);const u=t.MAs(49);return n.getAuto(n.api,u.value)}),t.qZA(),t.TgZ(50,"mat-autocomplete",19,33),t.YNc(52,W,2,2,"mat-option",21),t.qZA(),t._UZ(53,"span",22),t.qZA(),t.TgZ(54,"mat-form-field")(55,"mat-label"),t._uU(56,"S\u1ed1 ng\u01b0\u1eddi gi\u1ea3m tr\u1eeb"),t.qZA(),t.TgZ(57,"input",34,35),t.NdJ("input",function(){t.CHM(c);const u=t.MAs(58);return n.getAuto(n.api,u.value)}),t.qZA(),t.TgZ(59,"mat-autocomplete",19,36),t.YNc(61,K,2,2,"mat-option",21),t.qZA(),t._UZ(62,"span",22),t.qZA(),t.TgZ(63,"mat-form-field")(64,"mat-label"),t._uU(65,"Thu\u1ebf t\u1ea1m \u0111\xf3ng"),t.qZA(),t.TgZ(66,"input",37,38),t.NdJ("input",function(){t.CHM(c);const u=t.MAs(67);return n.getAuto(n.api,u.value)}),t.qZA(),t.TgZ(68,"mat-autocomplete",19,39),t.YNc(70,tt,2,2,"mat-option",21),t.qZA(),t._UZ(71,"span",22),t.qZA()()()(),t.TgZ(72,"div",40)(73,"button",41),t.NdJ("click",function(){return n.closeModal()}),t.TgZ(74,"mat-icon"),t._uU(75,"close"),t.qZA()(),t.YNc(76,ot,3,1,"button",42),t.qZA()()()()}if(2&o){const c=t.MAs(25),i=t.MAs(34),u=t.MAs(43),d=t.MAs(51),f=t.MAs(60),s=t.MAs(69);t.xp6(4),t.Q6J("ngIf",n.filter.length>0),t.xp6(1),t.Q6J("ngIf",n.checkPer(10)),t.xp6(1),t.Q6J("db",n.db)("api",n.api),t.xp6(2),t.Q6J("ngIf",n.items.length+n.filter.length>0),t.xp6(1),t.Q6J("ngIf",n.checkPer(4)),t.xp6(1),t.Q6J("dataJson",n.items),t.xp6(7),t.Q6J("formGroup",n.main),t.xp6(5),t.Q6J("matAutocomplete",c),t.xp6(4),t.Q6J("ngForOf",n.itemsAuto),t.xp6(5),t.Q6J("matAutocomplete",i),t.xp6(4),t.Q6J("ngForOf",n.itemsAuto),t.xp6(5),t.Q6J("matDatepicker",u),t.xp6(4),t.Q6J("for",u),t.xp6(4),t.Q6J("matAutocomplete",d),t.xp6(4),t.Q6J("ngForOf",n.itemsAuto),t.xp6(5),t.Q6J("matAutocomplete",f),t.xp6(4),t.Q6J("ngForOf",n.itemsAuto),t.xp6(5),t.Q6J("matAutocomplete",s),t.xp6(4),t.Q6J("ngForOf",n.itemsAuto),t.xp6(3),t.Q6J("@slideIn",void 0),t.xp6(3),t.Q6J("ngIf",n.checkPer(2)&&n.main.valid)}},directives:[M.lW,J.Hw,m.O5,I.W,q.D,m.sg,O.y,k.t,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,_.KE,_.hX,E.Nt,N.ZL,l.Q7,N.XC,H.ey,_.R9,h.hl,h.Mq,h.nW],pipes:[m.JJ,y.cf],styles:[""],data:{animation:[v.Ym]}}),e})()}];let nt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[x.Bz.forChild(et)],x.Bz]}),e})();var it=p(34291),at=p(85913);let ct=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[it.ShareModule,nt,at.m,l.UX,A.D,Z.qX]]}),e})()}}]);