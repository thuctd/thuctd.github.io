"use strict";(self.webpackChunk_4la=self.webpackChunk_4la||[]).push([[571],{68571:function(t,o,n){n.r(o),n.d(o,{PersonModule:function(){return j}});var e=n(62136),i=n(48387),c=n(33982),a=n(74788),u=n(24751),l=n(88638);let s=(()=>{class t{constructor(t,o){this.fb=t,this.plus=o,this.db=null,this.dbName="person",this.api="person"}ngOnInit(){this.plus.IDB_InitDB(this.dbName).subscribe(t=>{this.db=t})}getDashborad(){this.plus.httpGet(this.api+"dashboard").subscribe(t=>{console.log(t)})}onFocus(t,o){console.log("focus",o),document.getElementById(t).style.background="yellow"}onBlur(t,o){console.log("Blur",o.target.textContent),document.getElementById(t).style.background=""}}return t.\u0275fac=function(o){return new(o||t)(a.Y36(u.qu),a.Y36(l.T))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-person"]],decls:0,vars:0,template:function(t,o){},styles:["section[_ngcontent-%COMP%]{padding:20px 0}section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center;color:#007b5e;margin-bottom:30px;text-transform:uppercase}#tabs[_ngcontent-%COMP%]{background:#007b5e;color:#eee}#tabs[_ngcontent-%COMP%]   h6.section-title[_ngcontent-%COMP%]{color:#eee}#tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#f3f3f3;background-color:transparent;border-color:transparent transparent #f3f3f3;border-bottom:4px solid!important;font-size:20px;font-weight:bold}#tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;color:#eee;font-size:20px}"]}),t})();var r=n(28831),p=n(2895),m=n(49356),g=n(12057),d=n(46936),h=n(97012),f=n(46833),Z=n(46113),T=n(50296),A=n(12895),b=n(68042),x=n(55352),q=n(17935),v=n(16314);function N(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"button",43),a.NdJ("click",function(){return a.CHM(t),a.oxw().reload()}),a.TgZ(1,"mat-icon"),a._uU(2,"undo"),a.qZA(),a.qZA()}2&t&&a.Q6J("@slideIn",void 0)}function _(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"app-search-api",44),a.NdJ("data",function(o){return a.CHM(t),a.oxw().find(o)}),a.qZA()}if(2&t){const t=a.oxw();a.Q6J("api",t.api)}}function M(t,o){1&t&&(a.TgZ(0,"th"),a._uU(1,"_id"),a.qZA())}function J(t,o){1&t&&(a.TgZ(0,"th"),a._uU(1,"M\u1ee9c HTNV"),a.qZA())}function I(t,o){1&t&&(a.TgZ(0,"th"),a._uU(1,"S\u1ed1 ng\u01b0\u1eddi gi\u1ea3m tr\u1eeb"),a.qZA())}function k(t,o){1&t&&(a.TgZ(0,"th"),a._uU(1,"Thu\u1ebf t\u1ea1m \u0111\xf3ng"),a.qZA())}function C(t,o){if(1&t&&(a.TgZ(0,"td"),a._uU(1),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(t._id)}}function O(t,o){if(1&t&&(a.TgZ(0,"td"),a._uU(1),a.ALo(2,"number"),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(a.lcZ(2,1,t.MucHtnv))}}function H(t,o){if(1&t&&(a.TgZ(0,"td"),a._uU(1),a.ALo(2,"number"),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(a.lcZ(2,1,t.SoNguoiGiamTru))}}function U(t,o){if(1&t&&(a.TgZ(0,"td"),a._uU(1),a.ALo(2,"number"),a.qZA()),2&t){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(a.lcZ(2,1,t.ThueTamDong))}}function w(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"mat-icon",51),a.NdJ("click",function(){a.CHM(t);const o=a.oxw().$implicit;return a.oxw(2).onDelete(o)}),a._uU(1,"delete"),a.qZA()}}function y(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"tr",49),a.NdJ("click",function(){const o=a.CHM(t).$implicit;return a.oxw(2).onEdit(o)}),a.YNc(1,C,2,1,"td",47),a.TgZ(2,"td"),a._uU(3),a.qZA(),a.TgZ(4,"td"),a._uU(5),a.ALo(6,"number"),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.ALo(9,"excelDay"),a.qZA(),a.YNc(10,O,3,3,"td",47),a.YNc(11,H,3,3,"td",47),a.YNc(12,U,3,3,"td",47),a.TgZ(13,"td"),a.YNc(14,w,2,0,"mat-icon",50),a.qZA(),a.qZA()}if(2&t){const t=o.$implicit,n=a.oxw(2);a.Q6J("@slideIn",void 0),a.xp6(1),a.Q6J("ngIf",n.device),a.xp6(2),a.Oqu(t.HoTen),a.xp6(2),a.Oqu(a.lcZ(6,9,t.ThucLanh)),a.xp6(3),a.Oqu(a.lcZ(9,11,t.NgayNhanLuong)),a.xp6(2),a.Q6J("ngIf",n.device),a.xp6(1),a.Q6J("ngIf",n.device),a.xp6(1),a.Q6J("ngIf",n.device),a.xp6(2),a.Q6J("ngIf",n.checkPer(4))}}function Q(t,o){if(1&t&&(a.TgZ(0,"table",45),a.TgZ(1,"thead",46),a.TgZ(2,"tr"),a.YNc(3,M,2,0,"th",47),a.TgZ(4,"th"),a._uU(5,"H\u1ecd t\xean"),a.qZA(),a.TgZ(6,"th"),a._uU(7,"Th\u1ef1c l\xe3nh"),a.qZA(),a.TgZ(8,"th"),a._uU(9,"Ng\xe0y nh\u1eadn l\u01b0\u01a1ng"),a.qZA(),a.YNc(10,J,2,0,"th",47),a.YNc(11,I,2,0,"th",47),a.YNc(12,k,2,0,"th",47),a._UZ(13,"th"),a.qZA(),a.qZA(),a.TgZ(14,"tbody"),a.YNc(15,y,15,13,"tr",48),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(3),a.Q6J("ngIf",t.device),a.xp6(7),a.Q6J("ngIf",t.device),a.xp6(1),a.Q6J("ngIf",t.device),a.xp6(1),a.Q6J("ngIf",t.device),a.xp6(3),a.Q6J("ngForOf",t.filter.length>0?t.filter:t.items.slice(0,20))}}function D(t,o){if(1&t&&a._UZ(0,"app-import-database",52),2&t){const t=a.oxw();a.Q6J("api",t.api)("form",t.importForm)("global",!0)}}function F(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"mat-option",53),a.NdJ("onSelectionChange",function(){const o=a.CHM(t).$implicit;return a.oxw().chooseOpt(o,"HoTen","")})("click",function(){const o=a.CHM(t).$implicit;return a.oxw().chooseOpt(o,"HoTen","")}),a._uU(1),a.qZA()}if(2&t){const t=o.$implicit;a.Q6J("value",t[""]),a.xp6(1),a.hij(" ",t[""]," ")}}function P(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"mat-option",53),a.NdJ("onSelectionChange",function(){const o=a.CHM(t).$implicit;return a.oxw().chooseOpt(o,"ThucLanh","")})("click",function(){const o=a.CHM(t).$implicit;return a.oxw().chooseOpt(o,"ThucLanh","")}),a._uU(1),a.qZA()}if(2&t){const t=o.$implicit;a.Q6J("value",t[""]),a.xp6(1),a.hij(" ",t[""]," ")}}function Y(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"mat-option",53),a.NdJ("onSelectionChange",function(){const o=a.CHM(t).$implicit;return a.oxw().chooseOpt(o,"MucHtnv","")})("click",function(){const o=a.CHM(t).$implicit;return a.oxw().chooseOpt(o,"MucHtnv","")}),a._uU(1),a.qZA()}if(2&t){const t=o.$implicit;a.Q6J("value",t[""]),a.xp6(1),a.hij(" ",t[""]," ")}}function B(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"mat-option",53),a.NdJ("onSelectionChange",function(){const o=a.CHM(t).$implicit;return a.oxw().chooseOpt(o,"SoNguoiGiamTru","")})("click",function(){const o=a.CHM(t).$implicit;return a.oxw().chooseOpt(o,"SoNguoiGiamTru","")}),a._uU(1),a.qZA()}if(2&t){const t=o.$implicit;a.Q6J("value",t[""]),a.xp6(1),a.hij(" ",t[""]," ")}}function L(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"mat-option",53),a.NdJ("onSelectionChange",function(){const o=a.CHM(t).$implicit;return a.oxw().chooseOpt(o,"ThueTamDong","")})("click",function(){const o=a.CHM(t).$implicit;return a.oxw().chooseOpt(o,"ThueTamDong","")}),a._uU(1),a.qZA()}if(2&t){const t=o.$implicit;a.Q6J("value",t[""]),a.xp6(1),a.hij(" ",t[""]," ")}}function S(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"button",54),a.NdJ("click",function(){return a.CHM(t),a.oxw().save()}),a.TgZ(1,"mat-icon"),a._uU(2,"save"),a.qZA(),a.qZA()}2&t&&a.Q6J("@slideIn",void 0)}const $=[{path:"",component:s},{path:"tien-luong",component:(()=>{class t{constructor(t,o){this.plus=t,this.fb=o,this.device=window.innerWidth>1200,this.chart=[],this.title="Ti\u1ec1n l\u01b0\u01a1ng",this.dbName="nhansu",this.api="tien-luong",this.db=null,this.items=[],this.selectedItem=null,this.filter=[],this.itemsAuto=[],this.main=this.fb.group({_id:[,[]],HoTen:[,[u.kI.required]],ThucLanh:[,[u.kI.required]],NgayNhanLuong:[,[u.kI.required,u.kI.min(1)]],MucHtnv:[,[]],SoNguoiGiamTru:[,[]],ThueTamDong:[,[]]}),this.importForm=this.fb.group({_id:[,[]],HoTen:[,[u.kI.required]],ThucLanh:[,[u.kI.required]],NgayNhanLuong:[,[u.kI.required]],MucHtnv:[,[]],SoNguoiGiamTru:[,[]],ThueTamDong:[,[]]})}ngOnInit(){this.plus.setTiTle(this.title),this.plus.IDB_InitDB(this.dbName).subscribe(t=>function(t,o,n,e){return new(n||(n=Promise))(function(i,c){function a(t){try{l(e.next(t))}catch(o){c(o)}}function u(t){try{l(e.throw(t))}catch(o){c(o)}}function l(t){t.done?i(t.value):function(t){return t instanceof n?t:new n(function(o){o(t)})}(t.value).then(a,u)}l((e=e.apply(t,o||[])).next())})}(this,void 0,void 0,function*(){this.db=t,this.getIDB(),this.plus.updateUserLocal(t,this.api),this.plus.updateAPi.subscribe(t=>{t&&this.getIDB()})}))}changeDate(t,o){this.main.patchValue({[o]:this.plus.dateHtmlToXls(t.value)}),console.log(t)}getIDB(){console.log("getIDB"),this.filter=[],this.plus.IDB_DB_GetAll(this.db,this.api).subscribe(t=>{this.items=t,this.plus.updateAPi.next(!1)})}ngOnDestroy(){console.log("Destroy",this.api),this.plus.subs.unsubscribe()}save(){if(this.main.invalid)return;const t=this.main.value,o=this.plus.datetoNumObj(this.main.value,["NgayNhanLuong"]);console.log(o),null==t._id?(delete t._id,this.plus.httpPost(this.api,o).subscribe(t=>{t.status&&this.plus.clickBtn("closeModal")})):this.plus.httpPut(this.api,o).subscribe(t=>{t.status&&this.plus.clickBtn("closeModal")})}onEdit(t){this.selectedItem=t;const o=this.plus.dateToHtmlObj(t,["NgayNhanLuong"]);this.main.patchValue(o),this.plus.clickBtn("openModal")}onDelete(t){!confirm("B\u1ea1n mu\u1ed1n x\xf3a?")||(this.plus.load(),this.plus.httpDisable(this.api,t).then(t=>{console.log(t)}))}selectMat(t){}getAuto(t,o){!this.db||o.length<2||(this.itemsAuto=[],this.plus.IDB_DB_Search(this.db,t,o,4).subscribe(t=>{this.itemsAuto=t}))}chooseOpt(t,o,n,e=!1){this.main.controls[o].setValue(t[n]),e&&this.main.controls[o+"ID"].setValue(t._id)}closeModal(){this.main.reset()}search(t){this.filter=t}find(t){this.items=t}checkPer(t){return this.plus.checkPer(this.api,t)}selectedFile(t){console.log(t)}reload(){return this.plus.reload("nhan-su/tien-luong")}reset(){this.plus.loaded(),this.filter=[],this.getIDB()}}return t.\u0275fac=function(o){return new(o||t)(a.Y36(l.T),a.Y36(u.qu))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-thu-nhap"]],decls:77,vars:22,consts:[[1,"container"],["id","add-btn","color","accent","mat-raised-button","","data-toggle","modal","data-target","#modelId",3,"click"],["id","back-btn","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[3,"api","data",4,"ngIf"],[3,"db","api","filter"],[1,"row"],["class","table table-hover",4,"ngIf"],[3,"api","form","global",4,"ngIf"],[3,"dataJson"],["id","openModal","type","button","data-toggle","modal","data-target","#modelId",1,"d-none"],["id","modelId","data-backdrop","static","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"container-fluid"],[3,"formGroup"],["formControlName","_id"],["required","","value","HoTenRef.value","type","text","autocomplete","off","matInput","","formControlName","HoTen",3,"matAutocomplete","input"],["HoTenRef",""],["autoActiveFirstOption",""],["HoTenAuto","matAutocomplete"],[3,"value","onSelectionChange","click",4,"ngFor","ngForOf"],["matSuffix",""],["required","","value","ThucLanhRef.value","type","text","autocomplete","off","matInput","","formControlName","ThucLanh",3,"matAutocomplete","input"],["ThucLanhRef",""],["ThucLanhAuto","matAutocomplete"],["matInput","","formControlName","NgayNhanLuong","readonly","","autocomplete","off",3,"matDatepicker","focus"],["NgayNhanLuong",""],["touchUi",""],["NgayNhanLuongRef",""],["matSuffix","",3,"for"],["required","","value","MucHtnvRef.value","type","text","autocomplete","off","matInput","","formControlName","MucHtnv",3,"matAutocomplete","input"],["MucHtnvRef",""],["MucHtnvAuto","matAutocomplete"],["required","","value","SoNguoiGiamTruRef.value","type","text","autocomplete","off","matInput","","formControlName","SoNguoiGiamTru",3,"matAutocomplete","input"],["SoNguoiGiamTruRef",""],["SoNguoiGiamTruAuto","matAutocomplete"],["required","","value","ThueTamDongRef.value","type","text","autocomplete","off","matInput","","formControlName","ThueTamDong",3,"matAutocomplete","input"],["ThueTamDongRef",""],["ThueTamDongAuto","matAutocomplete"],[1,"modal-footer"],["id","closeModal","mat-raised-button","","color","primary","data-dismiss","modal",3,"click"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["id","back-btn","mat-raised-button","","color","primary",3,"click"],[3,"api","data"],[1,"table","table-hover"],[1,"thead-inverse"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["color","warn",3,"click",4,"ngIf"],["color","warn",3,"click"],[3,"api","form","global"],[3,"value","onSelectionChange","click"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,o){if(1&t){const t=a.EpF();a.TgZ(0,"div",0),a.TgZ(1,"button",1),a.NdJ("click",function(){return o.reset()}),a.TgZ(2,"mat-icon"),a._uU(3,"control_point"),a.qZA(),a.qZA(),a.YNc(4,N,3,1,"button",2),a.YNc(5,_,1,1,"app-search-api",3),a.TgZ(6,"app-search-table",4),a.NdJ("filter",function(t){return o.search(t)}),a.qZA(),a.TgZ(7,"div",5),a.YNc(8,Q,16,5,"table",6),a.qZA(),a.YNc(9,D,1,3,"app-import-database",7),a._UZ(10,"app-export-ecxel",8),a.qZA(),a._UZ(11,"button",9),a.TgZ(12,"div",10),a.TgZ(13,"div",11),a.TgZ(14,"div",12),a.TgZ(15,"div",13),a.TgZ(16,"div",14),a.TgZ(17,"form",15),a._UZ(18,"input",16),a.TgZ(19,"mat-form-field"),a.TgZ(20,"mat-label"),a._uU(21,"H\u1ecd t\xean"),a.qZA(),a.TgZ(22,"input",17,18),a.NdJ("input",function(){a.CHM(t);const n=a.MAs(23);return o.getAuto(o.api,n.value)}),a.qZA(),a.TgZ(24,"mat-autocomplete",19,20),a.YNc(26,F,2,2,"mat-option",21),a.qZA(),a._UZ(27,"span",22),a.qZA(),a.TgZ(28,"mat-form-field"),a.TgZ(29,"mat-label"),a._uU(30,"Th\u1ef1c l\xe3nh"),a.qZA(),a.TgZ(31,"input",23,24),a.NdJ("input",function(){a.CHM(t);const n=a.MAs(32);return o.getAuto(o.api,n.value)}),a.qZA(),a.TgZ(33,"mat-autocomplete",19,25),a.YNc(35,P,2,2,"mat-option",21),a.qZA(),a._UZ(36,"span",22),a.qZA(),a.TgZ(37,"mat-form-field"),a.TgZ(38,"mat-label"),a._uU(39,"Ng\xe0y nh\u1eadn l\u01b0\u01a1ng"),a.qZA(),a.TgZ(40,"input",26,27),a.NdJ("focus",function(){return a.CHM(t),a.MAs(43).open()}),a.qZA(),a._UZ(42,"mat-datepicker",28,29),a._UZ(44,"mat-datepicker-toggle",30),a.qZA(),a.TgZ(45,"mat-form-field"),a.TgZ(46,"mat-label"),a._uU(47,"M\u1ee9c HTNV"),a.qZA(),a.TgZ(48,"input",31,32),a.NdJ("input",function(){a.CHM(t);const n=a.MAs(49);return o.getAuto(o.api,n.value)}),a.qZA(),a.TgZ(50,"mat-autocomplete",19,33),a.YNc(52,Y,2,2,"mat-option",21),a.qZA(),a._UZ(53,"span",22),a.qZA(),a.TgZ(54,"mat-form-field"),a.TgZ(55,"mat-label"),a._uU(56,"S\u1ed1 ng\u01b0\u1eddi gi\u1ea3m tr\u1eeb"),a.qZA(),a.TgZ(57,"input",34,35),a.NdJ("input",function(){a.CHM(t);const n=a.MAs(58);return o.getAuto(o.api,n.value)}),a.qZA(),a.TgZ(59,"mat-autocomplete",19,36),a.YNc(61,B,2,2,"mat-option",21),a.qZA(),a._UZ(62,"span",22),a.qZA(),a.TgZ(63,"mat-form-field"),a.TgZ(64,"mat-label"),a._uU(65,"Thu\u1ebf t\u1ea1m \u0111\xf3ng"),a.qZA(),a.TgZ(66,"input",37,38),a.NdJ("input",function(){a.CHM(t);const n=a.MAs(67);return o.getAuto(o.api,n.value)}),a.qZA(),a.TgZ(68,"mat-autocomplete",19,39),a.YNc(70,L,2,2,"mat-option",21),a.qZA(),a._UZ(71,"span",22),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(72,"div",40),a.TgZ(73,"button",41),a.NdJ("click",function(){return o.closeModal()}),a.TgZ(74,"mat-icon"),a._uU(75,"close"),a.qZA(),a.qZA(),a.YNc(76,S,3,1,"button",42),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const t=a.MAs(25),n=a.MAs(34),e=a.MAs(43),i=a.MAs(51),c=a.MAs(60),u=a.MAs(69);a.xp6(4),a.Q6J("ngIf",o.filter.length>0),a.xp6(1),a.Q6J("ngIf",o.checkPer(10)),a.xp6(1),a.Q6J("db",o.db)("api",o.api),a.xp6(2),a.Q6J("ngIf",o.items.length+o.filter.length>0),a.xp6(1),a.Q6J("ngIf",o.checkPer(4)),a.xp6(1),a.Q6J("dataJson",o.items),a.xp6(7),a.Q6J("formGroup",o.main),a.xp6(5),a.Q6J("matAutocomplete",t),a.xp6(4),a.Q6J("ngForOf",o.itemsAuto),a.xp6(5),a.Q6J("matAutocomplete",n),a.xp6(4),a.Q6J("ngForOf",o.itemsAuto),a.xp6(5),a.Q6J("matDatepicker",e),a.xp6(4),a.Q6J("for",e),a.xp6(4),a.Q6J("matAutocomplete",i),a.xp6(4),a.Q6J("ngForOf",o.itemsAuto),a.xp6(5),a.Q6J("matAutocomplete",c),a.xp6(4),a.Q6J("ngForOf",o.itemsAuto),a.xp6(5),a.Q6J("matAutocomplete",u),a.xp6(4),a.Q6J("ngForOf",o.itemsAuto),a.xp6(3),a.Q6J("@slideIn",void 0),a.xp6(3),a.Q6J("ngIf",o.checkPer(2)&&o.main.valid)}},directives:[p.lW,m.Hw,g.O5,d.D,h.t,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,f.KE,f.hX,Z.Nt,T.ZL,u.Q7,T.XC,g.sg,f.R9,A.hl,A.Mq,A.nW,b.W,x.y,q.ey],pipes:[g.JJ,v.cf],styles:[""],data:{animation:[r.Ym]}}),t})()}];let E=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[c.Bz.forChild($)],c.Bz]}),t})();var G=n(87841),R=n(85913);let j=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[G.ShareModule,E,R.m,u.UX,i.D,e.q]]}),t})()}}]);